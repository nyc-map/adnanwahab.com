!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="./",e(e.s=6)}([function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],f="[object Arguments]",c="[object Array]",s="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",w="[object WeakMap]",M="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",z="[object Uint8Array]",O="[object Uint16Array]",N="[object Uint32Array]",D=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,B=RegExp(L.source),F=RegExp(R.source),I=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,V=RegExp(G.source),X=/^\s+|\s+$/g,$=/^\s+/,Q=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ft=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,st=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",vt="["+dt+"]",mt="["+ht+"]",gt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="(?:"+bt+"|"+_t+")",St="(?:"+Et+"|"+_t+")",kt="(?:"+mt+"|"+xt+")"+"?",Ct="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[wt,Mt,At].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),zt="(?:"+[yt,Mt,At].join("|")+")"+Ct,Ot="(?:"+[wt+mt+"?",mt,Mt,At,pt].join("|")+")",Nt=RegExp("['’]","g"),Dt=RegExp(mt,"g"),Pt=RegExp(xt+"(?="+xt+")|"+Ot+Ct,"g"),jt=RegExp([Et+"?"+bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Et,"$"].join("|")+")",St+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Et+Tt,"$"].join("|")+")",Et+"?"+Tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,zt].join("|"),"g"),Lt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,It={};It[E]=It[T]=It[S]=It[k]=It[C]=It[z]=It["[object Uint8ClampedArray]"]=It[O]=It[N]=!0,It[f]=It[c]=It[M]=It[s]=It[A]=It[l]=It[h]=It[d]=It[v]=It[m]=It[g]=It[y]=It[b]=It[_]=It[w]=!1;var Ut={};Ut[f]=Ut[c]=Ut[M]=Ut[A]=Ut[s]=Ut[l]=Ut[E]=Ut[T]=Ut[S]=Ut[k]=Ut[C]=Ut[v]=Ut[m]=Ut[g]=Ut[y]=Ut[b]=Ut[_]=Ut[x]=Ut[z]=Ut["[object Uint8ClampedArray]"]=Ut[O]=Ut[N]=!0,Ut[h]=Ut[d]=Ut[w]=!1;var qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Wt=parseInt,Ht="object"==typeof t&&t&&t.Object===Object&&t,Gt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Ht||Gt||Function("return this")(),Xt=n&&!n.nodeType&&n,$t=Xt&&"object"==typeof r&&r&&!r.nodeType&&r,Qt=$t&&$t.exports===Xt,Zt=Qt&&Ht.process,Kt=function(){try{var t=$t&&$t.require&&$t.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Jt=Kt&&Kt.isArrayBuffer,tn=Kt&&Kt.isDate,nn=Kt&&Kt.isMap,en=Kt&&Kt.isRegExp,rn=Kt&&Kt.isSet,on=Kt&&Kt.isTypedArray;function an(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function un(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function fn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function cn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function sn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function ln(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function hn(t,n){return!!(null==t?0:t.length)&&wn(t,n,0)>-1}function dn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function pn(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function vn(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function mn(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function gn(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function yn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var bn=Tn("length");function _n(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function xn(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function wn(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):xn(t,An,e)}function Mn(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function An(t){return t!=t}function En(t,n){var e=null==t?0:t.length;return e?Cn(t,n)/e:NaN}function Tn(t){return function(n){return null==n?void 0:n[t]}}function Sn(t){return function(n){return null==t?void 0:t[n]}}function kn(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function Cn(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);void 0!==o&&(e=void 0===e?o:e+o)}return e}function zn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function On(t){return function(n){return t(n)}}function Nn(t,n){return pn(n,(function(n){return t[n]}))}function Dn(t,n){return t.has(n)}function Pn(t,n){for(var e=-1,r=t.length;++e<r&&wn(n,t[e],0)>-1;);return e}function jn(t,n){for(var e=t.length;e--&&wn(n,t[e],0)>-1;);return e}function Ln(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var Rn=Sn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Bn=Sn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fn(t){return"\\"+qt[t]}function In(t){return Lt.test(t)}function Un(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function qn(t,n){return function(e){return t(n(e))}}function Yn(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==a||(t[e]=a,o[i++]=e)}return o}function Wn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Hn(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function Gn(t){return In(t)?function(t){var n=Pt.lastIndex=0;for(;Pt.test(t);)++n;return n}(t):bn(t)}function Vn(t){return In(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.split("")}(t)}var Xn=Sn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $n=function t(n){var e,r=(n=null==n?Vt:$n.defaults(Vt.Object(),n,$n.pick(Vt,Bt))).Array,i=n.Date,ht=n.Error,dt=n.Function,pt=n.Math,vt=n.Object,mt=n.RegExp,gt=n.String,yt=n.TypeError,bt=r.prototype,_t=dt.prototype,xt=vt.prototype,wt=n["__core-js_shared__"],Mt=_t.toString,At=xt.hasOwnProperty,Et=0,Tt=(e=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",St=xt.toString,kt=Mt.call(vt),Ct=Vt._,zt=mt("^"+Mt.call(At).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=Qt?n.Buffer:void 0,Pt=n.Symbol,Lt=n.Uint8Array,qt=Ot?Ot.allocUnsafe:void 0,Ht=qn(vt.getPrototypeOf,vt),Gt=vt.create,Xt=xt.propertyIsEnumerable,$t=bt.splice,Zt=Pt?Pt.isConcatSpreadable:void 0,Kt=Pt?Pt.iterator:void 0,bn=Pt?Pt.toStringTag:void 0,Sn=function(){try{var t=Ji(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Qn=n.clearTimeout!==Vt.clearTimeout&&n.clearTimeout,Zn=i&&i.now!==Vt.Date.now&&i.now,Kn=n.setTimeout!==Vt.setTimeout&&n.setTimeout,Jn=pt.ceil,te=pt.floor,ne=vt.getOwnPropertySymbols,ee=Ot?Ot.isBuffer:void 0,re=n.isFinite,ie=bt.join,oe=qn(vt.keys,vt),ae=pt.max,ue=pt.min,fe=i.now,ce=n.parseInt,se=pt.random,le=bt.reverse,he=Ji(n,"DataView"),de=Ji(n,"Map"),pe=Ji(n,"Promise"),ve=Ji(n,"Set"),me=Ji(n,"WeakMap"),ge=Ji(vt,"create"),ye=me&&new me,be={},_e=So(he),xe=So(de),we=So(pe),Me=So(ve),Ae=So(me),Ee=Pt?Pt.prototype:void 0,Te=Ee?Ee.valueOf:void 0,Se=Ee?Ee.toString:void 0;function ke(t){if(Wa(t)&&!Da(t)&&!(t instanceof Ne)){if(t instanceof Oe)return t;if(At.call(t,"__wrapped__"))return ko(t)}return new Oe(t)}var Ce=function(){function t(){}return function(n){if(!Ya(n))return{};if(Gt)return Gt(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();function ze(){}function Oe(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=void 0}function Ne(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function De(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Pe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function je(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Le(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new je;++n<e;)this.add(t[n])}function Re(t){var n=this.__data__=new Pe(t);this.size=n.size}function Be(t,n){var e=Da(t),r=!e&&Na(t),i=!e&&!r&&Ra(t),o=!e&&!r&&!i&&Ka(t),a=e||r||i||o,u=a?zn(t.length,gt):[],f=u.length;for(var c in t)!n&&!At.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,f))||u.push(c);return u}function Fe(t){var n=t.length;return n?t[Lr(0,n-1)]:void 0}function Ie(t,n){return Ao(gi(t),$e(n,0,t.length))}function Ue(t){return Ao(gi(t))}function qe(t,n,e){(void 0===e||Ca(t[n],e))&&(void 0!==e||n in t)||Ve(t,n,e)}function Ye(t,n,e){var r=t[n];At.call(t,n)&&Ca(r,e)&&(void 0!==e||n in t)||Ve(t,n,e)}function We(t,n){for(var e=t.length;e--;)if(Ca(t[e][0],n))return e;return-1}function He(t,n,e,r){return tr(t,(function(t,i,o){n(r,t,e(t),o)})),r}function Ge(t,n){return t&&yi(n,_u(n),t)}function Ve(t,n,e){"__proto__"==n&&Sn?Sn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Xe(t,n){for(var e=-1,i=n.length,o=r(i),a=null==t;++e<i;)o[e]=a?void 0:vu(t,n[e]);return o}function $e(t,n,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==n&&(t=t>=n?t:n)),t}function Qe(t,n,e,r,i,o){var a,u=1&n,c=2&n,h=4&n;if(e&&(a=i?e(t,r,i,o):e(t)),void 0!==a)return a;if(!Ya(t))return t;var w=Da(t);if(w){if(a=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&At.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!u)return gi(t,a)}else{var D=eo(t),P=D==d||D==p;if(Ra(t))return li(t,u);if(D==g||D==f||P&&!i){if(a=c||P?{}:io(t),!u)return c?function(t,n){return yi(t,no(t),n)}(t,function(t,n){return t&&yi(n,xu(n),t)}(a,t)):function(t,n){return yi(t,to(t),n)}(t,Ge(a,t))}else{if(!Ut[D])return i?t:{};a=function(t,n,e){var r=t.constructor;switch(n){case M:return hi(t);case s:case l:return new r(+t);case A:return function(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case E:case T:case S:case k:case C:case z:case"[object Uint8ClampedArray]":case O:case N:return di(t,e);case v:return new r;case m:case _:return new r(t);case y:return function(t){var n=new t.constructor(t.source,rt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case b:return new r;case x:return i=t,Te?vt(Te.call(i)):{}}var i}(t,D,u)}}o||(o=new Re);var j=o.get(t);if(j)return j;o.set(t,a),$a(t)?t.forEach((function(r){a.add(Qe(r,n,e,r,t,o))})):Ha(t)&&t.forEach((function(r,i){a.set(i,Qe(r,n,e,i,t,o))}));var L=w?void 0:(h?c?Gi:Hi:c?xu:_u)(t);return fn(L||t,(function(r,i){L&&(r=t[i=r]),Ye(a,i,Qe(r,n,e,i,t,o))})),a}function Ze(t,n,e){var r=e.length;if(null==t)return!r;for(t=vt(t);r--;){var i=e[r],o=n[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Ke(t,n,e){if("function"!=typeof t)throw new yt(o);return _o((function(){t.apply(void 0,e)}),n)}function Je(t,n,e,r){var i=-1,o=hn,a=!0,u=t.length,f=[],c=n.length;if(!u)return f;e&&(n=pn(n,On(e))),r?(o=dn,a=!1):n.length>=200&&(o=Dn,a=!1,n=new Le(n));t:for(;++i<u;){var s=t[i],l=null==e?s:e(s);if(s=r||0!==s?s:0,a&&l==l){for(var h=c;h--;)if(n[h]===l)continue t;f.push(s)}else o(n,l,r)||f.push(s)}return f}ke.templateSettings={escape:I,evaluate:U,interpolate:q,variable:"",imports:{_:ke}},ke.prototype=ze.prototype,ke.prototype.constructor=ke,Oe.prototype=Ce(ze.prototype),Oe.prototype.constructor=Oe,Ne.prototype=Ce(ze.prototype),Ne.prototype.constructor=Ne,De.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},De.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},De.prototype.get=function(t){var n=this.__data__;if(ge){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return At.call(n,t)?n[t]:void 0},De.prototype.has=function(t){var n=this.__data__;return ge?void 0!==n[t]:At.call(n,t)},De.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ge&&void 0===n?"__lodash_hash_undefined__":n,this},Pe.prototype.clear=function(){this.__data__=[],this.size=0},Pe.prototype.delete=function(t){var n=this.__data__,e=We(n,t);return!(e<0)&&(e==n.length-1?n.pop():$t.call(n,e,1),--this.size,!0)},Pe.prototype.get=function(t){var n=this.__data__,e=We(n,t);return e<0?void 0:n[e][1]},Pe.prototype.has=function(t){return We(this.__data__,t)>-1},Pe.prototype.set=function(t,n){var e=this.__data__,r=We(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},je.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(de||Pe),string:new De}},je.prototype.delete=function(t){var n=Zi(this,t).delete(t);return this.size-=n?1:0,n},je.prototype.get=function(t){return Zi(this,t).get(t)},je.prototype.has=function(t){return Zi(this,t).has(t)},je.prototype.set=function(t,n){var e=Zi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Le.prototype.add=Le.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Le.prototype.has=function(t){return this.__data__.has(t)},Re.prototype.clear=function(){this.__data__=new Pe,this.size=0},Re.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Re.prototype.get=function(t){return this.__data__.get(t)},Re.prototype.has=function(t){return this.__data__.has(t)},Re.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Pe){var r=e.__data__;if(!de||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new je(r)}return e.set(t,n),this.size=e.size,this};var tr=xi(fr),nr=xi(cr,!0);function er(t,n){var e=!0;return tr(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function rr(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(void 0===u?a==a&&!Za(a):e(a,u)))var u=a,f=o}return f}function ir(t,n){var e=[];return tr(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function or(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=oo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?or(u,n-1,e,r,i):vn(i,u):r||(i[i.length]=u)}return i}var ar=wi(),ur=wi(!0);function fr(t,n){return t&&ar(t,n,_u)}function cr(t,n){return t&&ur(t,n,_u)}function sr(t,n){return ln(n,(function(n){return Ia(t[n])}))}function lr(t,n){for(var e=0,r=(n=ui(n,t)).length;null!=t&&e<r;)t=t[To(n[e++])];return e&&e==r?t:void 0}function hr(t,n,e){var r=n(t);return Da(t)?r:vn(r,e(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":bn&&bn in vt(t)?function(t){var n=At.call(t,bn),e=t[bn];try{t[bn]=void 0;var r=!0}catch(t){}var i=St.call(t);r&&(n?t[bn]=e:delete t[bn]);return i}(t):function(t){return St.call(t)}(t)}function pr(t,n){return t>n}function vr(t,n){return null!=t&&At.call(t,n)}function mr(t,n){return null!=t&&n in vt(t)}function gr(t,n,e){for(var i=e?dn:hn,o=t[0].length,a=t.length,u=a,f=r(a),c=1/0,s=[];u--;){var l=t[u];u&&n&&(l=pn(l,On(n))),c=ue(l.length,c),f[u]=!e&&(n||o>=120&&l.length>=120)?new Le(u&&l):void 0}l=t[0];var h=-1,d=f[0];t:for(;++h<o&&s.length<c;){var p=l[h],v=n?n(p):p;if(p=e||0!==p?p:0,!(d?Dn(d,v):i(s,v,e))){for(u=a;--u;){var m=f[u];if(!(m?Dn(m,v):i(t[u],v,e)))continue t}d&&d.push(v),s.push(p)}}return s}function yr(t,n,e){var r=null==(t=mo(t,n=ui(n,t)))?t:t[To(Fo(n))];return null==r?void 0:an(r,t,e)}function br(t){return Wa(t)&&dr(t)==f}function _r(t,n,e,r,i){return t===n||(null==t||null==n||!Wa(t)&&!Wa(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var a=Da(t),u=Da(n),d=a?c:eo(t),p=u?c:eo(n),w=(d=d==f?g:d)==g,E=(p=p==f?g:p)==g,T=d==p;if(T&&Ra(t)){if(!Ra(n))return!1;a=!0,w=!1}if(T&&!w)return o||(o=new Re),a||Ka(t)?Yi(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case A:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case M:return!(t.byteLength!=n.byteLength||!o(new Lt(t),new Lt(n)));case s:case l:case m:return Ca(+t,+n);case h:return t.name==n.name&&t.message==n.message;case y:case _:return t==n+"";case v:var u=Un;case b:var f=1&r;if(u||(u=Wn),t.size!=n.size&&!f)return!1;var c=a.get(t);if(c)return c==n;r|=2,a.set(t,n);var d=Yi(u(t),u(n),r,i,o,a);return a.delete(t),d;case x:if(Te)return Te.call(t)==Te.call(n)}return!1}(t,n,d,e,r,i,o);if(!(1&e)){var S=w&&At.call(t,"__wrapped__"),k=E&&At.call(n,"__wrapped__");if(S||k){var C=S?t.value():t,z=k?n.value():n;return o||(o=new Re),i(C,z,e,r,o)}}if(!T)return!1;return o||(o=new Re),function(t,n,e,r,i,o){var a=1&e,u=Hi(t),f=u.length,c=Hi(n).length;if(f!=c&&!a)return!1;var s=f;for(;s--;){var l=u[s];if(!(a?l in n:At.call(n,l)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var d=!0;o.set(t,n),o.set(n,t);var p=a;for(;++s<f;){l=u[s];var v=t[l],m=n[l];if(r)var g=a?r(m,v,l,n,t,o):r(v,m,l,t,n,o);if(!(void 0===g?v===m||i(v,m,e,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=n.constructor;y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(n),d}(t,n,e,r,i,o)}(t,n,e,r,_r,i))}function xr(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var f=(u=e[i])[0],c=t[f],s=u[1];if(a&&u[2]){if(void 0===c&&!(f in t))return!1}else{var l=new Re;if(r)var h=r(c,s,f,t,n,l);if(!(void 0===h?_r(s,c,3,r,l):h))return!1}}return!0}function wr(t){return!(!Ya(t)||(n=t,Tt&&Tt in n))&&(Ia(t)?zt:at).test(So(t));var n}function Mr(t){return"function"==typeof t?t:null==t?Gu:"object"==typeof t?Da(t)?Cr(t[0],t[1]):kr(t):nf(t)}function Ar(t){if(!lo(t))return oe(t);var n=[];for(var e in vt(t))At.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Er(t){if(!Ya(t))return function(t){var n=[];if(null!=t)for(var e in vt(t))n.push(e);return n}(t);var n=lo(t),e=[];for(var r in t)("constructor"!=r||!n&&At.call(t,r))&&e.push(r);return e}function Tr(t,n){return t<n}function Sr(t,n){var e=-1,i=ja(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++e]=n(t,r,o)})),i}function kr(t){var n=Ki(t);return 1==n.length&&n[0][2]?po(n[0][0],n[0][1]):function(e){return e===t||xr(e,t,n)}}function Cr(t,n){return fo(t)&&ho(n)?po(To(t),n):function(e){var r=vu(e,t);return void 0===r&&r===n?mu(e,t):_r(n,r,3)}}function zr(t,n,e,r,i){t!==n&&ar(n,(function(o,a){if(i||(i=new Re),Ya(o))!function(t,n,e,r,i,o,a){var u=yo(t,e),f=yo(n,e),c=a.get(f);if(c)return void qe(t,e,c);var s=o?o(u,f,e+"",t,n,a):void 0,l=void 0===s;if(l){var h=Da(f),d=!h&&Ra(f),p=!h&&!d&&Ka(f);s=f,h||d||p?Da(u)?s=u:La(u)?s=gi(u):d?(l=!1,s=li(f,!0)):p?(l=!1,s=di(f,!0)):s=[]:Va(f)||Na(f)?(s=u,Na(u)?s=au(u):Ya(u)&&!Ia(u)||(s=io(f))):l=!1}l&&(a.set(f,s),i(s,f,r,o,a),a.delete(f));qe(t,e,s)}(t,n,a,e,zr,r,i);else{var u=r?r(yo(t,a),o,a+"",t,n,i):void 0;void 0===u&&(u=o),qe(t,a,u)}}),xu)}function Or(t,n){var e=t.length;if(e)return ao(n+=n<0?e:0,e)?t[n]:void 0}function Nr(t,n,e){var r=-1;return n=pn(n.length?n:[Gu],On(Qi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Sr(t,(function(t,e,i){return{criteria:pn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var f=pi(i[r],o[r]);if(f){if(r>=u)return f;var c=e[r];return f*("desc"==c?-1:1)}}return t.index-n.index}(t,n,e)}))}function Dr(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=lr(t,a);e(u,a)&&Ur(o,ui(a,t),u)}return o}function Pr(t,n,e,r){var i=r?Mn:wn,o=-1,a=n.length,u=t;for(t===n&&(n=gi(n)),e&&(u=pn(t,On(e)));++o<a;)for(var f=0,c=n[o],s=e?e(c):c;(f=i(u,s,f,r))>-1;)u!==t&&$t.call(u,f,1),$t.call(t,f,1);return t}function jr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;ao(i)?$t.call(t,i,1):Jr(t,i)}}return t}function Lr(t,n){return t+te(se()*(n-t+1))}function Rr(t,n){var e="";if(!t||n<1||n>9007199254740991)return e;do{n%2&&(e+=t),(n=te(n/2))&&(t+=t)}while(n);return e}function Br(t,n){return xo(vo(t,n,Gu),t+"")}function Fr(t){return Fe(Cu(t))}function Ir(t,n){var e=Cu(t);return Ao(e,$e(n,0,e.length))}function Ur(t,n,e,r){if(!Ya(t))return t;for(var i=-1,o=(n=ui(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var f=To(n[i]),c=e;if(i!=a){var s=u[f];void 0===(c=r?r(s,f,u):void 0)&&(c=Ya(s)?s:ao(n[i+1])?[]:{})}Ye(u,f,c),u=u[f]}return t}var qr=ye?function(t,n){return ye.set(t,n),t}:Gu,Yr=Sn?function(t,n){return Sn(t,"toString",{configurable:!0,enumerable:!1,value:Yu(n),writable:!0})}:Gu;function Wr(t){return Ao(Cu(t))}function Hr(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+n];return a}function Gr(t,n){var e;return tr(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function Vr(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Za(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Xr(t,n,Gu,e)}function Xr(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,a=n!=n,u=null===n,f=Za(n),c=void 0===n;i<o;){var s=te((i+o)/2),l=e(t[s]),h=void 0!==l,d=null===l,p=l==l,v=Za(l);if(a)var m=r||p;else m=c?p&&(r||h):u?p&&h&&(r||!d):f?p&&h&&!d&&(r||!v):!d&&!v&&(r?l<=n:l<n);m?i=s+1:o=s}return ue(o,4294967294)}function $r(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Ca(u,f)){var f=u;o[i++]=0===a?0:a}}return o}function Qr(t){return"number"==typeof t?t:Za(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Da(t))return pn(t,Zr)+"";if(Za(t))return Se?Se.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Kr(t,n,e){var r=-1,i=hn,o=t.length,a=!0,u=[],f=u;if(e)a=!1,i=dn;else if(o>=200){var c=n?null:Ri(t);if(c)return Wn(c);a=!1,i=Dn,f=new Le}else f=n?[]:u;t:for(;++r<o;){var s=t[r],l=n?n(s):s;if(s=e||0!==s?s:0,a&&l==l){for(var h=f.length;h--;)if(f[h]===l)continue t;n&&f.push(l),u.push(s)}else i(f,l,e)||(f!==u&&f.push(l),u.push(s))}return u}function Jr(t,n){return null==(t=mo(t,n=ui(n,t)))||delete t[To(Fo(n))]}function ti(t,n,e,r){return Ur(t,n,e(lr(t,n)),r)}function ni(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ei(t,n){var e=t;return e instanceof Ne&&(e=e.value()),mn(n,(function(t,n){return n.func.apply(n.thisArg,vn([t],n.args))}),e)}function ri(t,n,e){var i=t.length;if(i<2)return i?Kr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],f=-1;++f<i;)f!=o&&(a[o]=Je(a[o]||u,t[f],n,e));return Kr(or(a,1),n,e)}function ii(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:void 0;e(a,t[r],u)}return a}function oi(t){return La(t)?t:[]}function ai(t){return"function"==typeof t?t:Gu}function ui(t,n){return Da(t)?t:fo(t,n)?[t]:Eo(uu(t))}var fi=Br;function ci(t,n,e){var r=t.length;return e=void 0===e?r:e,!n&&e>=r?t:Hr(t,n,e)}var si=Qn||function(t){return Vt.clearTimeout(t)};function li(t,n){if(n)return t.slice();var e=t.length,r=qt?qt(e):new t.constructor(e);return t.copy(r),r}function hi(t){var n=new t.constructor(t.byteLength);return new Lt(n).set(new Lt(t)),n}function di(t,n){var e=n?hi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function pi(t,n){if(t!==n){var e=void 0!==t,r=null===t,i=t==t,o=Za(t),a=void 0!==n,u=null===n,f=n==n,c=Za(n);if(!u&&!c&&!o&&t>n||o&&a&&f&&!u&&!c||r&&a&&f||!e&&f||!i)return 1;if(!r&&!o&&!c&&t<n||c&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!f)return-1}return 0}function vi(t,n,e,i){for(var o=-1,a=t.length,u=e.length,f=-1,c=n.length,s=ae(a-u,0),l=r(c+s),h=!i;++f<c;)l[f]=n[f];for(;++o<u;)(h||o<a)&&(l[e[o]]=t[o]);for(;s--;)l[f++]=t[o++];return l}function mi(t,n,e,i){for(var o=-1,a=t.length,u=-1,f=e.length,c=-1,s=n.length,l=ae(a-f,0),h=r(l+s),d=!i;++o<l;)h[o]=t[o];for(var p=o;++c<s;)h[p+c]=n[c];for(;++u<f;)(d||o<a)&&(h[p+e[u]]=t[o++]);return h}function gi(t,n){var e=-1,i=t.length;for(n||(n=r(i));++e<i;)n[e]=t[e];return n}function yi(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var u=n[o],f=r?r(e[u],t[u],u,e,t):void 0;void 0===f&&(f=t[u]),i?Ve(e,u,f):Ye(e,u,f)}return e}function bi(t,n){return function(e,r){var i=Da(e)?un:He,o=n?n():{};return i(e,t,Qi(r,2),o)}}function _i(t){return Br((function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(e[0],e[1],a)&&(o=i<3?void 0:o,i=1),n=vt(n);++r<i;){var u=e[r];u&&t(n,u,r,o)}return n}))}function xi(t,n){return function(e,r){if(null==e)return e;if(!ja(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=vt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function wi(t){return function(n,e,r){for(var i=-1,o=vt(n),a=r(n),u=a.length;u--;){var f=a[t?u:++i];if(!1===e(o[f],f,o))break}return n}}function Mi(t){return function(n){var e=In(n=uu(n))?Vn(n):void 0,r=e?e[0]:n.charAt(0),i=e?ci(e,1).join(""):n.slice(1);return r[t]()+i}}function Ai(t){return function(n){return mn(Iu(Nu(n).replace(Nt,"")),t,"")}}function Ei(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ce(t.prototype),r=t.apply(e,n);return Ya(r)?r:e}}function Ti(t){return function(n,e,r){var i=vt(n);if(!ja(n)){var o=Qi(e,3);n=_u(n),e=function(t){return o(i[t],t,i)}}var a=t(n,e,r);return a>-1?i[o?n[a]:a]:void 0}}function Si(t){return Wi((function(n){var e=n.length,r=e,i=Oe.prototype.thru;for(t&&n.reverse();r--;){var a=n[r];if("function"!=typeof a)throw new yt(o);if(i&&!u&&"wrapper"==Xi(a))var u=new Oe([],!0)}for(r=u?r:e;++r<e;){var f=Xi(a=n[r]),c="wrapper"==f?Vi(a):void 0;u=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Xi(c[0])].apply(u,c[3]):1==a.length&&co(a)?u[f]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Da(r))return u.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}}))}function ki(t,n,e,i,o,a,u,f,c,s){var l=128&n,h=1&n,d=2&n,p=24&n,v=512&n,m=d?void 0:Ei(t);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var x=$i(g),w=Ln(b,x);if(i&&(b=vi(b,i,o,p)),a&&(b=mi(b,a,u,p)),y-=w,p&&y<s){var M=Yn(b,x);return ji(t,n,ki,g.placeholder,e,b,M,f,c,s-y)}var A=h?e:this,E=d?A[t]:t;return y=b.length,f?b=go(b,f):v&&y>1&&b.reverse(),l&&c<y&&(b.length=c),this&&this!==Vt&&this instanceof g&&(E=m||Ei(E)),E.apply(A,b)}}function Ci(t,n){return function(e,r){return function(t,n,e,r){return fr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function zi(t,n){return function(e,r){var i;if(void 0===e&&void 0===r)return n;if(void 0!==e&&(i=e),void 0!==r){if(void 0===i)return r;"string"==typeof e||"string"==typeof r?(e=Zr(e),r=Zr(r)):(e=Qr(e),r=Qr(r)),i=t(e,r)}return i}}function Oi(t){return Wi((function(n){return n=pn(n,On(Qi())),Br((function(e){var r=this;return t(n,(function(t){return an(t,r,e)}))}))}))}function Ni(t,n){var e=(n=void 0===n?" ":Zr(n)).length;if(e<2)return e?Rr(n,t):n;var r=Rr(n,Jn(t/Gn(n)));return In(n)?ci(Vn(r),0,t).join(""):r.slice(0,t)}function Di(t){return function(n,e,i){return i&&"number"!=typeof i&&uo(n,e,i)&&(e=i=void 0),n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e,i){for(var o=-1,a=ae(Jn((n-t)/(e||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=e;return u}(n,e,i=void 0===i?n<e?1:-1:eu(i),t)}}function Pi(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=ou(n),e=ou(e)),t(n,e)}}function ji(t,n,e,r,i,o,a,u,f,c){var s=8&n;n|=s?32:64,4&(n&=~(s?64:32))||(n&=-4);var l=[t,n,i,s?o:void 0,s?a:void 0,s?void 0:o,s?void 0:a,u,f,c],h=e.apply(void 0,l);return co(t)&&bo(h,l),h.placeholder=r,wo(h,t,n)}function Li(t){var n=pt[t];return function(t,e){if(t=ou(t),(e=null==e?0:ue(ru(e),292))&&re(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Ri=ve&&1/Wn(new ve([,-0]))[1]==1/0?function(t){return new ve(t)}:Zu;function Bi(t){return function(n){var e=eo(n);return e==v?Un(n):e==b?Hn(n):function(t,n){return pn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function Fi(t,n,e,i,u,f,c,s){var l=2&n;if(!l&&"function"!=typeof t)throw new yt(o);var h=i?i.length:0;if(h||(n&=-97,i=u=void 0),c=void 0===c?c:ae(ru(c),0),s=void 0===s?s:ru(s),h-=u?u.length:0,64&n){var d=i,p=u;i=u=void 0}var v=l?void 0:Vi(t),m=[t,n,e,i,u,d,p,f,c,s];if(v&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,u=128==r&&8==e||128==r&&256==e&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!o&&!u)return t;1&r&&(t[2]=n[2],i|=1&e?0:4);var f=n[3];if(f){var c=t[3];t[3]=c?vi(c,f,n[4]):f,t[4]=c?Yn(t[3],a):n[4]}(f=n[5])&&(c=t[5],t[5]=c?mi(c,f,n[6]):f,t[6]=c?Yn(t[5],a):n[6]);(f=n[7])&&(t[7]=f);128&r&&(t[8]=null==t[8]?n[8]:ue(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(m,v),t=m[0],n=m[1],e=m[2],i=m[3],u=m[4],!(s=m[9]=void 0===m[9]?l?0:t.length:ae(m[9]-h,0))&&24&n&&(n&=-25),n&&1!=n)g=8==n||16==n?function(t,n,e){var i=Ei(t);return function o(){for(var a=arguments.length,u=r(a),f=a,c=$i(o);f--;)u[f]=arguments[f];var s=a<3&&u[0]!==c&&u[a-1]!==c?[]:Yn(u,c);if((a-=s.length)<e)return ji(t,n,ki,o.placeholder,void 0,u,s,void 0,void 0,e-a);var l=this&&this!==Vt&&this instanceof o?i:t;return an(l,this,u)}}(t,n,s):32!=n&&33!=n||u.length?ki.apply(void 0,m):function(t,n,e,i){var o=1&n,a=Ei(t);return function n(){for(var u=-1,f=arguments.length,c=-1,s=i.length,l=r(s+f),h=this&&this!==Vt&&this instanceof n?a:t;++c<s;)l[c]=i[c];for(;f--;)l[c++]=arguments[++u];return an(h,o?e:this,l)}}(t,n,e,i);else var g=function(t,n,e){var r=1&n,i=Ei(t);return function n(){var o=this&&this!==Vt&&this instanceof n?i:t;return o.apply(r?e:this,arguments)}}(t,n,e);return wo((v?qr:bo)(g,m),t,n)}function Ii(t,n,e,r){return void 0===t||Ca(t,xt[e])&&!At.call(r,e)?n:t}function Ui(t,n,e,r,i,o){return Ya(t)&&Ya(n)&&(o.set(n,t),zr(t,n,void 0,Ui,o),o.delete(n)),t}function qi(t){return Va(t)?void 0:t}function Yi(t,n,e,r,i,o){var a=1&e,u=t.length,f=n.length;if(u!=f&&!(a&&f>u))return!1;var c=o.get(t);if(c&&o.get(n))return c==n;var s=-1,l=!0,h=2&e?new Le:void 0;for(o.set(t,n),o.set(n,t);++s<u;){var d=t[s],p=n[s];if(r)var v=a?r(p,d,s,n,t,o):r(d,p,s,t,n,o);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!yn(n,(function(t,n){if(!Dn(h,n)&&(d===t||i(d,t,e,r,o)))return h.push(n)}))){l=!1;break}}else if(d!==p&&!i(d,p,e,r,o)){l=!1;break}}return o.delete(t),o.delete(n),l}function Wi(t){return xo(vo(t,void 0,Po),t+"")}function Hi(t){return hr(t,_u,to)}function Gi(t){return hr(t,xu,no)}var Vi=ye?function(t){return ye.get(t)}:Zu;function Xi(t){for(var n=t.name+"",e=be[n],r=At.call(be,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function $i(t){return(At.call(ke,"placeholder")?ke:t).placeholder}function Qi(){var t=ke.iteratee||Vu;return t=t===Vu?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function Ki(t){for(var n=_u(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,ho(i)]}return n}function Ji(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return wr(e)?e:void 0}var to=ne?function(t){return null==t?[]:(t=vt(t),ln(ne(t),(function(n){return Xt.call(t,n)})))}:of,no=ne?function(t){for(var n=[];t;)vn(n,to(t)),t=Ht(t);return n}:of,eo=dr;function ro(t,n,e){for(var r=-1,i=(n=ui(n,t)).length,o=!1;++r<i;){var a=To(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&qa(i)&&ao(a,i)&&(Da(t)||Na(t))}function io(t){return"function"!=typeof t.constructor||lo(t)?{}:Ce(Ht(t))}function oo(t){return Da(t)||Na(t)||!!(Zt&&t&&t[Zt])}function ao(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&ft.test(t))&&t>-1&&t%1==0&&t<n}function uo(t,n,e){if(!Ya(e))return!1;var r=typeof n;return!!("number"==r?ja(e)&&ao(n,e.length):"string"==r&&n in e)&&Ca(e[n],t)}function fo(t,n){if(Da(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Za(t))||(W.test(t)||!Y.test(t)||null!=n&&t in vt(n))}function co(t){var n=Xi(t),e=ke[n];if("function"!=typeof e||!(n in Ne.prototype))return!1;if(t===e)return!0;var r=Vi(e);return!!r&&t===r[0]}(he&&eo(new he(new ArrayBuffer(1)))!=A||de&&eo(new de)!=v||pe&&"[object Promise]"!=eo(pe.resolve())||ve&&eo(new ve)!=b||me&&eo(new me)!=w)&&(eo=function(t){var n=dr(t),e=n==g?t.constructor:void 0,r=e?So(e):"";if(r)switch(r){case _e:return A;case xe:return v;case we:return"[object Promise]";case Me:return b;case Ae:return w}return n});var so=wt?Ia:af;function lo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||xt)}function ho(t){return t==t&&!Ya(t)}function po(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in vt(e)))}}function vo(t,n,e){return n=ae(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=ae(i.length-n,0),u=r(a);++o<a;)u[o]=i[n+o];o=-1;for(var f=r(n+1);++o<n;)f[o]=i[o];return f[n]=e(u),an(t,this,f)}}function mo(t,n){return n.length<2?t:lr(t,Hr(n,0,-1))}function go(t,n){for(var e=t.length,r=ue(n.length,e),i=gi(t);r--;){var o=n[r];t[r]=ao(o,e)?i[o]:void 0}return t}function yo(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var bo=Mo(qr),_o=Kn||function(t,n){return Vt.setTimeout(t,n)},xo=Mo(Yr);function wo(t,n,e){var r=n+"";return xo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return fn(u,(function(e){var r="_."+e[0];n&e[1]&&!hn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(K);return n?n[1].split(J):[]}(r),e)))}function Mo(t){var n=0,e=0;return function(){var r=fe(),i=16-(r-e);if(e=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function Ao(t,n){var e=-1,r=t.length,i=r-1;for(n=void 0===n?r:n;++e<n;){var o=Lr(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var Eo=function(t){var n=Ma(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(H,(function(t,e,r,i){n.push(r?i.replace(nt,"$1"):e||t)})),n}));function To(t){if("string"==typeof t||Za(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function So(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ko(t){if(t instanceof Ne)return t.clone();var n=new Oe(t.__wrapped__,t.__chain__);return n.__actions__=gi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Co=Br((function(t,n){return La(t)?Je(t,or(n,1,La,!0)):[]})),zo=Br((function(t,n){var e=Fo(n);return La(e)&&(e=void 0),La(t)?Je(t,or(n,1,La,!0),Qi(e,2)):[]})),Oo=Br((function(t,n){var e=Fo(n);return La(e)&&(e=void 0),La(t)?Je(t,or(n,1,La,!0),void 0,e):[]}));function No(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),xn(t,Qi(n,3),i)}function Do(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==e&&(i=ru(e),i=e<0?ae(r+i,0):ue(i,r-1)),xn(t,Qi(n,3),i,!0)}function Po(t){return(null==t?0:t.length)?or(t,1):[]}function jo(t){return t&&t.length?t[0]:void 0}var Lo=Br((function(t){var n=pn(t,oi);return n.length&&n[0]===t[0]?gr(n):[]})),Ro=Br((function(t){var n=Fo(t),e=pn(t,oi);return n===Fo(e)?n=void 0:e.pop(),e.length&&e[0]===t[0]?gr(e,Qi(n,2)):[]})),Bo=Br((function(t){var n=Fo(t),e=pn(t,oi);return(n="function"==typeof n?n:void 0)&&e.pop(),e.length&&e[0]===t[0]?gr(e,void 0,n):[]}));function Fo(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}var Io=Br(Uo);function Uo(t,n){return t&&t.length&&n&&n.length?Pr(t,n):t}var qo=Wi((function(t,n){var e=null==t?0:t.length,r=Xe(t,n);return jr(t,pn(n,(function(t){return ao(t,e)?+t:t})).sort(pi)),r}));function Yo(t){return null==t?t:le.call(t)}var Wo=Br((function(t){return Kr(or(t,1,La,!0))})),Ho=Br((function(t){var n=Fo(t);return La(n)&&(n=void 0),Kr(or(t,1,La,!0),Qi(n,2))})),Go=Br((function(t){var n=Fo(t);return n="function"==typeof n?n:void 0,Kr(or(t,1,La,!0),void 0,n)}));function Vo(t){if(!t||!t.length)return[];var n=0;return t=ln(t,(function(t){if(La(t))return n=ae(t.length,n),!0})),zn(n,(function(n){return pn(t,Tn(n))}))}function Xo(t,n){if(!t||!t.length)return[];var e=Vo(t);return null==n?e:pn(e,(function(t){return an(n,void 0,t)}))}var $o=Br((function(t,n){return La(t)?Je(t,n):[]})),Qo=Br((function(t){return ri(ln(t,La))})),Zo=Br((function(t){var n=Fo(t);return La(n)&&(n=void 0),ri(ln(t,La),Qi(n,2))})),Ko=Br((function(t){var n=Fo(t);return n="function"==typeof n?n:void 0,ri(ln(t,La),void 0,n)})),Jo=Br(Vo);var ta=Br((function(t){var n=t.length,e=n>1?t[n-1]:void 0;return e="function"==typeof e?(t.pop(),e):void 0,Xo(t,e)}));function na(t){var n=ke(t);return n.__chain__=!0,n}function ea(t,n){return n(t)}var ra=Wi((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return Xe(n,t)};return!(n>1||this.__actions__.length)&&r instanceof Ne&&ao(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new Oe(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,n,e){At.call(t,e)?++t[e]:Ve(t,e,1)}));var oa=Ti(No),aa=Ti(Do);function ua(t,n){return(Da(t)?fn:tr)(t,Qi(n,3))}function fa(t,n){return(Da(t)?cn:nr)(t,Qi(n,3))}var ca=bi((function(t,n,e){At.call(t,e)?t[e].push(n):Ve(t,e,[n])}));var sa=Br((function(t,n,e){var i=-1,o="function"==typeof n,a=ja(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?an(n,t,e):yr(t,n,e)})),a})),la=bi((function(t,n,e){Ve(t,e,n)}));function ha(t,n){return(Da(t)?pn:Sr)(t,Qi(n,3))}var da=bi((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var pa=Br((function(t,n){if(null==t)return[];var e=n.length;return e>1&&uo(t,n[0],n[1])?n=[]:e>2&&uo(n[0],n[1],n[2])&&(n=[n[0]]),Nr(t,or(n,1),[])})),va=Zn||function(){return Vt.Date.now()};function ma(t,n,e){return n=e?void 0:n,Fi(t,128,void 0,void 0,void 0,void 0,n=t&&null==n?t.length:n)}function ga(t,n){var e;if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=void 0),e}}var ya=Br((function(t,n,e){var r=1;if(e.length){var i=Yn(e,$i(ya));r|=32}return Fi(t,r,n,e,i)})),ba=Br((function(t,n,e){var r=3;if(e.length){var i=Yn(e,$i(ba));r|=32}return Fi(n,r,t,e,i)}));function _a(t,n,e){var r,i,a,u,f,c,s=0,l=!1,h=!1,d=!0;if("function"!=typeof t)throw new yt(o);function p(n){var e=r,o=i;return r=i=void 0,s=n,u=t.apply(o,e)}function v(t){return s=t,f=_o(g,n),l?p(t):u}function m(t){var e=t-c;return void 0===c||e>=n||e<0||h&&t-s>=a}function g(){var t=va();if(m(t))return y(t);f=_o(g,function(t){var e=n-(t-c);return h?ue(e,a-(t-s)):e}(t))}function y(t){return f=void 0,d&&r?p(t):(r=i=void 0,u)}function b(){var t=va(),e=m(t);if(r=arguments,i=this,c=t,e){if(void 0===f)return v(c);if(h)return si(f),f=_o(g,n),p(c)}return void 0===f&&(f=_o(g,n)),u}return n=ou(n)||0,Ya(e)&&(l=!!e.leading,a=(h="maxWait"in e)?ae(ou(e.maxWait)||0,n):a,d="trailing"in e?!!e.trailing:d),b.cancel=function(){void 0!==f&&si(f),s=0,r=c=i=f=void 0},b.flush=function(){return void 0===f?u:y(va())},b}var xa=Br((function(t,n){return Ke(t,1,n)})),wa=Br((function(t,n,e){return Ke(t,ou(n)||0,e)}));function Ma(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new yt(o);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(Ma.Cache||je),e}function Aa(t){if("function"!=typeof t)throw new yt(o);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ma.Cache=je;var Ea=fi((function(t,n){var e=(n=1==n.length&&Da(n[0])?pn(n[0],On(Qi())):pn(or(n,1),On(Qi()))).length;return Br((function(r){for(var i=-1,o=ue(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return an(t,this,r)}))})),Ta=Br((function(t,n){return Fi(t,32,void 0,n,Yn(n,$i(Ta)))})),Sa=Br((function(t,n){return Fi(t,64,void 0,n,Yn(n,$i(Sa)))})),ka=Wi((function(t,n){return Fi(t,256,void 0,void 0,void 0,n)}));function Ca(t,n){return t===n||t!=t&&n!=n}var za=Pi(pr),Oa=Pi((function(t,n){return t>=n})),Na=br(function(){return arguments}())?br:function(t){return Wa(t)&&At.call(t,"callee")&&!Xt.call(t,"callee")},Da=r.isArray,Pa=Jt?On(Jt):function(t){return Wa(t)&&dr(t)==M};function ja(t){return null!=t&&qa(t.length)&&!Ia(t)}function La(t){return Wa(t)&&ja(t)}var Ra=ee||af,Ba=tn?On(tn):function(t){return Wa(t)&&dr(t)==l};function Fa(t){if(!Wa(t))return!1;var n=dr(t);return n==h||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Ia(t){if(!Ya(t))return!1;var n=dr(t);return n==d||n==p||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ua(t){return"number"==typeof t&&t==ru(t)}function qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ya(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Wa(t){return null!=t&&"object"==typeof t}var Ha=nn?On(nn):function(t){return Wa(t)&&eo(t)==v};function Ga(t){return"number"==typeof t||Wa(t)&&dr(t)==m}function Va(t){if(!Wa(t)||dr(t)!=g)return!1;var n=Ht(t);if(null===n)return!0;var e=At.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Mt.call(e)==kt}var Xa=en?On(en):function(t){return Wa(t)&&dr(t)==y};var $a=rn?On(rn):function(t){return Wa(t)&&eo(t)==b};function Qa(t){return"string"==typeof t||!Da(t)&&Wa(t)&&dr(t)==_}function Za(t){return"symbol"==typeof t||Wa(t)&&dr(t)==x}var Ka=on?On(on):function(t){return Wa(t)&&qa(t.length)&&!!It[dr(t)]};var Ja=Pi(Tr),tu=Pi((function(t,n){return t<=n}));function nu(t){if(!t)return[];if(ja(t))return Qa(t)?Vn(t):gi(t);if(Kt&&t[Kt])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Kt]());var n=eo(t);return(n==v?Un:n==b?Wn:Cu)(t)}function eu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var n=eu(t),e=n%1;return n==n?e?n-e:n:0}function iu(t){return t?$e(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Za(t))return NaN;if(Ya(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ya(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(X,"");var e=ot.test(t);return e||ut.test(t)?Wt(t.slice(2),e?2:8):it.test(t)?NaN:+t}function au(t){return yi(t,xu(t))}function uu(t){return null==t?"":Zr(t)}var fu=_i((function(t,n){if(lo(n)||ja(n))yi(n,_u(n),t);else for(var e in n)At.call(n,e)&&Ye(t,e,n[e])})),cu=_i((function(t,n){yi(n,xu(n),t)})),su=_i((function(t,n,e,r){yi(n,xu(n),t,r)})),lu=_i((function(t,n,e,r){yi(n,_u(n),t,r)})),hu=Wi(Xe);var du=Br((function(t,n){t=vt(t);var e=-1,r=n.length,i=r>2?n[2]:void 0;for(i&&uo(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=xu(o),u=-1,f=a.length;++u<f;){var c=a[u],s=t[c];(void 0===s||Ca(s,xt[c])&&!At.call(t,c))&&(t[c]=o[c])}return t})),pu=Br((function(t){return t.push(void 0,Ui),an(Mu,void 0,t)}));function vu(t,n,e){var r=null==t?void 0:lr(t,n);return void 0===r?e:r}function mu(t,n){return null!=t&&ro(t,n,mr)}var gu=Ci((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=St.call(n)),t[n]=e}),Yu(Gu)),yu=Ci((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=St.call(n)),At.call(t,n)?t[n].push(e):t[n]=[e]}),Qi),bu=Br(yr);function _u(t){return ja(t)?Be(t):Ar(t)}function xu(t){return ja(t)?Be(t,!0):Er(t)}var wu=_i((function(t,n,e){zr(t,n,e)})),Mu=_i((function(t,n,e,r){zr(t,n,e,r)})),Au=Wi((function(t,n){var e={};if(null==t)return e;var r=!1;n=pn(n,(function(n){return n=ui(n,t),r||(r=n.length>1),n})),yi(t,Gi(t),e),r&&(e=Qe(e,7,qi));for(var i=n.length;i--;)Jr(e,n[i]);return e}));var Eu=Wi((function(t,n){return null==t?{}:function(t,n){return Dr(t,n,(function(n,e){return mu(t,e)}))}(t,n)}));function Tu(t,n){if(null==t)return{};var e=pn(Gi(t),(function(t){return[t]}));return n=Qi(n),Dr(t,e,(function(t,e){return n(t,e[0])}))}var Su=Bi(_u),ku=Bi(xu);function Cu(t){return null==t?[]:Nn(t,_u(t))}var zu=Ai((function(t,n,e){return n=n.toLowerCase(),t+(e?Ou(n):n)}));function Ou(t){return Fu(uu(t).toLowerCase())}function Nu(t){return(t=uu(t))&&t.replace(ct,Rn).replace(Dt,"")}var Du=Ai((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Pu=Ai((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),ju=Mi("toLowerCase");var Lu=Ai((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Ru=Ai((function(t,n,e){return t+(e?" ":"")+Fu(n)}));var Bu=Ai((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Fu=Mi("toUpperCase");function Iu(t,n,e){return t=uu(t),void 0===(n=e?void 0:n)?function(t){return Rt.test(t)}(t)?function(t){return t.match(jt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(n)||[]}var Uu=Br((function(t,n){try{return an(t,void 0,n)}catch(t){return Fa(t)?t:new ht(t)}})),qu=Wi((function(t,n){return fn(n,(function(n){n=To(n),Ve(t,n,ya(t[n],t))})),t}));function Yu(t){return function(){return t}}var Wu=Si(),Hu=Si(!0);function Gu(t){return t}function Vu(t){return Mr("function"==typeof t?t:Qe(t,1))}var Xu=Br((function(t,n){return function(e){return yr(e,t,n)}})),$u=Br((function(t,n){return function(e){return yr(t,e,n)}}));function Qu(t,n,e){var r=_u(n),i=sr(n,r);null!=e||Ya(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=sr(n,_u(n)));var o=!(Ya(e)&&"chain"in e&&!e.chain),a=Ia(t);return fn(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,vn([this.value()],arguments))})})),t}function Zu(){}var Ku=Oi(pn),Ju=Oi(sn),tf=Oi(yn);function nf(t){return fo(t)?Tn(To(t)):function(t){return function(n){return lr(n,t)}}(t)}var ef=Di(),rf=Di(!0);function of(){return[]}function af(){return!1}var uf=zi((function(t,n){return t+n}),0),ff=Li("ceil"),cf=zi((function(t,n){return t/n}),1),sf=Li("floor");var lf,hf=zi((function(t,n){return t*n}),1),df=Li("round"),pf=zi((function(t,n){return t-n}),0);return ke.after=function(t,n){if("function"!=typeof n)throw new yt(o);return t=ru(t),function(){if(--t<1)return n.apply(this,arguments)}},ke.ary=ma,ke.assign=fu,ke.assignIn=cu,ke.assignInWith=su,ke.assignWith=lu,ke.at=hu,ke.before=ga,ke.bind=ya,ke.bindAll=qu,ke.bindKey=ba,ke.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},ke.chain=na,ke.chunk=function(t,n,e){n=(e?uo(t,n,e):void 0===n)?1:ae(ru(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var o=0,a=0,u=r(Jn(i/n));o<i;)u[a++]=Hr(t,o,o+=n);return u},ke.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},ke.concat=function(){var t=arguments.length;if(!t)return[];for(var n=r(t-1),e=arguments[0],i=t;i--;)n[i-1]=arguments[i];return vn(Da(e)?gi(e):[e],or(n,1))},ke.cond=function(t){var n=null==t?0:t.length,e=Qi();return t=n?pn(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[e(t[0]),t[1]]})):[],Br((function(e){for(var r=-1;++r<n;){var i=t[r];if(an(i[0],this,e))return an(i[1],this,e)}}))},ke.conforms=function(t){return function(t){var n=_u(t);return function(e){return Ze(e,t,n)}}(Qe(t,1))},ke.constant=Yu,ke.countBy=ia,ke.create=function(t,n){var e=Ce(t);return null==n?e:Ge(e,n)},ke.curry=function t(n,e,r){var i=Fi(n,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},ke.curryRight=function t(n,e,r){var i=Fi(n,16,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return i.placeholder=t.placeholder,i},ke.debounce=_a,ke.defaults=du,ke.defaultsDeep=pu,ke.defer=xa,ke.delay=wa,ke.difference=Co,ke.differenceBy=zo,ke.differenceWith=Oo,ke.drop=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,(n=e||void 0===n?1:ru(n))<0?0:n,r):[]},ke.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,0,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n):[]},ke.dropRightWhile=function(t,n){return t&&t.length?ni(t,Qi(n,3),!0,!0):[]},ke.dropWhile=function(t,n){return t&&t.length?ni(t,Qi(n,3),!0):[]},ke.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&uo(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ru(e))<0&&(e=-e>i?0:i+e),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=e>r?0:iu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},ke.filter=function(t,n){return(Da(t)?ln:ir)(t,Qi(n,3))},ke.flatMap=function(t,n){return or(ha(t,n),1)},ke.flatMapDeep=function(t,n){return or(ha(t,n),1/0)},ke.flatMapDepth=function(t,n,e){return e=void 0===e?1:ru(e),or(ha(t,n),e)},ke.flatten=Po,ke.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},ke.flattenDepth=function(t,n){return(null==t?0:t.length)?or(t,n=void 0===n?1:ru(n)):[]},ke.flip=function(t){return Fi(t,512)},ke.flow=Wu,ke.flowRight=Hu,ke.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},ke.functions=function(t){return null==t?[]:sr(t,_u(t))},ke.functionsIn=function(t){return null==t?[]:sr(t,xu(t))},ke.groupBy=ca,ke.initial=function(t){return(null==t?0:t.length)?Hr(t,0,-1):[]},ke.intersection=Lo,ke.intersectionBy=Ro,ke.intersectionWith=Bo,ke.invert=gu,ke.invertBy=yu,ke.invokeMap=sa,ke.iteratee=Vu,ke.keyBy=la,ke.keys=_u,ke.keysIn=xu,ke.map=ha,ke.mapKeys=function(t,n){var e={};return n=Qi(n,3),fr(t,(function(t,r,i){Ve(e,n(t,r,i),t)})),e},ke.mapValues=function(t,n){var e={};return n=Qi(n,3),fr(t,(function(t,r,i){Ve(e,r,n(t,r,i))})),e},ke.matches=function(t){return kr(Qe(t,1))},ke.matchesProperty=function(t,n){return Cr(t,Qe(n,1))},ke.memoize=Ma,ke.merge=wu,ke.mergeWith=Mu,ke.method=Xu,ke.methodOf=$u,ke.mixin=Qu,ke.negate=Aa,ke.nthArg=function(t){return t=ru(t),Br((function(n){return Or(n,t)}))},ke.omit=Au,ke.omitBy=function(t,n){return Tu(t,Aa(Qi(n)))},ke.once=function(t){return ga(2,t)},ke.orderBy=function(t,n,e,r){return null==t?[]:(Da(n)||(n=null==n?[]:[n]),Da(e=r?void 0:e)||(e=null==e?[]:[e]),Nr(t,n,e))},ke.over=Ku,ke.overArgs=Ea,ke.overEvery=Ju,ke.overSome=tf,ke.partial=Ta,ke.partialRight=Sa,ke.partition=da,ke.pick=Eu,ke.pickBy=Tu,ke.property=nf,ke.propertyOf=function(t){return function(n){return null==t?void 0:lr(t,n)}},ke.pull=Io,ke.pullAll=Uo,ke.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Pr(t,n,Qi(e,2)):t},ke.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Pr(t,n,void 0,e):t},ke.pullAt=qo,ke.range=ef,ke.rangeRight=rf,ke.rearg=ka,ke.reject=function(t,n){return(Da(t)?ln:ir)(t,Aa(Qi(n,3)))},ke.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Qi(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return jr(t,i),e},ke.rest=function(t,n){if("function"!=typeof t)throw new yt(o);return Br(t,n=void 0===n?n:ru(n))},ke.reverse=Yo,ke.sampleSize=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),(Da(t)?Ie:Ir)(t,n)},ke.set=function(t,n,e){return null==t?t:Ur(t,n,e)},ke.setWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:Ur(t,n,e,r)},ke.shuffle=function(t){return(Da(t)?Ue:Wr)(t)},ke.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&uo(t,n,e)?(n=0,e=r):(n=null==n?0:ru(n),e=void 0===e?r:ru(e)),Hr(t,n,e)):[]},ke.sortBy=pa,ke.sortedUniq=function(t){return t&&t.length?$r(t):[]},ke.sortedUniqBy=function(t,n){return t&&t.length?$r(t,Qi(n,2)):[]},ke.split=function(t,n,e){return e&&"number"!=typeof e&&uo(t,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(t=uu(t))&&("string"==typeof n||null!=n&&!Xa(n))&&!(n=Zr(n))&&In(t)?ci(Vn(t),0,e):t.split(n,e):[]},ke.spread=function(t,n){if("function"!=typeof t)throw new yt(o);return n=null==n?0:ae(ru(n),0),Br((function(e){var r=e[n],i=ci(e,0,n);return r&&vn(i,r),an(t,this,i)}))},ke.tail=function(t){var n=null==t?0:t.length;return n?Hr(t,1,n):[]},ke.take=function(t,n,e){return t&&t.length?Hr(t,0,(n=e||void 0===n?1:ru(n))<0?0:n):[]},ke.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Hr(t,(n=r-(n=e||void 0===n?1:ru(n)))<0?0:n,r):[]},ke.takeRightWhile=function(t,n){return t&&t.length?ni(t,Qi(n,3),!1,!0):[]},ke.takeWhile=function(t,n){return t&&t.length?ni(t,Qi(n,3)):[]},ke.tap=function(t,n){return n(t),t},ke.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return Ya(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),_a(t,n,{leading:r,maxWait:n,trailing:i})},ke.thru=ea,ke.toArray=nu,ke.toPairs=Su,ke.toPairsIn=ku,ke.toPath=function(t){return Da(t)?pn(t,To):Za(t)?[t]:gi(Eo(uu(t)))},ke.toPlainObject=au,ke.transform=function(t,n,e){var r=Da(t),i=r||Ra(t)||Ka(t);if(n=Qi(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Ya(t)&&Ia(o)?Ce(Ht(t)):{}}return(i?fn:fr)(t,(function(t,r,i){return n(e,t,r,i)})),e},ke.unary=function(t){return ma(t,1)},ke.union=Wo,ke.unionBy=Ho,ke.unionWith=Go,ke.uniq=function(t){return t&&t.length?Kr(t):[]},ke.uniqBy=function(t,n){return t&&t.length?Kr(t,Qi(n,2)):[]},ke.uniqWith=function(t,n){return n="function"==typeof n?n:void 0,t&&t.length?Kr(t,void 0,n):[]},ke.unset=function(t,n){return null==t||Jr(t,n)},ke.unzip=Vo,ke.unzipWith=Xo,ke.update=function(t,n,e){return null==t?t:ti(t,n,ai(e))},ke.updateWith=function(t,n,e,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,n,ai(e),r)},ke.values=Cu,ke.valuesIn=function(t){return null==t?[]:Nn(t,xu(t))},ke.without=$o,ke.words=Iu,ke.wrap=function(t,n){return Ta(ai(n),t)},ke.xor=Qo,ke.xorBy=Zo,ke.xorWith=Ko,ke.zip=Jo,ke.zipObject=function(t,n){return ii(t||[],n||[],Ye)},ke.zipObjectDeep=function(t,n){return ii(t||[],n||[],Ur)},ke.zipWith=ta,ke.entries=Su,ke.entriesIn=ku,ke.extend=cu,ke.extendWith=su,Qu(ke,ke),ke.add=uf,ke.attempt=Uu,ke.camelCase=zu,ke.capitalize=Ou,ke.ceil=ff,ke.clamp=function(t,n,e){return void 0===e&&(e=n,n=void 0),void 0!==e&&(e=(e=ou(e))==e?e:0),void 0!==n&&(n=(n=ou(n))==n?n:0),$e(ou(t),n,e)},ke.clone=function(t){return Qe(t,4)},ke.cloneDeep=function(t){return Qe(t,5)},ke.cloneDeepWith=function(t,n){return Qe(t,5,n="function"==typeof n?n:void 0)},ke.cloneWith=function(t,n){return Qe(t,4,n="function"==typeof n?n:void 0)},ke.conformsTo=function(t,n){return null==n||Ze(t,n,_u(n))},ke.deburr=Nu,ke.defaultTo=function(t,n){return null==t||t!=t?n:t},ke.divide=cf,ke.endsWith=function(t,n,e){t=uu(t),n=Zr(n);var r=t.length,i=e=void 0===e?r:$e(ru(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},ke.eq=Ca,ke.escape=function(t){return(t=uu(t))&&F.test(t)?t.replace(R,Bn):t},ke.escapeRegExp=function(t){return(t=uu(t))&&V.test(t)?t.replace(G,"\\$&"):t},ke.every=function(t,n,e){var r=Da(t)?sn:er;return e&&uo(t,n,e)&&(n=void 0),r(t,Qi(n,3))},ke.find=oa,ke.findIndex=No,ke.findKey=function(t,n){return _n(t,Qi(n,3),fr)},ke.findLast=aa,ke.findLastIndex=Do,ke.findLastKey=function(t,n){return _n(t,Qi(n,3),cr)},ke.floor=sf,ke.forEach=ua,ke.forEachRight=fa,ke.forIn=function(t,n){return null==t?t:ar(t,Qi(n,3),xu)},ke.forInRight=function(t,n){return null==t?t:ur(t,Qi(n,3),xu)},ke.forOwn=function(t,n){return t&&fr(t,Qi(n,3))},ke.forOwnRight=function(t,n){return t&&cr(t,Qi(n,3))},ke.get=vu,ke.gt=za,ke.gte=Oa,ke.has=function(t,n){return null!=t&&ro(t,n,vr)},ke.hasIn=mu,ke.head=jo,ke.identity=Gu,ke.includes=function(t,n,e,r){t=ja(t)?t:Cu(t),e=e&&!r?ru(e):0;var i=t.length;return e<0&&(e=ae(i+e,0)),Qa(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&wn(t,n,e)>-1},ke.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ru(e);return i<0&&(i=ae(r+i,0)),wn(t,n,i)},ke.inRange=function(t,n,e){return n=eu(n),void 0===e?(e=n,n=0):e=eu(e),function(t,n,e){return t>=ue(n,e)&&t<ae(n,e)}(t=ou(t),n,e)},ke.invoke=bu,ke.isArguments=Na,ke.isArray=Da,ke.isArrayBuffer=Pa,ke.isArrayLike=ja,ke.isArrayLikeObject=La,ke.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&dr(t)==s},ke.isBuffer=Ra,ke.isDate=Ba,ke.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Va(t)},ke.isEmpty=function(t){if(null==t)return!0;if(ja(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||Ra(t)||Ka(t)||Na(t)))return!t.length;var n=eo(t);if(n==v||n==b)return!t.size;if(lo(t))return!Ar(t).length;for(var e in t)if(At.call(t,e))return!1;return!0},ke.isEqual=function(t,n){return _r(t,n)},ke.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:void 0)?e(t,n):void 0;return void 0===r?_r(t,n,void 0,e):!!r},ke.isError=Fa,ke.isFinite=function(t){return"number"==typeof t&&re(t)},ke.isFunction=Ia,ke.isInteger=Ua,ke.isLength=qa,ke.isMap=Ha,ke.isMatch=function(t,n){return t===n||xr(t,n,Ki(n))},ke.isMatchWith=function(t,n,e){return e="function"==typeof e?e:void 0,xr(t,n,Ki(n),e)},ke.isNaN=function(t){return Ga(t)&&t!=+t},ke.isNative=function(t){if(so(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},ke.isNil=function(t){return null==t},ke.isNull=function(t){return null===t},ke.isNumber=Ga,ke.isObject=Ya,ke.isObjectLike=Wa,ke.isPlainObject=Va,ke.isRegExp=Xa,ke.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},ke.isSet=$a,ke.isString=Qa,ke.isSymbol=Za,ke.isTypedArray=Ka,ke.isUndefined=function(t){return void 0===t},ke.isWeakMap=function(t){return Wa(t)&&eo(t)==w},ke.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==dr(t)},ke.join=function(t,n){return null==t?"":ie.call(t,n)},ke.kebabCase=Du,ke.last=Fo,ke.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==e&&(i=(i=ru(e))<0?ae(r+i,0):ue(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):xn(t,An,i,!0)},ke.lowerCase=Pu,ke.lowerFirst=ju,ke.lt=Ja,ke.lte=tu,ke.max=function(t){return t&&t.length?rr(t,Gu,pr):void 0},ke.maxBy=function(t,n){return t&&t.length?rr(t,Qi(n,2),pr):void 0},ke.mean=function(t){return En(t,Gu)},ke.meanBy=function(t,n){return En(t,Qi(n,2))},ke.min=function(t){return t&&t.length?rr(t,Gu,Tr):void 0},ke.minBy=function(t,n){return t&&t.length?rr(t,Qi(n,2),Tr):void 0},ke.stubArray=of,ke.stubFalse=af,ke.stubObject=function(){return{}},ke.stubString=function(){return""},ke.stubTrue=function(){return!0},ke.multiply=hf,ke.nth=function(t,n){return t&&t.length?Or(t,ru(n)):void 0},ke.noConflict=function(){return Vt._===this&&(Vt._=Ct),this},ke.noop=Zu,ke.now=va,ke.pad=function(t,n,e){t=uu(t);var r=(n=ru(n))?Gn(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Ni(te(i),e)+t+Ni(Jn(i),e)},ke.padEnd=function(t,n,e){t=uu(t);var r=(n=ru(n))?Gn(t):0;return n&&r<n?t+Ni(n-r,e):t},ke.padStart=function(t,n,e){t=uu(t);var r=(n=ru(n))?Gn(t):0;return n&&r<n?Ni(n-r,e)+t:t},ke.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),ce(uu(t).replace($,""),n||0)},ke.random=function(t,n,e){if(e&&"boolean"!=typeof e&&uo(t,n,e)&&(n=e=void 0),void 0===e&&("boolean"==typeof n?(e=n,n=void 0):"boolean"==typeof t&&(e=t,t=void 0)),void 0===t&&void 0===n?(t=0,n=1):(t=eu(t),void 0===n?(n=t,t=0):n=eu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=se();return ue(t+i*(n-t+Yt("1e-"+((i+"").length-1))),n)}return Lr(t,n)},ke.reduce=function(t,n,e){var r=Da(t)?mn:kn,i=arguments.length<3;return r(t,Qi(n,4),e,i,tr)},ke.reduceRight=function(t,n,e){var r=Da(t)?gn:kn,i=arguments.length<3;return r(t,Qi(n,4),e,i,nr)},ke.repeat=function(t,n,e){return n=(e?uo(t,n,e):void 0===n)?1:ru(n),Rr(uu(t),n)},ke.replace=function(){var t=arguments,n=uu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},ke.result=function(t,n,e){var r=-1,i=(n=ui(n,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(n[r])];void 0===o&&(r=i,o=e),t=Ia(o)?o.call(t):o}return t},ke.round=df,ke.runInContext=t,ke.sample=function(t){return(Da(t)?Fe:Fr)(t)},ke.size=function(t){if(null==t)return 0;if(ja(t))return Qa(t)?Gn(t):t.length;var n=eo(t);return n==v||n==b?t.size:Ar(t).length},ke.snakeCase=Lu,ke.some=function(t,n,e){var r=Da(t)?yn:Gr;return e&&uo(t,n,e)&&(n=void 0),r(t,Qi(n,3))},ke.sortedIndex=function(t,n){return Vr(t,n)},ke.sortedIndexBy=function(t,n,e){return Xr(t,n,Qi(e,2))},ke.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Vr(t,n);if(r<e&&Ca(t[r],n))return r}return-1},ke.sortedLastIndex=function(t,n){return Vr(t,n,!0)},ke.sortedLastIndexBy=function(t,n,e){return Xr(t,n,Qi(e,2),!0)},ke.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=Vr(t,n,!0)-1;if(Ca(t[e],n))return e}return-1},ke.startCase=Ru,ke.startsWith=function(t,n,e){return t=uu(t),e=null==e?0:$e(ru(e),0,t.length),n=Zr(n),t.slice(e,e+n.length)==n},ke.subtract=pf,ke.sum=function(t){return t&&t.length?Cn(t,Gu):0},ke.sumBy=function(t,n){return t&&t.length?Cn(t,Qi(n,2)):0},ke.template=function(t,n,e){var r=ke.templateSettings;e&&uo(t,n,e)&&(n=void 0),t=uu(t),n=su({},n,r,Ii);var i,o,a=su({},n.imports,r.imports,Ii),u=_u(a),f=Nn(a,u),c=0,s=n.interpolate||st,l="__p += '",h=mt((n.escape||st).source+"|"+s.source+"|"+(s===q?et:st).source+"|"+(n.evaluate||st).source+"|$","g"),d="//# sourceURL="+(At.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(h,(function(n,e,r,a,u,f){return r||(r=a),l+=t.slice(c,f).replace(lt,Fn),e&&(i=!0,l+="' +\n__e("+e+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=f+n.length,n})),l+="';\n";var p=At.call(n,"variable")&&n.variable;p||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(D,""):l).replace(P,"$1").replace(j,"$1;"),l="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Uu((function(){return dt(u,d+"return "+l).apply(void 0,f)}));if(v.source=l,Fa(v))throw v;return v},ke.times=function(t,n){if((t=ru(t))<1||t>9007199254740991)return[];var e=4294967295,r=ue(t,4294967295);t-=4294967295;for(var i=zn(r,n=Qi(n));++e<t;)n(e);return i},ke.toFinite=eu,ke.toInteger=ru,ke.toLength=iu,ke.toLower=function(t){return uu(t).toLowerCase()},ke.toNumber=ou,ke.toSafeInteger=function(t){return t?$e(ru(t),-9007199254740991,9007199254740991):0===t?t:0},ke.toString=uu,ke.toUpper=function(t){return uu(t).toUpperCase()},ke.trim=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(X,"");if(!t||!(n=Zr(n)))return t;var r=Vn(t),i=Vn(n);return ci(r,Pn(r,i),jn(r,i)+1).join("")},ke.trimEnd=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace(Q,"");if(!t||!(n=Zr(n)))return t;var r=Vn(t);return ci(r,0,jn(r,Vn(n))+1).join("")},ke.trimStart=function(t,n,e){if((t=uu(t))&&(e||void 0===n))return t.replace($,"");if(!t||!(n=Zr(n)))return t;var r=Vn(t);return ci(r,Pn(r,Vn(n))).join("")},ke.truncate=function(t,n){var e=30,r="...";if(Ya(n)){var i="separator"in n?n.separator:i;e="length"in n?ru(n.length):e,r="omission"in n?Zr(n.omission):r}var o=(t=uu(t)).length;if(In(t)){var a=Vn(t);o=a.length}if(e>=o)return t;var u=e-Gn(r);if(u<1)return r;var f=a?ci(a,0,u).join(""):t.slice(0,u);if(void 0===i)return f+r;if(a&&(u+=f.length-u),Xa(i)){if(t.slice(u).search(i)){var c,s=f;for(i.global||(i=mt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(s);)var l=c.index;f=f.slice(0,void 0===l?u:l)}}else if(t.indexOf(Zr(i),u)!=u){var h=f.lastIndexOf(i);h>-1&&(f=f.slice(0,h))}return f+r},ke.unescape=function(t){return(t=uu(t))&&B.test(t)?t.replace(L,Xn):t},ke.uniqueId=function(t){var n=++Et;return uu(t)+n},ke.upperCase=Bu,ke.upperFirst=Fu,ke.each=ua,ke.eachRight=fa,ke.first=jo,Qu(ke,(lf={},fr(ke,(function(t,n){At.call(ke.prototype,n)||(lf[n]=t)})),lf),{chain:!1}),ke.VERSION="4.17.15",fn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ke[t].placeholder=ke})),fn(["drop","take"],(function(t,n){Ne.prototype[t]=function(e){e=void 0===e?1:ae(ru(e),0);var r=this.__filtered__&&!n?new Ne(this):this.clone();return r.__filtered__?r.__takeCount__=ue(e,r.__takeCount__):r.__views__.push({size:ue(e,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Ne.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),fn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;Ne.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Qi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),fn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Ne.prototype[t]=function(){return this[e](1).value()[0]}})),fn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Ne.prototype[t]=function(){return this.__filtered__?new Ne(this):this[e](1)}})),Ne.prototype.compact=function(){return this.filter(Gu)},Ne.prototype.find=function(t){return this.filter(t).head()},Ne.prototype.findLast=function(t){return this.reverse().find(t)},Ne.prototype.invokeMap=Br((function(t,n){return"function"==typeof t?new Ne(this):this.map((function(e){return yr(e,t,n)}))})),Ne.prototype.reject=function(t){return this.filter(Aa(Qi(t)))},Ne.prototype.slice=function(t,n){t=ru(t);var e=this;return e.__filtered__&&(t>0||n<0)?new Ne(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),void 0!==n&&(e=(n=ru(n))<0?e.dropRight(-n):e.take(n-t)),e)},Ne.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ne.prototype.toArray=function(){return this.take(4294967295)},fr(Ne.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=ke[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);i&&(ke.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof Ne,f=a[0],c=u||Da(n),s=function(t){var n=i.apply(ke,vn([t],a));return r&&l?n[0]:n};c&&e&&"function"==typeof f&&1!=f.length&&(u=c=!1);var l=this.__chain__,h=!!this.__actions__.length,d=o&&!l,p=u&&!h;if(!o&&c){n=p?n:new Ne(this);var v=t.apply(n,a);return v.__actions__.push({func:ea,args:[s],thisArg:void 0}),new Oe(v,l)}return d&&p?t.apply(this,a):(v=this.thru(s),d?r?v.value()[0]:v.value():v)})})),fn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=bt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);ke.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(Da(i)?i:[],t)}return this[e]((function(e){return n.apply(Da(e)?e:[],t)}))}})),fr(Ne.prototype,(function(t,n){var e=ke[n];if(e){var r=e.name+"";At.call(be,r)||(be[r]=[]),be[r].push({name:n,func:e})}})),be[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Ne.prototype.clone=function(){var t=new Ne(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Ne.prototype.reverse=function(){if(this.__filtered__){var t=new Ne(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ne.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Da(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=ue(n,t+a);break;case"takeRight":t=ae(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,f=u-a,c=r?u:a-1,s=this.__iteratees__,l=s.length,h=0,d=ue(f,this.__takeCount__);if(!e||!r&&i==f&&d==f)return ei(t,this.__actions__);var p=[];t:for(;f--&&h<d;){for(var v=-1,m=t[c+=n];++v<l;){var g=s[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue t;break t}}p[h++]=m}return p},ke.prototype.at=ra,ke.prototype.chain=function(){return na(this)},ke.prototype.commit=function(){return new Oe(this.value(),this.__chain__)},ke.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},ke.prototype.plant=function(t){for(var n,e=this;e instanceof ze;){var r=ko(e);r.__index__=0,r.__values__=void 0,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},ke.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ne){var n=t;return this.__actions__.length&&(n=new Ne(this)),(n=n.reverse()).__actions__.push({func:ea,args:[Yo],thisArg:void 0}),new Oe(n,this.__chain__)}return this.thru(Yo)},ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},ke.prototype.first=ke.prototype.head,Kt&&(ke.prototype[Kt]=function(){return this}),ke}();Vt._=$n,void 0===(i=function(){return $n}.call(n,e,n,r))||(r.exports=i)}).call(this)}).call(this,e(9),e(10)(t))},function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,u=o.left,f=a,c=function(t,n){null==n&&(n=s);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o};function s(t,n){return[t,n]}var l=function(t,n,e){var r,i,o,a,u=t.length,f=n.length,c=new Array(u*f);for(null==e&&(e=s),r=o=0;r<u;++r)for(a=t[r],i=0;i<f;++i,++o)c[o]=e(a,n[i]);return c},h=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,n){var e,r,i=t.length,o=0,a=-1,u=0,f=0;if(null==n)for(;++a<i;)isNaN(e=d(t[a]))||(f+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=d(n(t[a],a,t)))||(f+=(r=e-u)*(e-(u+=r/++o)));if(o>1)return f/(o-1)},v=function(t,n){var e=p(t,n);return e?Math.sqrt(e):e},m=function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,_=function(t){return function(){return t}},x=function(t){return t},w=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},M=Math.sqrt(50),A=Math.sqrt(10),E=Math.sqrt(2),T=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=S(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function S(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=M?10:o>=A?5:o>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=M?10:o>=A?5:o>=E?2:1)}function k(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=M?i*=10:o>=A?i*=5:o>=E&&(i*=2),n<t?-i:i}var C=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},z=function(){var t=x,n=m,e=C;function r(r){var i,o,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var c=n(u),s=c[0],l=c[1],h=e(u,s,l);Array.isArray(h)||(h=k(s,l,h),h=w(Math.ceil(s/h)*h,l,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,v=new Array(d+1);for(i=0;i<=d;++i)(p=v[i]=[]).x0=i>0?h[i-1]:s,p.x1=i<d?h[i]:l;for(i=0;i<a;++i)s<=(o=u[i])&&o<=l&&v[f(h,o,0,d)].push(r[i]);return v}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:_(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:_([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?_(y.call(t)):_(t),r):e},r},O=function(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}},N=function(t,n,e){return t=b.call(t,d).sort(r),Math.ceil((e-n)/(2*(O(t,.75)-O(t,.25))*Math.pow(t.length,-1/3)))},D=function(t,n,e){return Math.ceil((e-n)/(3.5*v(t)*Math.pow(t.length,-1/3)))},P=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},j=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=d(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=d(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},L=function(t,n){var e,i=t.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||a.push(e);else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||a.push(e);return O(a.sort(r),.5)},R=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e},B=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},F=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},I=function(t,n){if(e=t.length){var e,i,o=0,a=0,u=t[a];for(null==n&&(n=r);++o<e;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},U=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},q=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},Y=function(t){if(!(i=t.length))return[];for(var n=-1,e=B(t,W),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r};function W(t){return t.length}var H=function(){return Y(arguments)},G=Array.prototype.slice,V=function(t){return t};function X(t){return"translate("+(t+.5)+",0)"}function $(t){return"translate(0,"+(t+.5)+")"}function Q(t){return function(n){return+t(n)}}function Z(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function K(){return!this.__axis}function J(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,f=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",s=1===t||3===t?X:$;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):V:i,p=Math.max(o,0)+u,v=n.range(),m=+v[0]+.5,g=+v[v.length-1]+.5,y=(n.bandwidth?Z:Q)(n.copy()),b=l.selection?l.selection():l,_=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),A=x.select("line"),E=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",f*o)),E=E.merge(M.append("text").attr("fill","currentColor").attr(c,f*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),l!==b&&(_=_.transition(l),x=x.transition(l),A=A.transition(l),E=E.transition(l),w=w.transition(l).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=y(t))?s(t):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:y(t))}))),w.remove(),_.attr("d",4===t||2==t?a?"M"+f*a+","+m+"H0.5V"+g+"H"+f*a:"M0.5,"+m+"V"+g:a?"M"+m+","+f*a+"V0.5H"+g+"V"+f*a:"M"+m+",0.5H"+g),x.attr("opacity",1).attr("transform",(function(t){return s(y(t))})),A.attr(c+"2",f*o),E.attr(c,f*p).text(d),b.filter(K).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=y}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=G.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:G.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:G.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(u=+t,l):u},l}function tt(t){return J(1,t)}function nt(t){return J(2,t)}function et(t){return J(3,t)}function rt(t){return J(4,t)}var it={value:function(){}};function ot(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new at(r)}function at(t){this._=t}function ut(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function ft(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ct(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=it,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}at.prototype=ot.prototype={constructor:at,on:function(t,n){var e,r=this._,i=ut(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=ct(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ct(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=ft(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new at(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var st=ot;function lt(){}var ht=function(t){return null==t?lt:function(){return this.querySelector(t)}};function dt(){return[]}var pt=function(t){return null==t?dt:function(){return this.querySelectorAll(t)}},vt=function(t){return function(){return this.matches(t)}},mt=function(t){return new Array(t.length)};function gt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}gt.prototype={constructor:gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yt(t,n,e,r,i,o){for(var a,u=0,f=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new gt(t,o[u]);for(;u<f;++u)(a=n[u])&&(i[u]=a)}function bt(t,n,e,r,i,o,a){var u,f,c,s={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(f=n[u])&&(d[u]=c="$"+a.call(f,f.__data__,u,n),c in s?i[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c="$"+a.call(t,o[u],u,o)])?(r[u]=f,f.__data__=o[u],s[c]=null):e[u]=new gt(t,o[u]);for(u=0;u<l;++u)(f=n[u])&&s[d[u]]===f&&(i[u]=f)}function _t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var xt="http://www.w3.org/1999/xhtml",wt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),wt.hasOwnProperty(n)?{space:wt[n],local:t}:t};function At(t){return function(){this.removeAttribute(t)}}function Et(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tt(t,n){return function(){this.setAttribute(t,n)}}function St(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function kt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Ct(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var zt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ot(t){return function(){this.style.removeProperty(t)}}function Nt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Dt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Pt(t,n){return t.style.getPropertyValue(n)||zt(t).getComputedStyle(t,null).getPropertyValue(n)}function jt(t){return function(){delete this[t]}}function Lt(t,n){return function(){this[t]=n}}function Rt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Bt(t){return t.trim().split(/^|\s+/)}function Ft(t){return t.classList||new It(t)}function It(t){this._node=t,this._names=Bt(t.getAttribute("class")||"")}function Ut(t,n){for(var e=Ft(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function qt(t,n){for(var e=Ft(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Yt(t){return function(){Ut(this,t)}}function Wt(t){return function(){qt(this,t)}}function Ht(t,n){return function(){(n.apply(this,arguments)?Ut:qt)(this,t)}}It.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gt(){this.textContent=""}function Vt(t){return function(){this.textContent=t}}function Xt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function $t(){this.innerHTML=""}function Qt(t){return function(){this.innerHTML=t}}function Zt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Kt(){this.nextSibling&&this.parentNode.appendChild(this)}function Jt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xt&&n.documentElement.namespaceURI===xt?n.createElement(t):n.createElementNS(e,t)}}function nn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var en=function(t){var n=Mt(t);return(n.local?nn:tn)(n)};function rn(){return null}function on(){var t=this.parentNode;t&&t.removeChild(this)}function an(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function un(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var fn={},cn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(fn={mouseenter:"mouseover",mouseleave:"mouseout"}));function sn(t,n,e){return t=ln(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ln(t,n,e){return function(r){var i=cn;cn=r;try{t.call(this,this.__data__,n,e)}finally{cn=i}}}function hn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function dn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function pn(t,n,e){var r=fn.hasOwnProperty(t.type)?sn:ln;return function(i,o,a){var u,f=this.__on,c=r(n,o,a);if(f)for(var s=0,l=f.length;s<l;++s)if((u=f[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},f?f.push(u):this.__on=[u]}}function vn(t,n,e,r){var i=cn;t.sourceEvent=cn,cn=t;try{return n.apply(e,r)}finally{cn=i}}function mn(t,n,e){var r=zt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function gn(t,n){return function(){return mn(this,t,n)}}function yn(t,n){return function(){return mn(this,t,n.apply(this,arguments))}}var bn=[null];function _n(t,n){this._groups=t,this._parents=n}function xn(){return new _n([[document.documentElement]],bn)}_n.prototype=xn.prototype={constructor:_n,select:function(t){"function"!=typeof t&&(t=ht(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],f=u.length,c=r[i]=new Array(f),s=0;s<f;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new _n(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=pt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],f=u.length,c=0;c<f;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new _n(r,i)},filter:function(t){"function"!=typeof t&&(t=vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new _n(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each((function(t){p[++s]=t})),p;var e,r=n?bt:yt,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),f=new Array(a),c=new Array(a),s=0;s<a;++s){var l=i[s],h=o[s],d=h.length,p=t.call(l,l&&l.__data__,s,i),v=p.length,m=f[s]=new Array(v),g=u[s]=new Array(v);r(l,h,m,g,c[s]=new Array(d),p,n);for(var y,b,_=0,x=0;_<v;++_)if(y=m[_]){for(_>=x&&(x=_+1);!(b=g[x])&&++x<v;);y._next=b||null}}return(u=new _n(u,i))._enter=f,u._exit=c,u},enter:function(){return new _n(this._enter||this._groups.map(mt),this._parents)},exit:function(){return new _n(this._exit||this._groups.map(mt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new _n(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_t);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],f=u.length,c=i[o]=new Array(f),s=0;s<f;++s)(a=u[s])&&(c[s]=a);c.sort(n)}return new _n(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Mt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Et:At:"function"==typeof n?e.local?Ct:kt:e.local?St:Tt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ot:"function"==typeof n?Dt:Nt)(t,n,null==e?"":e)):Pt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?jt:"function"==typeof n?Rt:Lt)(t,n)):this.node()[t]},classed:function(t,n){var e=Bt(t+"");if(arguments.length<2){for(var r=Ft(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ht:n?Yt:Wt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Xt:Vt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$t:("function"==typeof t?Zt:Qt)(t)):this.node().innerHTML},raise:function(){return this.each(Kt)},lower:function(){return this.each(Jt)},append:function(t){var n="function"==typeof t?t:en(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:en(t),r=null==n?rn:"function"==typeof n?n:ht(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(on)},clone:function(t){return this.select(t?un:an)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=hn(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?pn:dn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var f,c=0,s=u.length;c<s;++c)for(r=0,f=u[c];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?yn:gn)(t,n))}};var wn=xn,Mn=function(t){return"string"==typeof t?new _n([[document.querySelector(t)]],[document.documentElement]):new _n([[t]],bn)};function An(){cn.stopImmediatePropagation()}var En=function(){cn.preventDefault(),cn.stopImmediatePropagation()},Tn=function(t){var n=t.document.documentElement,e=Mn(t).on("dragstart.drag",En,!0);"onselectstart"in n?e.on("selectstart.drag",En,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Sn(t,n){var e=t.document.documentElement,r=Mn(t).on("dragstart.drag",null);n&&(r.on("click.drag",En,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var kn=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Cn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function zn(){}var On="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pn=/^#([0-9a-f]{3,8})$/,jn=new RegExp("^rgb\\("+[On,On,On]+"\\)$"),Ln=new RegExp("^rgb\\("+[Dn,Dn,Dn]+"\\)$"),Rn=new RegExp("^rgba\\("+[On,On,On,Nn]+"\\)$"),Bn=new RegExp("^rgba\\("+[Dn,Dn,Dn,Nn]+"\\)$"),Fn=new RegExp("^hsl\\("+[Nn,Dn,Dn]+"\\)$"),In=new RegExp("^hsla\\("+[Nn,Dn,Dn,Nn]+"\\)$"),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qn(){return this.rgb().formatHex()}function Yn(){return this.rgb().formatRgb()}function Wn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Hn(n):3===e?new $n(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new $n(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new $n(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=jn.exec(t))?new $n(n[1],n[2],n[3],1):(n=Ln.exec(t))?new $n(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Rn.exec(t))?Gn(n[1],n[2],n[3],n[4]):(n=Bn.exec(t))?Gn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Fn.exec(t))?Jn(n[1],n[2]/100,n[3]/100,1):(n=In.exec(t))?Jn(n[1],n[2]/100,n[3]/100,n[4]):Un.hasOwnProperty(t)?Hn(Un[t]):"transparent"===t?new $n(NaN,NaN,NaN,0):null}function Hn(t){return new $n(t>>16&255,t>>8&255,255&t,1)}function Gn(t,n,e,r){return r<=0&&(t=n=e=NaN),new $n(t,n,e,r)}function Vn(t){return t instanceof zn||(t=Wn(t)),t?new $n((t=t.rgb()).r,t.g,t.b,t.opacity):new $n}function Xn(t,n,e,r){return 1===arguments.length?Vn(t):new $n(t,n,e,null==r?1:r)}function $n(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Qn(){return"#"+Kn(this.r)+Kn(this.g)+Kn(this.b)}function Zn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Kn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Jn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ee(t,n,e,r)}function te(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof zn||(t=Wn(t)),!t)return new ee;if(t instanceof ee)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new ee(a,u,f,t.opacity)}function ne(t,n,e,r){return 1===arguments.length?te(t):new ee(t,n,e,null==r?1:r)}function ee(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function re(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ie(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}kn(zn,Wn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qn,formatHex:qn,formatHsl:function(){return te(this).formatHsl()},formatRgb:Yn,toString:Yn}),kn($n,Xn,Cn(zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatRgb:Zn,toString:Zn})),kn(ee,ne,Cn(zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new $n(re(t>=240?t-240:t+120,i,r),re(t,i,r),re(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var oe=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return ie((e-r/n)*n,a,i,o,u)}},ae=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return ie((e-r/n)*n,i,o,a,u)}},ue=function(t){return function(){return t}};function fe(t,n){return function(e){return t+e*n}}function ce(t,n){var e=n-t;return e?fe(t,e>180||e<-180?e-360*Math.round(e/360):e):ue(isNaN(t)?n:t)}function se(t){return 1==(t=+t)?le:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ue(isNaN(n)?e:n)}}function le(t,n){var e=n-t;return e?fe(t,e):ue(isNaN(t)?n:t)}var he=function t(n){var e=se(n);function r(t,n){var r=e((t=Xn(t)).r,(n=Xn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=le(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function de(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Xn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var pe=de(oe),ve=de(ae),me=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function ge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var ye=function(t,n){return(ge(n)?me:be)(t,n)};function be(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=ke(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}var _e=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},xe=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},we=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ke(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Me=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ae=new RegExp(Me.source,"g");var Ee,Te,Se=function(t,n){var e,r,i,o=Me.lastIndex=Ae.lastIndex=0,a=-1,u=[],f=[];for(t+="",n+="";(e=Me.exec(t))&&(r=Ae.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:xe(e,r)})),o=Ae.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)u[(e=f[r]).i]=e.x(t);return u.join("")})},ke=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?ue(n):("number"===r?xe:"string"===r?(e=Wn(n))?(n=e,he):Se:n instanceof Wn?he:n instanceof Date?_e:ge(n)?me:Array.isArray(n)?be:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?we:xe)(t,n)},Ce=function(){for(var t,n=cn;t=n.sourceEvent;)n=t;return n},ze=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Oe=function(t,n,e){arguments.length<3&&(e=n,n=Ce().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ze(t,r);return null},Ne=function(t){var n=Ce();return n.changedTouches&&(n=n.changedTouches[0]),ze(t,n)},De=0,Pe=0,je=0,Le=0,Re=0,Be=0,Fe="object"==typeof performance&&performance.now?performance:Date,Ie="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ue(){return Re||(Ie(qe),Re=Fe.now()+Be)}function qe(){Re=0}function Ye(){this._call=this._time=this._next=null}function We(t,n,e){var r=new Ye;return r.restart(t,n,e),r}function He(){Ue(),++De;for(var t,n=Ee;n;)(t=Re-n._time)>=0&&n._call.call(null,t),n=n._next;--De}function Ge(){Re=(Le=Fe.now())+Be,De=Pe=0;try{He()}finally{De=0,function(){var t,n,e=Ee,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ee=n);Te=t,Xe(r)}(),Re=0}}function Ve(){var t=Fe.now(),n=t-Le;n>1e3&&(Be-=n,Le=t)}function Xe(t){De||(Pe&&(Pe=clearTimeout(Pe)),t-Re>24?(t<1/0&&(Pe=setTimeout(Ge,t-Fe.now()-Be)),je&&(je=clearInterval(je))):(je||(Le=Fe.now(),je=setInterval(Ve,1e3)),De=1,Ie(Ge)))}Ye.prototype=We.prototype={constructor:Ye,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ue():+e)+(null==n?0:+n),this._next||Te===this||(Te?Te._next=this:Ee=this,Te=this),this._call=t,this._time=e,Xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xe())}};var $e=function(t,n,e){var r=new Ye;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Qe=st("start","end","cancel","interrupt"),Ze=[],Ke=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(f){var c,s,l,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return $e(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if($e((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(f))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),c=0,s=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=We((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Qe,tween:Ze,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Je(t,n){var e=nr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function tr(t,n){var e=nr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function nr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var er,rr,ir,or,ar=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},ur=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},cr=function(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ur,skewX:Math.atan(f)*ur,scaleX:a,scaleY:u}};function sr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],f=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var f=a.push("translate(",null,n,null,e);u.push({i:f-4,x:xe(t,i)},{i:f-2,x:xe(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,f),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:xe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,f),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:xe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,f),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:xe(t,e)},{i:u-2,x:xe(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)u[(n=f[e]).i]=n.x(t);return u.join("")}}}var lr=sr((function(t){return"none"===t?fr:(er||(er=document.createElement("DIV"),rr=document.documentElement,ir=document.defaultView),er.style.transform=t,t=ir.getComputedStyle(rr.appendChild(er),null).getPropertyValue("transform"),rr.removeChild(er),t=t.slice(7,-1).split(","),cr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),hr=sr((function(t){return null==t?fr:(or||(or=document.createElementNS("http://www.w3.org/2000/svg","g")),or.setAttribute("transform",t),(t=or.transform.baseVal.consolidate())?(t=t.matrix,cr(t.a,t.b,t.c,t.d,t.e,t.f)):fr)}),", ",")",")");function dr(t,n){var e,r;return function(){var i=tr(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function pr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=tr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=u;break}f===c&&i.push(u)}o.tween=i}}function vr(t,n,e){var r=t._id;return t.each((function(){var t=tr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return nr(t,r).value[n]}}var mr=function(t,n){var e;return("number"==typeof n?xe:n instanceof Wn?he:(e=Wn(n))?(n=e,he):Se)(t,n)};function gr(t){return function(){this.removeAttribute(t)}}function yr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function br(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function _r(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function xr(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttribute(t))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttribute(t)}}function wr(t,n,e){var r,i,o;return function(){var a,u,f=e(this);if(null!=f)return(a=this.getAttributeNS(t.space,t.local))===(u=f+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,f));this.removeAttributeNS(t.space,t.local)}}function Mr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ar(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Er(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ar(t,i)),e}return i._value=n,i}function Tr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Mr(t,i)),e}return i._value=n,i}function Sr(t,n){return function(){Je(this,t).delay=+n.apply(this,arguments)}}function kr(t,n){return n=+n,function(){Je(this,t).delay=n}}function Cr(t,n){return function(){tr(this,t).duration=+n.apply(this,arguments)}}function zr(t,n){return n=+n,function(){tr(this,t).duration=n}}function Or(t,n){if("function"!=typeof n)throw new Error;return function(){tr(this,t).ease=n}}function Nr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Je:tr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Dr=wn.prototype.constructor;function Pr(t){return function(){this.style.removeProperty(t)}}function jr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Lr(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&jr(t,o,e)),r}return o._value=n,o}function Rr(t){return function(n){this.textContent=t.call(this,n)}}function Br(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Rr(r)),n}return r._value=t,r}var Fr=0;function Ir(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ur(t){return wn().transition(t)}function qr(){return++Fr}var Yr=wn.prototype;function Wr(t){return t*t*t}function Hr(t){return--t*t*t+1}function Gr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ir.prototype=Ur.prototype={constructor:Ir,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ht(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,f,c=r[a],s=c.length,l=o[a]=new Array(s),h=0;h<s;++h)(u=c[h])&&(f=t.call(u,u.__data__,h,c))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,Ke(l[h],n,e,h,l,nr(u,e)));return new Ir(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=pt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f,c=r[u],s=c.length,l=0;l<s;++l)if(f=c[l]){for(var h,d=t.call(f,f.__data__,l,c),p=nr(f,e),v=0,m=d.length;v<m;++v)(h=d[v])&&Ke(h,n,e,v,d,p);o.push(d),a.push(f)}return new Ir(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new Ir(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new Ir(a,this._parents,this._name,this._id)},selection:function(){return new Dr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=qr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)if(a=u[c]){var s=nr(a,n);Ke(a,t,e,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Ir(r,this._parents,t,e)},call:Yr.call,nodes:Yr.nodes,node:Yr.node,size:Yr.size,empty:Yr.empty,each:Yr.each,on:function(t,n){var e=this._id;return arguments.length<2?nr(this.node(),e).on.on(t):this.each(Nr(e,t,n))},attr:function(t,n){var e=Mt(t),r="transform"===e?hr:mr;return this.attrTween(t,"function"==typeof n?(e.local?wr:xr)(e,r,vr(this,"attr."+t,n)):null==n?(e.local?yr:gr)(e):(e.local?_r:br)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Mt(t);return this.tween(e,(r.local?Er:Tr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?lr:mr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Pt(this,t),a=(this.style.removeProperty(t),Pt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Pr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Pt(this,t),u=e(this),f=u+"";return null==u&&(this.style.removeProperty(t),f=u=Pt(this,t)),a===f?null:a===r&&f===i?o:(i=f,o=n(r=a,u))}}(t,r,vr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var f=tr(this,t),c=f.on,s=null==f.value[a]?o||(o=Pr(n)):void 0;c===e&&i===s||(r=(e=c).copy()).on(u,i=s),f.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Pt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Lr(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(vr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Br(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=nr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?dr:pr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Sr:kr)(n,t)):nr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Cr:zr)(n,t)):nr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Or(n,t)):nr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},f={value:function(){0==--i&&o()}};e.each((function(){var e=tr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(f)),e.on=n}))}))}};var Vr={time:null,delay:0,duration:250,ease:Gr};function Xr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Vr.time=Ue(),Vr;return e}wn.prototype.interrupt=function(t){return this.each((function(){ar(this,t)}))},wn.prototype.transition=function(t){var n,e;t instanceof Ir?(n=t._id,t=t._name):(n=qr(),(e=Vr).time=Ue(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)(a=u[c])&&Ke(a,t,n,c,u,e||Xr(a,n));return new Ir(r,this._parents,t,n)};var $r=[null],Qr=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new Ir([[t]],$r,n,+r);return null},Zr=function(t){return function(){return t}},Kr=function(t,n,e){this.target=t,this.type=n,this.selection=e};function Jr(){cn.stopImmediatePropagation()}var ti=function(){cn.preventDefault(),cn.stopImmediatePropagation()},ni={name:"drag"},ei={name:"space"},ri={name:"handle"},ii={name:"center"};function oi(t){return[+t[0],+t[1]]}function ai(t){return[oi(t[0]),oi(t[1])]}function ui(t){return function(n){return Oe(n,cn.touches,t)}}var fi={name:"x",handles:["w","e"].map(mi),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ci={name:"y",handles:["n","s"].map(mi),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},si={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(mi),input:function(t){return null==t?null:ai(t)},output:function(t){return t}},li={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},di={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},pi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mi(t){return{type:t}}function gi(){return!cn.ctrlKey&&!cn.button}function yi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bi(){return navigator.maxTouchPoints||"ontouchstart"in this}function _i(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function xi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wi(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function Mi(){return Ti(fi)}function Ai(){return Ti(ci)}var Ei=function(){return Ti(si)};function Ti(t){var n,e=yi,r=gi,i=bi,o=!0,a=st("start","brush","end"),u=6;function f(n){var e=n.property("__brush",v).selectAll(".overlay").data([mi("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",li.overlay).merge(e).each((function(){var t=_i(this).extent;Mn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([mi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",li.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return li[t.type]})),n.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Mn(this),n=_i(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){return!e&&t.__brush.emitter||new l(t,n)}function l(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function h(){if((!n||cn.touches)&&r.apply(this,arguments)){var e,i,a,u,f,l,h,d,p,v,m,g=this,y=cn.target.__data__.type,b="selection"===(o&&cn.metaKey?y="overlay":y)?ni:o&&cn.altKey?ii:ri,_=t===ci?null:pi[y],x=t===fi?null:vi[y],w=_i(g),M=w.extent,A=w.selection,E=M[0][0],T=M[0][1],S=M[1][0],k=M[1][1],C=0,z=0,O=_&&x&&o&&cn.shiftKey,N=cn.touches?ui(cn.changedTouches[0].identifier):Ne,D=N(g),P=D,j=s(g,arguments,!0).beforestart();"overlay"===y?(A&&(p=!0),w.selection=A=[[e=t===ci?E:D[0],a=t===fi?T:D[1]],[f=t===ci?S:e,h=t===fi?k:a]]):(e=A[0][0],a=A[0][1],f=A[1][0],h=A[1][1]),i=e,u=a,l=f,d=h;var L=Mn(g).attr("pointer-events","none"),R=L.selectAll(".overlay").attr("cursor",li[y]);if(cn.touches)j.moved=F,j.ended=U;else{var B=Mn(cn.view).on("mousemove.brush",F,!0).on("mouseup.brush",U,!0);o&&B.on("keydown.brush",q,!0).on("keyup.brush",Y,!0),Tn(cn.view)}Jr(),ar(g),c.call(g),j.start()}function F(){var t=N(g);!O||v||m||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?m=!0:v=!0),P=t,p=!0,ti(),I()}function I(){var t;switch(C=P[0]-D[0],z=P[1]-D[1],b){case ei:case ni:_&&(C=Math.max(E-e,Math.min(S-f,C)),i=e+C,l=f+C),x&&(z=Math.max(T-a,Math.min(k-h,z)),u=a+z,d=h+z);break;case ri:_<0?(C=Math.max(E-e,Math.min(S-e,C)),i=e+C,l=f):_>0&&(C=Math.max(E-f,Math.min(S-f,C)),i=e,l=f+C),x<0?(z=Math.max(T-a,Math.min(k-a,z)),u=a+z,d=h):x>0&&(z=Math.max(T-h,Math.min(k-h,z)),u=a,d=h+z);break;case ii:_&&(i=Math.max(E,Math.min(S,e-C*_)),l=Math.max(E,Math.min(S,f+C*_))),x&&(u=Math.max(T,Math.min(k,a-z*x)),d=Math.max(T,Math.min(k,h+z*x)))}l<i&&(_*=-1,t=e,e=f,f=t,t=i,i=l,l=t,y in hi&&R.attr("cursor",li[y=hi[y]])),d<u&&(x*=-1,t=a,a=h,h=t,t=u,u=d,d=t,y in di&&R.attr("cursor",li[y=di[y]])),w.selection&&(A=w.selection),v&&(i=A[0][0],l=A[1][0]),m&&(u=A[0][1],d=A[1][1]),A[0][0]===i&&A[0][1]===u&&A[1][0]===l&&A[1][1]===d||(w.selection=[[i,u],[l,d]],c.call(g),j.brush())}function U(){if(Jr(),cn.touches){if(cn.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Sn(cn.view,p),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),R.attr("cursor",li.overlay),w.selection&&(A=w.selection),xi(A)&&(w.selection=null,c.call(g)),j.end()}function q(){switch(cn.keyCode){case 16:O=_&&x;break;case 18:b===ri&&(_&&(f=l-C*_,e=i+C*_),x&&(h=d-z*x,a=u+z*x),b=ii,I());break;case 32:b!==ri&&b!==ii||(_<0?f=l-C:_>0&&(e=i-C),x<0?h=d-z:x>0&&(a=u-z),b=ei,R.attr("cursor",li.selection),I());break;default:return}ti()}function Y(){switch(cn.keyCode){case 16:O&&(v=m=O=!1,I());break;case 18:b===ii&&(_<0?f=l:_>0&&(e=i),x<0?h=d:x>0&&(a=u),b=ri,I());break;case 32:b===ei&&(cn.altKey?(_&&(f=l-C*_,e=i+C*_),x&&(h=d-z*x,a=u+z*x),b=ii):(_<0?f=l:_>0&&(e=i),x<0?h=d:x>0&&(a=u),b=ri),R.attr("cursor",li[y]),I());break;default:return}ti()}}function d(){s(this,arguments).moved()}function p(){s(this,arguments).ended()}function v(){var n=this.__brush||{selection:null};return n.extent=ai(e.apply(this,arguments)),n.dim=t,n}return f.move=function(n,e){n.selection?n.on("start.brush",(function(){s(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){s(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=ke(o,a);function f(t){r.selection=1===t&&null===a?null:u(t),c.call(n),i.brush()}return null!==o&&null!==a?f:f(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),a=s(n,r).beforestart();ar(n),i.selection=null===o?null:o,c.call(n),a.start().brush().end()}))},f.clear=function(t){f.move(t,null)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){vn(new Kr(f,n,t.output(this.state.selection)),a.apply,a,[n,this.that,this.args])}},f.extent=function(t){return arguments.length?(e="function"==typeof t?t:Zr(ai(t)),f):e},f.filter=function(t){return arguments.length?(r="function"==typeof t?t:Zr(!!t),f):r},f.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Zr(!!t),f):i},f.handleSize=function(t){return arguments.length?(u=+t,f):u},f.keyModifiers=function(t){return arguments.length?(o=!!t,f):o},f.on=function(){var t=a.on.apply(a,arguments);return t===a?f:t},f}var Si=Math.cos,ki=Math.sin,Ci=Math.PI,zi=Ci/2,Oi=2*Ci,Ni=Math.max;function Di(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}var Pi=function(){var t=0,n=null,e=null,r=null;function i(i){var o,a,u,f,c,s,l=i.length,h=[],d=w(l),p=[],v=[],m=v.groups=new Array(l),g=new Array(l*l);for(o=0,c=-1;++c<l;){for(a=0,s=-1;++s<l;)a+=i[c][s];h.push(a),p.push(w(l)),o+=a}for(n&&d.sort((function(t,e){return n(h[t],h[e])})),e&&p.forEach((function(t,n){t.sort((function(t,r){return e(i[n][t],i[n][r])}))})),f=(o=Ni(0,Oi-t*l)/o)?t:Oi/l,a=0,c=-1;++c<l;){for(u=a,s=-1;++s<l;){var y=d[c],b=p[y][s],_=i[y][b],x=a,M=a+=_*o;g[b*l+y]={index:y,subindex:b,startAngle:x,endAngle:M,value:_}}m[y]={index:y,startAngle:u,endAngle:a,value:h[y]},a+=f}for(c=-1;++c<l;)for(s=c-1;++s<l;){var A=g[s*l+c],E=g[c*l+s];(A.value||E.value)&&v.push(A.value<E.value?{source:E,target:A}:{source:A,target:E})}return r?v.sort(r):v}return i.padAngle=function(n){return arguments.length?(t=Ni(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Di(t))._=t,i):r&&r._},i},ji=Array.prototype.slice,Li=function(t){return function(){return t}},Ri=Math.PI,Bi=2*Ri,Fi=Bi-1e-6;function Ii(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ui(){return new Ii}Ii.prototype=Ui.prototype={constructor:Ii,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,f=r-n,c=o-t,s=a-n,l=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(s*u-f*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+f*f,v=h*h+d*d,m=Math.sqrt(p),g=Math.sqrt(l),y=i*Math.tan((Ri-Math.acos((p+l-v)/(2*m*g)))/2),b=y/g,_=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>c*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),f=t+a,c=n+u,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+c:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+f+","+c),e&&(l<0&&(l=l%Bi+Bi),l>Fi?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=f)+","+(this._y1=c):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Ri)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var qi=Ui;function Yi(t){return t.source}function Wi(t){return t.target}function Hi(t){return t.radius}function Gi(t){return t.startAngle}function Vi(t){return t.endAngle}var Xi=function(){var t=Yi,n=Wi,e=Hi,r=Gi,i=Vi,o=null;function a(){var a,u=ji.call(arguments),f=t.apply(this,u),c=n.apply(this,u),s=+e.apply(this,(u[0]=f,u)),l=r.apply(this,u)-zi,h=i.apply(this,u)-zi,d=s*Si(l),p=s*ki(l),v=+e.apply(this,(u[0]=c,u)),m=r.apply(this,u)-zi,g=i.apply(this,u)-zi;if(o||(o=a=qi()),o.moveTo(d,p),o.arc(0,0,s,l,h),l===m&&h===g||(o.quadraticCurveTo(0,0,v*Si(m),v*ki(m)),o.arc(0,0,v,m,g)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Li(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Li(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Li(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a};function $i(){}function Qi(t,n){var e=new $i;if(t instanceof $i)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}$i.prototype=Qi.prototype={constructor:$i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Zi=Qi,Ki=function(){var t,n,e,r=[],i=[];function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var f,c,s,l=-1,h=e.length,d=r[i++],p=Zi(),v=a();++l<h;)(s=p.get(f=d(c=e[l])+""))?s.push(c):p.set(f,[c]);return p.each((function(t,n){u(v,n,o(t,i,a,u))})),v}return e={object:function(t){return o(t,0,Ji,to)},map:function(t){return o(t,0,no,eo)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var a,u=i[o-1];return null!=n&&o>=r.length?a=e.entries():(a=[],e.each((function(n,e){a.push({key:e,values:t(n,o)})}))),null!=u?a.sort((function(t,n){return u(t.key,n.key)})):a}(o(t,0,no,eo),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function Ji(){return{}}function to(t,n,e){t[n]=e}function no(){return Zi()}function eo(t,n,e){t.set(n,e)}function ro(){}var io=Zi.prototype;function oo(t,n){var e=new ro;if(t instanceof ro)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}ro.prototype=oo.prototype={constructor:ro,has:io.has,add:function(t){return this["$"+(t+="")]=t,this},remove:io.remove,clear:io.clear,values:io.keys,size:io.size,empty:io.empty,each:io.each};var ao=oo,uo=function(t){var n=[];for(var e in t)n.push(e);return n},fo=function(t){var n=[];for(var e in t)n.push(t[e]);return n},co=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},so=Math.PI/180,lo=180/Math.PI;function ho(t){if(t instanceof mo)return new mo(t.l,t.a,t.b,t.opacity);if(t instanceof Ao)return Eo(t);t instanceof $n||(t=Vn(t));var n,e,r=_o(t.r),i=_o(t.g),o=_o(t.b),a=go((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=go((.4360747*r+.3850649*i+.1430804*o)/.96422),e=go((.0139322*r+.0971045*i+.7141733*o)/.82521)),new mo(116*a-16,500*(n-a),200*(a-e),t.opacity)}function po(t,n){return new mo(t,0,0,null==n?1:n)}function vo(t,n,e,r){return 1===arguments.length?ho(t):new mo(t,n,e,null==r?1:r)}function mo(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function go(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function yo(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function bo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _o(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xo(t){if(t instanceof Ao)return new Ao(t.h,t.c,t.l,t.opacity);if(t instanceof mo||(t=ho(t)),0===t.a&&0===t.b)return new Ao(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*lo;return new Ao(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wo(t,n,e,r){return 1===arguments.length?xo(t):new Ao(e,n,t,null==r?1:r)}function Mo(t,n,e,r){return 1===arguments.length?xo(t):new Ao(t,n,e,null==r?1:r)}function Ao(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Eo(t){if(isNaN(t.h))return new mo(t.l,0,0,t.opacity);var n=t.h*so;return new mo(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}kn(mo,vo,Cn(zn,{brighter:function(t){return new mo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new mo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new $n(bo(3.1338561*(n=.96422*yo(n))-1.6168667*(t=1*yo(t))-.4906146*(e=.82521*yo(e))),bo(-.9787684*n+1.9161415*t+.033454*e),bo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),kn(Ao,Mo,Cn(zn,{brighter:function(t){return new Ao(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ao(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Eo(this).rgb()}}));var To=-.29227,So=-1.7884503806,ko=3.5172982438,Co=-.6557636667999999;function zo(t){if(t instanceof No)return new No(t.h,t.s,t.l,t.opacity);t instanceof $n||(t=Vn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Co*r+So*n-ko*e)/(Co+So-ko),o=r-i,a=(1.97294*(e-i)-To*o)/-.90649,u=Math.sqrt(a*a+o*o)/(1.97294*i*(1-i)),f=u?Math.atan2(a,o)*lo-120:NaN;return new No(f<0?f+360:f,u,i,t.opacity)}function Oo(t,n,e,r){return 1===arguments.length?zo(t):new No(t,n,e,null==r?1:r)}function No(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}kn(No,Oo,Cn(zn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new No(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new No(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*so,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new $n(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(To*r+-.90649*i)),255*(n+e*(1.97294*r)),this.opacity)}}));var Do=Array.prototype.slice,Po=function(t,n){return t-n},jo=function(t){return function(){return t}},Lo=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=Ro(t,n[r]))return e;return 0};function Ro(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var f=t[o],c=f[0],s=f[1],l=t[u],h=l[0],d=l[1];if(Bo(f,l,n))return 0;s>r!=d>r&&e<(h-c)*(r-s)/(d-s)+c&&(i=-i)}return i}function Bo(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}var Fo=function(){},Io=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Uo=function(){var t=1,n=1,e=C,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(Po);else{var r=m(t),i=r[0],a=r[1];n=k(i,a,n),n=w(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}return n.map((function(n){return o(t,n)}))}function o(e,i){var o=[],u=[];return function(e,r,i){var o,u,f,c,s,l,h=new Array,d=new Array;o=u=-1,c=e[0]>=r,Io[c<<1].forEach(p);for(;++o<t-1;)f=c,c=e[o+1]>=r,Io[f|c<<1].forEach(p);Io[c<<0].forEach(p);for(;++u<n-1;){for(o=-1,c=e[u*t+t]>=r,s=e[u*t]>=r,Io[c<<1|s<<2].forEach(p);++o<t-1;)f=c,c=e[u*t+t+o+1]>=r,l=s,s=e[u*t+o+1]>=r,Io[f|c<<1|s<<2|l<<3].forEach(p);Io[c|s<<3].forEach(p)}o=-1,s=e[u*t]>=r,Io[s<<2].forEach(p);for(;++o<t-1;)l=s,s=e[u*t+o+1]>=r,Io[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],f=[t[1][0]+o,t[1][1]+u],c=a(r),s=a(f);(n=d[c])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(f),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(f),d[n.end=s]=n):(n=h[s])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(f),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[s]={start:c,end:s,ring:[r,f]}}Io[s<<3].forEach(p)}(e,i,(function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)})),u.forEach((function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==Lo((n=o[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach((function(e){var o,a=e[0],u=e[1],f=0|a,c=0|u,s=r[c*t+f];a>0&&a<t&&f===a&&(o=r[c*t+f-1],e[0]=a+(i-o)/(s-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+f],e[1]=u+(i-o)/(s-o)-.5)}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?jo(Do.call(t)):jo(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:Fo,i):r===u},i};function qo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,f=0;u<r+e;++u)u<r&&(f+=t.data[u+a*r]),u>=e&&(u>=o&&(f-=t.data[u-o+a*r]),n.data[u-e+a*r]=f/Math.min(u+1,r-1+o-u,o))}function Yo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,f=0;u<i+e;++u)u<i&&(f+=t.data[a+u*r]),u>=e&&(u>=o&&(f-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=f/Math.min(u+1,i-1+o-u,o))}function Wo(t){return t[0]}function Ho(t){return t[1]}function Go(){return 1}var Vo=function(){var t=Wo,n=Ho,e=Go,r=960,i=500,o=20,a=2,u=3*o,f=r+2*u>>a,c=i+2*u>>a,s=jo(20);function l(r){var i=new Float32Array(f*c),l=new Float32Array(f*c);r.forEach((function(r,o,s){var l=+t(r,o,s)+u>>a,h=+n(r,o,s)+u>>a,d=+e(r,o,s);l>=0&&l<f&&h>=0&&h<c&&(i[l+h*f]+=d)})),qo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),Yo({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),qo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),Yo({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),qo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),Yo({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a);var d=s(i);if(!Array.isArray(d)){var p=P(i);d=k(0,p,d),(d=w(0,Math.floor(p/d)*d,d)).shift()}return Uo().thresholds(d).size([f,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function m(){return f=r+2*(u=3*o)>>a,c=i+2*u>>a,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:jo(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:jo(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:jo(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,m()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},l.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?jo(Do.call(t)):jo(t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},l},Xo=function(t){return function(){return t}};function $o(t,n,e,r,i,o,a,u,f,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=f,this._=c}function Qo(){return!cn.ctrlKey&&!cn.button}function Zo(){return this.parentNode}function Ko(t){return null==t?{x:cn.x,y:cn.y}:t}function Jo(){return navigator.maxTouchPoints||"ontouchstart"in this}$o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ta=function(){var t,n,e,r,i=Qo,o=Zo,a=Ko,u=Jo,f={},c=st("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Ne,this,arguments);a&&(Mn(cn.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Tn(cn.view),An(),e=!1,t=cn.clientX,n=cn.clientY,a("start"))}}function p(){if(En(),!e){var r=cn.clientX-t,i=cn.clientY-n;e=r*r+i*i>l}f.mouse("drag")}function v(){Mn(cn.view).on("mousemove.drag mouseup.drag",null),Sn(cn.view,e),En(),f.mouse("end")}function m(){if(i.apply(this,arguments)){var t,n,e=cn.changedTouches,r=o.apply(this,arguments),a=e.length;for(t=0;t<a;++t)(n=b(e[t].identifier,r,Oe,this,arguments))&&(An(),n("start"))}}function g(){var t,n,e=cn.changedTouches,r=e.length;for(t=0;t<r;++t)(n=f[e[t].identifier])&&(En(),n("drag"))}function y(){var t,n,e=cn.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=f[e[t].identifier])&&(An(),n("end"))}function b(t,n,e,r,i){var o,u,l,d=e(n,t),p=c.copy();if(vn(new $o(h,"beforestart",o,t,s,d[0],d[1],0,0,p),(function(){return null!=(cn.subject=o=a.apply(r,i))&&(u=o.x-d[0]||0,l=o.y-d[1]||0,!0)})))return function a(c){var v,m=d;switch(c){case"start":f[t]=a,v=s++;break;case"end":delete f[t],--s;case"drag":d=e(n,t),v=s}vn(new $o(h,c,o,t,v,d[0]+u,d[1]+l,d[0]-m[0],d[1]-m[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Xo(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Xo(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:Xo(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Xo(!!t),h):u},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h},na={},ea={};function ra(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function ia(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function oa(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function aa(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+oa(-n,6):n>9999?"+"+oa(n,6):oa(n,4))+"-"+oa(t.getUTCMonth()+1,2)+"-"+oa(t.getUTCDate(),2)+(o?"T"+oa(e,2)+":"+oa(r,2)+":"+oa(i,2)+"."+oa(o,3)+"Z":i?"T"+oa(e,2)+":"+oa(r,2)+":"+oa(i,2)+"Z":r||e?"T"+oa(e,2)+":"+oa(r,2)+"Z":"")}var ua=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,f=o<=0,c=!1;function s(){if(f)return ea;if(c)return c=!1,na;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?f=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==ea;){for(var l=[];r!==na&&r!==ea;)l.push(r),r=s();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?aa(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ra(t);return function(r,i){return n(e(r),i,t)}}(t,n):ra(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=ia(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=ia(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},fa=ua(","),ca=fa.parse,sa=fa.parseRows,la=fa.format,ha=fa.formatBody,da=fa.formatRows,pa=fa.formatRow,va=fa.formatValue,ma=ua("\t"),ga=ma.parse,ya=ma.parseRows,ba=ma.format,_a=ma.formatBody,xa=ma.formatRows,wa=ma.formatRow,Ma=ma.formatValue;function Aa(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ea&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var Ea=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ta(t){return+t}function Sa(t){return t*t}function ka(t){return t*(2-t)}function Ca(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var za=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Oa=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Na=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Da=Math.PI,Pa=Da/2;function ja(t){return 1-Math.cos(t*Pa)}function La(t){return Math.sin(t*Pa)}function Ra(t){return(1-Math.cos(Da*t))/2}function Ba(t){return Math.pow(2,10*t-10)}function Fa(t){return 1-Math.pow(2,-10*t)}function Ia(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ua(t){return 1-Math.sqrt(1-t*t)}function qa(t){return Math.sqrt(1- --t*t)}function Ya(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Wa(t){return 1-Ha(1-t)}function Ha(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+.75:t<10/11?7.5625*(t-=9/11)*t+.9375:7.5625*(t-=21/22)*t+63/64}function Ga(t){return((t*=2)<=1?1-Ha(1-t):Ha(t-1)+1)/2}var Va=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Xa=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),$a=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),Qa=2*Math.PI,Za=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Qa);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Qa)},i.period=function(e){return t(n,e)},i}(1,.3),Ka=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Qa);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Qa)},i.period=function(e){return t(n,e)},i}(1,.3),Ja=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Qa);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Qa)},i.period=function(e){return t(n,e)},i}(1,.3);function tu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var nu=function(t,n){return fetch(t,n).then(tu)};function eu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var ru=function(t,n){return fetch(t,n).then(eu)};function iu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ou=function(t,n){return fetch(t,n).then(iu)};function au(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),ou(n,e).then((function(n){return t(n,r)}))}}function uu(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=ua(t);return ou(n,e).then((function(t){return i.parse(t,r)}))}var fu=au(ca),cu=au(ga),su=function(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))};function lu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var hu=function(t,n){return fetch(t,n).then(lu)};function du(t){return function(n,e){return ou(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}var pu=du("application/xml"),vu=du("text/html"),mu=du("image/svg+xml"),gu=function(t,n){var e;function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},yu=function(t){return function(){return t}},bu=function(){return 1e-6*(Math.random()-.5)};function _u(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,f,c,s,l,h,d=t._root,p={data:r},v=t._x0,m=t._y0,g=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(v+g)/2))?v=o:g=o,(s=e>=(a=(m+y)/2))?m=a:y=a,i=d,!(d=d[l=s<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),f=+t._y.call(null,d.data),n===u&&e===f)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+g)/2))?v=o:g=o,(s=e>=(a=(m+y)/2))?m=a:y=a}while((l=s<<1|c)==(h=(f>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}var xu=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function wu(t){return t[0]}function Mu(t){return t[1]}function Au(t,n,e){var r=new Eu(null==n?wu:n,null==e?Mu:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Eu(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Tu(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Su=Au.prototype=Eu.prototype;function ku(t){return t.x+t.vx}function Cu(t){return t.y+t.vy}Su.copy=function(){var t,n,e=new Eu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Tu(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Tu(n));return e},Su.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return _u(this.cover(n,e),n,e,t)},Su.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),f=1/0,c=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<f&&(f=r),r>s&&(s=r),i<c&&(c=i),i>l&&(l=i));if(f>s||c>l)return this;for(this.cover(f,c).cover(s,l),e=0;e<o;++e)_u(this,a[e],u[e],t[e]);return this},Su.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,f=i-e,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,f*=2,u){case 0:i=e+f,o=r+f;break;case 1:e=i-f,o=r+f;break;case 2:i=e+f,r=o-f;break;case 3:e=i-f,r=o-f}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Su.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Su.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Su.find=function(t,n,e){var r,i,o,a,u,f,c,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new xu(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);f=p.pop();)if(!(!(v=f.node)||(i=f.x0)>h||(o=f.y0)>d||(a=f.x1)<s||(u=f.y1)<l))if(v.length){var m=(i+a)/2,g=(o+u)/2;p.push(new xu(v[3],m,g,a,u),new xu(v[2],i,g,m,u),new xu(v[1],m,o,a,g),new xu(v[0],i,o,m,g)),(c=(n>=g)<<1|t>=m)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var y=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),_=y*y+b*b;if(_<e){var x=Math.sqrt(e=_);s=t-x,l=n-x,h=t+x,d=n+x,r=v.data}}return r},Su.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,f,c,s,l,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+m)/2))?p=u:m=u,(s=a>=(f=(v+g)/2))?v=f:g=f,n=d,!(d=d[l=s<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Su.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Su.root=function(){return this._root},Su.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Su.visit=function(t){var n,e,r,i,o,a,u=[],f=this._root;for(f&&u.push(new xu(f,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&f.length){var c=(r+o)/2,s=(i+a)/2;(e=f[3])&&u.push(new xu(e,c,s,o,a)),(e=f[2])&&u.push(new xu(e,r,s,c,a)),(e=f[1])&&u.push(new xu(e,c,i,o,s)),(e=f[0])&&u.push(new xu(e,r,i,c,s))}return this},Su.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new xu(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,f=n.x1,c=n.y1,s=(a+f)/2,l=(u+c)/2;(o=i[0])&&e.push(new xu(o,a,u,s,l)),(o=i[1])&&e.push(new xu(o,s,u,f,l)),(o=i[2])&&e.push(new xu(o,a,l,s,c)),(o=i[3])&&e.push(new xu(o,s,l,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Su.x=function(t){return arguments.length?(this._x=t,this):this._x},Su.y=function(t){return arguments.length?(this._y=t,this):this._y};var zu=function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,f,c,s,l,h=n.length,d=0;d<i;++d)for(o=Au(n,ku,Cu).visitAfter(a),t=0;t<h;++t)u=n[t],s=e[u.index],l=s*s,f=u.x+u.vx,c=u.y+u.vy,o.visit(p);function p(t,n,e,i,o){var a=t.data,h=t.r,d=s+h;if(!a)return n>f+d||i<f-d||e>c+d||o<c-d;if(a.index>u.index){var p=f-a.x-a.vx,v=c-a.y-a.vy,m=p*p+v*v;m<d*d&&(0===p&&(m+=(p=bu())*p),0===v&&(m+=(v=bu())*v),m=(d-(m=Math.sqrt(m)))/m*r,u.vx+=(p*=m)*(d=(h*=h)/(l+h)),u.vy+=(v*=m)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=yu(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:yu(+n),u(),o):t},o};function Ou(t){return t.index}function Nu(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var Du=function(t){var n,e,r,i,o,a=Ou,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=yu(30),c=1;function s(r){for(var i=0,a=t.length;i<c;++i)for(var u,f,s,l,h,d,p,v=0;v<a;++v)f=(u=t[v]).source,l=(s=u.target).x+s.vx-f.x-f.vx||bu(),h=s.y+s.vy-f.y-f.vy||bu(),l*=d=((d=Math.sqrt(l*l+h*h))-e[v])/d*r*n[v],h*=d,s.vx-=l*(p=o[v]),s.vy-=h*p,f.vx+=l*(p=1-p),f.vy+=h*p}function l(){if(r){var u,f,c=r.length,s=t.length,l=Zi(r,a);for(u=0,i=new Array(c);u<s;++u)(f=t[u]).index=u,"object"!=typeof f.source&&(f.source=Nu(l,f.source)),"object"!=typeof f.target&&(f.target=Nu(l,f.target)),i[f.source.index]=(i[f.source.index]||0)+1,i[f.target.index]=(i[f.target.index]||0)+1;for(u=0,o=new Array(s);u<s;++u)f=t[u],o[u]=i[f.source.index]/(i[f.source.index]+i[f.target.index]);n=new Array(s),h(),e=new Array(s),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),s.initialize=function(t){r=t,l()},s.links=function(n){return arguments.length?(t=n,l(),s):t},s.id=function(t){return arguments.length?(a=t,s):a},s.iterations=function(t){return arguments.length?(c=+t,s):c},s.strength=function(t){return arguments.length?(u="function"==typeof t?t:yu(+t),h(),s):u},s.distance=function(t){return arguments.length?(f="function"==typeof t?t:yu(+t),d(),s):f},s};function Pu(t){return t.x}function ju(t){return t.y}var Lu=Math.PI*(3-Math.sqrt(5)),Ru=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Zi(),f=We(s),c=st("tick","end");function s(){l(),c.call("tick",n),e<r&&(f.stop(),c.call("end",n))}function l(r){var f,c,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.each((function(t){t(e)})),f=0;f<s;++f)null==(c=t[f]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(e),o=e*Lu;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return f.restart(s),n},stop:function(){return f.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,f,c=0,s=t.length;for(null==r?r=1/0:r*=r,c=0;c<s;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(f=u,r=a);return f},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},Bu=function(){var t,n,e,r,i=yu(-30),o=1,a=1/0,u=.81;function f(r){var i,o=t.length,a=Au(t,Pu,ju).visitAfter(s);for(e=r,i=0;i<o;++i)n=t[i],a.visit(l)}function c(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function s(t){var n,e,i,o,a,u=0,f=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,f+=e,i+=e*n.x,o+=e*n.y);t.x=i/f,t.y=o/f}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function l(t,i,f,c){if(!t.value)return!0;var s=t.x-n.x,l=t.y-n.y,h=c-i,d=s*s+l*l;if(h*h/u<d)return d<a&&(0===s&&(d+=(s=bu())*s),0===l&&(d+=(l=bu())*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=s*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===s&&(d+=(s=bu())*s),0===l&&(d+=(l=bu())*l),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=s*h,n.vy+=l*h)}while(t=t.next)}}return f.initialize=function(n){t=n,c()},f.strength=function(t){return arguments.length?(i="function"==typeof t?t:yu(+t),c(),f):i},f.distanceMin=function(t){return arguments.length?(o=t*t,f):Math.sqrt(o)},f.distanceMax=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.theta=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f},Fu=function(t,n,e){var r,i,o,a=yu(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var f=r[a],c=f.x-n||1e-6,s=f.y-e||1e-6,l=Math.sqrt(c*c+s*s),h=(o[a]-l)*i[a]*t/l;f.vx+=c*h,f.vy+=s*h}}function f(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=yu(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,f()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:yu(+t),f(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:yu(+n),f(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},Iu=function(t){var n,e,r,i=yu(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=yu(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:yu(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:yu(+n),a(),o):t},o},Uu=function(t){var n,e,r,i=yu(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=yu(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:yu(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:yu(+n),a(),o):t},o},qu=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Yu=function(t){return(t=qu(Math.abs(t)))?t[1]:NaN},Wu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hu(t){if(!(n=Wu.exec(t)))throw new Error("invalid format: "+t);var n;return new Gu({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Gu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Hu.prototype=Gu.prototype,Gu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Vu,Xu,$u,Qu,Zu=function(t,n){var e=qu(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ku={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Zu(100*t,n)},r:Zu,s:function(t,n){var e=qu(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Vu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qu(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ju=function(t){return t},tf=Array.prototype.map,nf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ef=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ju:(n=tf.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(t.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ju:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(tf.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Hu(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Ku[y]||(void 0===m&&(m=12),g=!0,y="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?o:/[%p]/.test(y)?f:"",x=Ku[y],w=/[defgprs%]/.test(y);function M(t){var i,o,f,h=b,M=_;if("c"===y)M=x(t)+M,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?s:x(Math.abs(t),m),g&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&(A=!1),h=(A?"("===l?l:c:"-"===l||"("===l?"":l)+h,M=("s"===y?nf[8+Vu/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(f=t.charCodeAt(i))||f>57){M=(46===f?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var E=h.length+t.length+M.length,T=E<p?new Array(p-E+1).join(n):"";switch(v&&d&&(t=r(T+t,T.length?p-M.length:1/0),T=""),e){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,E=T.length>>1)+h+t+M+T.slice(E);break;default:t=T+h+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Hu(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Yu(n)/3))),i=Math.pow(10,-r),o=nf[8+r/3];return function(t){return e(i*t)+o}}}};function rf(t){return Xu=ef(t),$u=Xu.format,Qu=Xu.formatPrefix,Xu}rf({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var of=function(t){return Math.max(0,-Yu(Math.abs(t)))},af=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yu(n)/3)))-Yu(Math.abs(t)))},uf=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Yu(n)-Yu(t))+1},ff=function(){return new cf};function cf(){this.reset()}cf.prototype={constructor:cf,reset:function(){this.s=this.t=0},add:function(t){lf(sf,t,this.t),lf(this,sf.s,this.s),this.s?this.t+=sf.t:this.s=sf.t},valueOf:function(){return this.s}};var sf=new cf;function lf(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var hf=Math.PI,df=hf/2,pf=hf/4,vf=2*hf,mf=180/hf,gf=hf/180,yf=Math.abs,bf=Math.atan,_f=Math.atan2,xf=Math.cos,wf=Math.ceil,Mf=Math.exp,Af=(Math.floor,Math.log),Ef=Math.pow,Tf=Math.sin,Sf=Math.sign||function(t){return t>0?1:t<0?-1:0},kf=Math.sqrt,Cf=Math.tan;function zf(t){return t>1?0:t<-1?hf:Math.acos(t)}function Of(t){return t>1?df:t<-1?-df:Math.asin(t)}function Nf(t){return(t=Tf(t/2))*t}function Df(){}function Pf(t,n){t&&Lf.hasOwnProperty(t.type)&&Lf[t.type](t,n)}var jf={Feature:function(t,n){Pf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Pf(e[r].geometry,n)}},Lf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Rf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Rf(e[r],n,0)},Polygon:function(t,n){Bf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bf(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Pf(e[r],n)}};function Rf(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Bf(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Rf(t[e],n,1);n.polygonEnd()}var Ff,If,Uf,qf,Yf,Wf=function(t,n){t&&jf.hasOwnProperty(t.type)?jf[t.type](t,n):Pf(t,n)},Hf=ff(),Gf=ff(),Vf={point:Df,lineStart:Df,lineEnd:Df,polygonStart:function(){Hf.reset(),Vf.lineStart=Xf,Vf.lineEnd=$f},polygonEnd:function(){var t=+Hf;Gf.add(t<0?vf+t:t),this.lineStart=this.lineEnd=this.point=Df},sphere:function(){Gf.add(vf)}};function Xf(){Vf.point=Qf}function $f(){Zf(Ff,If)}function Qf(t,n){Vf.point=Zf,Ff=t,If=n,Uf=t*=gf,qf=xf(n=(n*=gf)/2+pf),Yf=Tf(n)}function Zf(t,n){var e=(t*=gf)-Uf,r=e>=0?1:-1,i=r*e,o=xf(n=(n*=gf)/2+pf),a=Tf(n),u=Yf*a,f=qf*o+u*xf(i),c=u*r*Tf(i);Hf.add(_f(c,f)),Uf=t,qf=o,Yf=a}var Kf=function(t){return Gf.reset(),Wf(t,Vf),2*Gf};function Jf(t){return[_f(t[1],t[0]),Of(t[2])]}function tc(t){var n=t[0],e=t[1],r=xf(e);return[r*xf(n),r*Tf(n),Tf(e)]}function nc(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ec(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function rc(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ic(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function oc(t){var n=kf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var ac,uc,fc,cc,sc,lc,hc,dc,pc,vc,mc=ff(),gc={point:yc,lineStart:_c,lineEnd:xc,polygonStart:function(){gc.point=wc,gc.lineStart=Mc,gc.lineEnd=Ac,mc.reset(),Vf.polygonStart()},polygonEnd:function(){Vf.polygonEnd(),gc.point=yc,gc.lineStart=_c,gc.lineEnd=xc,Hf<0?(ac=-(fc=180),uc=-(cc=90)):mc>1e-6?cc=90:mc<-1e-6&&(uc=-90),vc[0]=ac,vc[1]=fc},sphere:function(){ac=-(fc=180),uc=-(cc=90)}};function yc(t,n){pc.push(vc=[ac=t,fc=t]),n<uc&&(uc=n),n>cc&&(cc=n)}function bc(t,n){var e=tc([t*gf,n*gf]);if(dc){var r=ec(dc,e),i=ec([r[1],-r[0],0],r);oc(i),i=Jf(i);var o,a=t-sc,u=a>0?1:-1,f=i[0]*mf*u,c=yf(a)>180;c^(u*sc<f&&f<u*t)?(o=i[1]*mf)>cc&&(cc=o):c^(u*sc<(f=(f+360)%360-180)&&f<u*t)?(o=-i[1]*mf)<uc&&(uc=o):(n<uc&&(uc=n),n>cc&&(cc=n)),c?t<sc?Ec(ac,t)>Ec(ac,fc)&&(fc=t):Ec(t,fc)>Ec(ac,fc)&&(ac=t):fc>=ac?(t<ac&&(ac=t),t>fc&&(fc=t)):t>sc?Ec(ac,t)>Ec(ac,fc)&&(fc=t):Ec(t,fc)>Ec(ac,fc)&&(ac=t)}else pc.push(vc=[ac=t,fc=t]);n<uc&&(uc=n),n>cc&&(cc=n),dc=e,sc=t}function _c(){gc.point=bc}function xc(){vc[0]=ac,vc[1]=fc,gc.point=yc,dc=null}function wc(t,n){if(dc){var e=t-sc;mc.add(yf(e)>180?e+(e>0?360:-360):e)}else lc=t,hc=n;Vf.point(t,n),bc(t,n)}function Mc(){Vf.lineStart()}function Ac(){wc(lc,hc),Vf.lineEnd(),yf(mc)>1e-6&&(ac=-(fc=180)),vc[0]=ac,vc[1]=fc,dc=null}function Ec(t,n){return(n-=t)<0?n+360:n}function Tc(t,n){return t[0]-n[0]}function Sc(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var kc,Cc,zc,Oc,Nc,Dc,Pc,jc,Lc,Rc,Bc,Fc,Ic,Uc,qc,Yc,Wc=function(t){var n,e,r,i,o,a,u;if(cc=fc=-(ac=uc=1/0),pc=[],Wf(t,gc),e=pc.length){for(pc.sort(Tc),n=1,o=[r=pc[0]];n<e;++n)Sc(r,(i=pc[n])[0])||Sc(r,i[1])?(Ec(r[0],i[1])>Ec(r[0],r[1])&&(r[1]=i[1]),Ec(i[0],r[1])>Ec(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=Ec(r[1],i[0]))>a&&(a=u,ac=i[0],fc=r[1])}return pc=vc=null,ac===1/0||uc===1/0?[[NaN,NaN],[NaN,NaN]]:[[ac,uc],[fc,cc]]},Hc={sphere:Df,point:Gc,lineStart:Xc,lineEnd:Zc,polygonStart:function(){Hc.lineStart=Kc,Hc.lineEnd=Jc},polygonEnd:function(){Hc.lineStart=Xc,Hc.lineEnd=Zc}};function Gc(t,n){t*=gf;var e=xf(n*=gf);Vc(e*xf(t),e*Tf(t),Tf(n))}function Vc(t,n,e){++kc,zc+=(t-zc)/kc,Oc+=(n-Oc)/kc,Nc+=(e-Nc)/kc}function Xc(){Hc.point=$c}function $c(t,n){t*=gf;var e=xf(n*=gf);Uc=e*xf(t),qc=e*Tf(t),Yc=Tf(n),Hc.point=Qc,Vc(Uc,qc,Yc)}function Qc(t,n){t*=gf;var e=xf(n*=gf),r=e*xf(t),i=e*Tf(t),o=Tf(n),a=_f(kf((a=qc*o-Yc*i)*a+(a=Yc*r-Uc*o)*a+(a=Uc*i-qc*r)*a),Uc*r+qc*i+Yc*o);Cc+=a,Dc+=a*(Uc+(Uc=r)),Pc+=a*(qc+(qc=i)),jc+=a*(Yc+(Yc=o)),Vc(Uc,qc,Yc)}function Zc(){Hc.point=Gc}function Kc(){Hc.point=ts}function Jc(){ns(Fc,Ic),Hc.point=Gc}function ts(t,n){Fc=t,Ic=n,t*=gf,n*=gf,Hc.point=ns;var e=xf(n);Uc=e*xf(t),qc=e*Tf(t),Yc=Tf(n),Vc(Uc,qc,Yc)}function ns(t,n){t*=gf;var e=xf(n*=gf),r=e*xf(t),i=e*Tf(t),o=Tf(n),a=qc*o-Yc*i,u=Yc*r-Uc*o,f=Uc*i-qc*r,c=kf(a*a+u*u+f*f),s=Of(c),l=c&&-s/c;Lc+=l*a,Rc+=l*u,Bc+=l*f,Cc+=s,Dc+=s*(Uc+(Uc=r)),Pc+=s*(qc+(qc=i)),jc+=s*(Yc+(Yc=o)),Vc(Uc,qc,Yc)}var es=function(t){kc=Cc=zc=Oc=Nc=Dc=Pc=jc=Lc=Rc=Bc=0,Wf(t,Hc);var n=Lc,e=Rc,r=Bc,i=n*n+e*e+r*r;return i<1e-12&&(n=Dc,e=Pc,r=jc,Cc<1e-6&&(n=zc,e=Oc,r=Nc),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[_f(e,n)*mf,Of(r/kf(i))*mf]},rs=function(t){return function(){return t}},is=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function os(t,n){return[yf(t)>hf?t+Math.round(-t/vf)*vf:t,n]}function as(t,n,e){return(t%=vf)?n||e?is(fs(t),cs(n,e)):fs(t):n||e?cs(n,e):os}function us(t){return function(n,e){return[(n+=t)>hf?n-vf:n<-hf?n+vf:n,e]}}function fs(t){var n=us(t);return n.invert=us(-t),n}function cs(t,n){var e=xf(t),r=Tf(t),i=xf(n),o=Tf(n);function a(t,n){var a=xf(n),u=xf(t)*a,f=Tf(t)*a,c=Tf(n),s=c*e+u*r;return[_f(f*i-s*o,u*e-c*r),Of(s*i+f*o)]}return a.invert=function(t,n){var a=xf(n),u=xf(t)*a,f=Tf(t)*a,c=Tf(n),s=c*i-f*o;return[_f(f*i+c*o,u*e+s*r),Of(s*e-u*r)]},a}os.invert=os;var ss=function(t){function n(n){return(n=t(n[0]*gf,n[1]*gf))[0]*=mf,n[1]*=mf,n}return t=as(t[0]*gf,t[1]*gf,t.length>2?t[2]*gf:0),n.invert=function(n){return(n=t.invert(n[0]*gf,n[1]*gf))[0]*=mf,n[1]*=mf,n},n};function ls(t,n,e,r,i,o){if(e){var a=xf(n),u=Tf(n),f=r*e;null==i?(i=n+r*vf,o=n-f/2):(i=hs(a,i),o=hs(a,o),(r>0?i<o:i>o)&&(i+=r*vf));for(var c,s=i;r>0?s>o:s<o;s-=f)c=Jf([a,-u*xf(s),-u*Tf(s)]),t.point(c[0],c[1])}}function hs(t,n){(n=tc(n))[0]-=t,oc(n);var e=zf(-n[1]);return((-n[2]<0?-e:e)+vf-1e-6)%vf}var ds=function(){var t,n,e=rs([0,0]),r=rs(90),i=rs(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=mf,e[1]*=mf}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*gf,f=i.apply(this,arguments)*gf;return t=[],n=as(-a[0]*gf,-a[1]*gf,0).invert,ls(o,u,f,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:rs([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:rs(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:rs(+t),a):i},a},ps=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Df,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},vs=function(t,n){return yf(t[0]-n[0])<1e-6&&yf(t[1]-n[1])<1e-6};function ms(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var gs=function(t,n,e,r,i){var o,a,u=[],f=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(vs(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new ms(r,t,null,!0)),f.push(e.o=new ms(r,null,e,!1)),u.push(e=new ms(a,t,null,!1)),f.push(e.o=new ms(a,null,e,!0))}})),u.length){for(f.sort(n),ys(u),ys(f),o=0,a=f.length;o<a;++o)f[o].e=e=!e;for(var c,s,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((s=c[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function ys(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var bs=ff();function _s(t){return yf(t[0])<=hf?t[0]:Sf(t[0])*((yf(t[0])+hf)%vf-hf)}var xs=function(t,n){var e=_s(n),r=n[1],i=Tf(r),o=[Tf(e),-xf(e),0],a=0,u=0;bs.reset(),1===i?r=df+1e-6:-1===i&&(r=-df-1e-6);for(var f=0,c=t.length;f<c;++f)if(l=(s=t[f]).length)for(var s,l,h=s[l-1],d=_s(h),p=h[1]/2+pf,v=Tf(p),m=xf(p),g=0;g<l;++g,d=b,v=x,m=w,h=y){var y=s[g],b=_s(y),_=y[1]/2+pf,x=Tf(_),w=xf(_),M=b-d,A=M>=0?1:-1,E=A*M,T=E>hf,S=v*x;if(bs.add(_f(S*A*Tf(E),m*w+S*xf(E))),a+=T?M+A*vf:M,T^d>=e^b>=e){var k=ec(tc(h),tc(y));oc(k);var C=ec(o,k);oc(C);var z=(T^M>=0?-1:1)*Of(C[2]);(r>z||r===z&&(k[0]||k[1]))&&(u+=T^M>=0?1:-1)}}return(a<-1e-6||a<1e-6&&bs<-1e-6)^1&u},ws=function(t,n,e,r){return function(i){var o,a,u,f=n(i),c=ps(),s=n(c),l=!1,h={point:d,lineStart:v,lineEnd:m,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=m,a=R(a);var t=xs(o,r);a.length?(l||(i.polygonStart(),l=!0),gs(a,As,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function v(){h.point=p,f.lineStart()}function m(){h.point=d,f.lineEnd()}function g(t,n){u.push([t,n]),s.point(t,n)}function y(){s.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,f=s.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&f){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&f&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ms))}return h}};function Ms(t){return t.length>1}function As(t,n){return((t=t.x)[0]<0?t[1]-df-1e-6:df-t[1])-((n=n.x)[0]<0?n[1]-df-1e-6:df-n[1])}var Es=ws((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?hf:-hf,f=yf(o-e);yf(f-hf)<1e-6?(t.point(e,r=(r+a)/2>0?df:-df),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&f>=hf&&(yf(e-i)<1e-6&&(e-=1e-6*i),yf(o-u)<1e-6&&(o-=1e-6*u),r=function(t,n,e,r){var i,o,a=Tf(t-e);return yf(a)>1e-6?bf((Tf(n)*(o=xf(r))*Tf(e)-Tf(r)*(i=xf(n))*Tf(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*df,r.point(-hf,i),r.point(0,i),r.point(hf,i),r.point(hf,0),r.point(hf,-i),r.point(0,-i),r.point(-hf,-i),r.point(-hf,0),r.point(-hf,i);else if(yf(t[0]-n[0])>1e-6){var o=t[0]<n[0]?hf:-hf;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-hf,-df]);var Ts=function(t){var n=xf(t),e=6*gf,r=n>0,i=yf(n)>1e-6;function o(t,e){return xf(t)*xf(e)>n}function a(t,e,r){var i=[1,0,0],o=ec(tc(t),tc(e)),a=nc(o,o),u=o[0],f=a-u*u;if(!f)return!r&&t;var c=n*a/f,s=-n*u/f,l=ec(i,o),h=ic(i,c);rc(h,ic(o,s));var d=l,p=nc(h,d),v=nc(d,d),m=p*p-v*(nc(h,h)-1);if(!(m<0)){var g=kf(m),y=ic(d,(-p-g)/v);if(rc(y,h),y=Jf(y),!r)return y;var b,_=t[0],x=e[0],w=t[1],M=e[1];x<_&&(b=_,_=x,x=b);var A=x-_,E=yf(A-hf)<1e-6;if(!E&&M<w&&(b=w,w=M,M=b),E||A<1e-6?E?w+M>0^y[1]<(yf(y[0]-_)<1e-6?w:M):w<=y[1]&&y[1]<=M:A>hf^(_<=y[0]&&y[0]<=x)){var T=ic(d,(-p+g)/v);return rc(T,h),[y,Jf(T)]}}}function u(n,e){var i=r?t:hf-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return ws(o,(function(t){var n,e,f,c,s;return{lineStart:function(){c=f=!1,s=1},point:function(l,h){var d,p=[l,h],v=o(l,h),m=r?v?0:u(l,h):v?u(l+(l<0?hf:-hf),h):0;if(!n&&(c=f=v)&&t.lineStart(),v!==f&&(!(d=a(n,p))||vs(n,d)||vs(p,d))&&(p[0]+=1e-6,p[1]+=1e-6,v=o(p[0],p[1])),v!==f)s=0,v?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^v){var g;m&e||!(g=a(p,n,!0))||(s=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||n&&vs(n,p)||t.point(p[0],p[1]),n=p,f=v,e=m},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return s|(c&&f)<<1}}}),(function(n,r,i,o){ls(o,t,e,i,n,r)}),r?[0,-t]:[-hf,t-hf])};function Ss(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||f(i,o)<0^u>0)do{c.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==l);else c.point(o[0],o[1])}function a(r,i){return yf(r[0]-t)<1e-6?i>0?0:3:yf(r[0]-e)<1e-6?i>0?2:1:yf(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function u(t,n){return f(t.x,n.x)}function f(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var f,c,s,l,h,d,p,v,m,g,y,b=a,_=ps(),x={point:w,lineStart:function(){x.point=M,c&&c.push(s=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){f&&(M(l,h),d&&m&&_.rejoin(),f.push(_.result()));x.point=w,m&&b.lineEnd()},polygonStart:function(){b=_,f=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],f=1,s=u.length,l=u[0],h=l[0],d=l[1];f<s;++f)o=h,a=d,l=u[f],h=l[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=y&&n,i=(f=R(f)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&gs(f,u,n,o,a),a.polygonEnd());b=a,f=c=s=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(c&&s.push([o,a]),g)l=o,h=a,d=u,g=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&m)b.point(o,a);else{var f=[p=Math.max(-1e9,Math.min(1e9,p)),v=Math.max(-1e9,Math.min(1e9,v))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,n,e,r,i,o){var a,u=t[0],f=t[1],c=0,s=1,l=n[0]-u,h=n[1]-f;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>c&&(c=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<s&&(s=a)}if(a=r-f,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>c&&(c=a)}if(a=o-f,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<s&&(s=a)}return c>0&&(t[0]=u+c*l,t[1]=f+c*h),s<1&&(n[0]=u+s*l,n[1]=f+s*h),!0}}}}}(f,_,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),y=!1):(m||(b.lineStart(),b.point(f[0],f[1])),b.point(_[0],_[1]),u||b.lineEnd(),y=!1)}p=o,v=a,m=u}return x}}var ks,Cs,zs,Os=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Ss(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},Ns=ff(),Ds={sphere:Df,point:Df,lineStart:function(){Ds.point=js,Ds.lineEnd=Ps},lineEnd:Df,polygonStart:Df,polygonEnd:Df};function Ps(){Ds.point=Ds.lineEnd=Df}function js(t,n){ks=t*=gf,Cs=Tf(n*=gf),zs=xf(n),Ds.point=Ls}function Ls(t,n){t*=gf;var e=Tf(n*=gf),r=xf(n),i=yf(t-ks),o=xf(i),a=r*Tf(i),u=zs*e-Cs*r*o,f=Cs*e+zs*r*o;Ns.add(_f(kf(a*a+u*u),f)),ks=t,Cs=e,zs=r}var Rs=function(t){return Ns.reset(),Wf(t,Ds),+Ns},Bs=[null,null],Fs={type:"LineString",coordinates:Bs},Is=function(t,n){return Bs[0]=t,Bs[1]=n,Rs(Fs)},Us={Feature:function(t,n){return Ys(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Ys(e[r].geometry,n))return!0;return!1}},qs={Sphere:function(){return!0},Point:function(t,n){return Ws(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Ws(e[r],n))return!0;return!1},LineString:function(t,n){return Hs(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Hs(e[r],n))return!0;return!1},Polygon:function(t,n){return Gs(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Gs(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Ys(e[r],n))return!0;return!1}};function Ys(t,n){return!(!t||!qs.hasOwnProperty(t.type))&&qs[t.type](t,n)}function Ws(t,n){return 0===Is(t,n)}function Hs(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Is(t[o],n)))return!0;if(o>0&&(i=Is(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<1e-12*i)return!0;e=r}return!1}function Gs(t,n){return!!xs(t.map(Vs),Xs(n))}function Vs(t){return(t=t.map(Xs)).pop(),t}function Xs(t){return[t[0]*gf,t[1]*gf]}var $s=function(t,n){return(t&&Us.hasOwnProperty(t.type)?Us[t.type]:Ys)(t,n)};function Qs(t,n,e){var r=w(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Zs(t,n,e){var r=w(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Ks(){var t,n,e,r,i,o,a,u,f,c,s,l,h=10,d=h,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return w(wf(r/p)*p,e,p).map(s).concat(w(wf(u/v)*v,a,v).map(l)).concat(w(wf(n/h)*h,t,h).filter((function(t){return yf(t%p)>1e-6})).map(f)).concat(w(wf(o/d)*d,i,d).filter((function(t){return yf(t%v)>1e-6})).map(c))}return g.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},g.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(a).slice(1),s(e).reverse().slice(1),l(u).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),g.precision(m)):[[r,u],[e,a]]},g.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),g.precision(m)):[[n,o],[t,i]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],g):[p,v]},g.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],g):[h,d]},g.precision=function(h){return arguments.length?(m=+h,f=Qs(o,i,90),c=Zs(n,t,m),s=Qs(u,a,90),l=Zs(r,e,m),g):m},g.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}function Js(){return Ks()()}var tl,nl,el,rl,il=function(t,n){var e=t[0]*gf,r=t[1]*gf,i=n[0]*gf,o=n[1]*gf,a=xf(r),u=Tf(r),f=xf(o),c=Tf(o),s=a*xf(e),l=a*Tf(e),h=f*xf(i),d=f*Tf(i),p=2*Of(kf(Nf(o-r)+a*f*Nf(i-e))),v=Tf(p),m=p?function(t){var n=Tf(t*=p)/v,e=Tf(p-t)/v,r=e*s+n*h,i=e*l+n*d,o=e*u+n*c;return[_f(i,r)*mf,_f(o,kf(r*r+i*i))*mf]}:function(){return[e*mf,r*mf]};return m.distance=p,m},ol=function(t){return t},al=ff(),ul=ff(),fl={point:Df,lineStart:Df,lineEnd:Df,polygonStart:function(){fl.lineStart=cl,fl.lineEnd=hl},polygonEnd:function(){fl.lineStart=fl.lineEnd=fl.point=Df,al.add(yf(ul)),ul.reset()},result:function(){var t=al/2;return al.reset(),t}};function cl(){fl.point=sl}function sl(t,n){fl.point=ll,tl=el=t,nl=rl=n}function ll(t,n){ul.add(rl*t-el*n),el=t,rl=n}function hl(){ll(tl,nl)}var dl=fl,pl=1/0,vl=pl,ml=-pl,gl=ml;var yl,bl,_l,xl,wl={point:function(t,n){t<pl&&(pl=t);t>ml&&(ml=t);n<vl&&(vl=n);n>gl&&(gl=n)},lineStart:Df,lineEnd:Df,polygonStart:Df,polygonEnd:Df,result:function(){var t=[[pl,vl],[ml,gl]];return ml=gl=-(vl=pl=1/0),t}},Ml=0,Al=0,El=0,Tl=0,Sl=0,kl=0,Cl=0,zl=0,Ol=0,Nl={point:Dl,lineStart:Pl,lineEnd:Rl,polygonStart:function(){Nl.lineStart=Bl,Nl.lineEnd=Fl},polygonEnd:function(){Nl.point=Dl,Nl.lineStart=Pl,Nl.lineEnd=Rl},result:function(){var t=Ol?[Cl/Ol,zl/Ol]:kl?[Tl/kl,Sl/kl]:El?[Ml/El,Al/El]:[NaN,NaN];return Ml=Al=El=Tl=Sl=kl=Cl=zl=Ol=0,t}};function Dl(t,n){Ml+=t,Al+=n,++El}function Pl(){Nl.point=jl}function jl(t,n){Nl.point=Ll,Dl(_l=t,xl=n)}function Ll(t,n){var e=t-_l,r=n-xl,i=kf(e*e+r*r);Tl+=i*(_l+t)/2,Sl+=i*(xl+n)/2,kl+=i,Dl(_l=t,xl=n)}function Rl(){Nl.point=Dl}function Bl(){Nl.point=Il}function Fl(){Ul(yl,bl)}function Il(t,n){Nl.point=Ul,Dl(yl=_l=t,bl=xl=n)}function Ul(t,n){var e=t-_l,r=n-xl,i=kf(e*e+r*r);Tl+=i*(_l+t)/2,Sl+=i*(xl+n)/2,kl+=i,Cl+=(i=xl*t-_l*n)*(_l+t),zl+=i*(xl+n),Ol+=3*i,Dl(_l=t,xl=n)}var ql=Nl;function Yl(t){this._context=t}Yl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,vf)}},result:Df};var Wl,Hl,Gl,Vl,Xl,$l=ff(),Ql={point:Df,lineStart:function(){Ql.point=Zl},lineEnd:function(){Wl&&Kl(Hl,Gl),Ql.point=Df},polygonStart:function(){Wl=!0},polygonEnd:function(){Wl=null},result:function(){var t=+$l;return $l.reset(),t}};function Zl(t,n){Ql.point=Kl,Hl=Vl=t,Gl=Xl=n}function Kl(t,n){Vl-=t,Xl-=n,$l.add(kf(Vl*Vl+Xl*Xl)),Vl=t,Xl=n}var Jl=Ql;function th(){this._string=[]}function nh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}th.prototype={_radius:4.5,_circle:nh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=nh(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var eh=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Wf(t,e(r))),r.result()}return o.area=function(t){return Wf(t,e(dl)),dl.result()},o.measure=function(t){return Wf(t,e(Jl)),Jl.result()},o.bounds=function(t){return Wf(t,e(wl)),wl.result()},o.centroid=function(t){return Wf(t,e(ql)),ql.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,ol):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new th):new Yl(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},rh=function(t){return{stream:ih(t)}};function ih(t){return function(n){var e=new oh;for(var r in t)e[r]=t[r];return e.stream=n,e}}function oh(){}function ah(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Wf(e,t.stream(wl)),n(wl.result()),null!=r&&t.clipExtent(r),t}function uh(t,n,e){return ah(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function fh(t,n,e){return uh(t,[[0,0],n],e)}function ch(t,n,e){return ah(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function sh(t,n,e){return ah(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}oh.prototype={constructor:oh,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lh=xf(30*gf),hh=function(t,n){return+n?function(t,n){function e(r,i,o,a,u,f,c,s,l,h,d,p,v,m){var g=c-r,y=s-i,b=g*g+y*y;if(b>4*n&&v--){var _=a+h,x=u+d,w=f+p,M=kf(_*_+x*x+w*w),A=Of(w/=M),E=yf(yf(w)-1)<1e-6||yf(o-l)<1e-6?(o+l)/2:_f(x,_),T=t(E,A),S=T[0],k=T[1],C=S-r,z=k-i,O=y*C-g*z;(O*O/b>n||yf((g*C+y*z)/b-.5)>.3||a*h+u*d+f*p<lh)&&(e(r,i,o,a,u,f,S,k,E,_/=M,x/=M,w,v,m),m.point(S,k),e(S,k,E,_,x,w,c,s,l,h,d,p,v,m))}}return function(n){var r,i,o,a,u,f,c,s,l,h,d,p,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){n.polygonStart(),v.lineStart=_},polygonEnd:function(){n.polygonEnd(),v.lineStart=g}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function g(){s=NaN,v.point=y,n.lineStart()}function y(r,i){var o=tc([r,i]),a=t(r,i);e(s,l,c,h,d,p,s=a[0],l=a[1],c=r,h=o[0],d=o[1],p=o[2],16,n),n.point(s,l)}function b(){v.point=m,n.lineEnd()}function _(){g(),v.point=x,v.lineEnd=w}function x(t,n){y(r=t,n),i=s,o=l,a=h,u=d,f=p,v.point=y}function w(){e(s,l,c,h,d,p,i,o,r,a,u,f,16,n),v.lineEnd=b,b()}return v}}(t,n):function(t){return ih({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var dh=ih({point:function(t,n){this.stream.point(t*gf,n*gf)}});function ph(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function vh(t,n,e,r){var i=xf(r),o=Tf(r),a=i*t,u=o*t,f=i/t,c=o/t,s=(o*e-i*n)/t,l=(o*n+i*e)/t;function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}return h.invert=function(t,n){return[f*t-c*n+s,l-c*t-f*n]},h}function mh(t){return gh((function(){return t}))()}function gh(t){var n,e,r,i,o,a,u,f,c,s,l=150,h=480,d=250,p=0,v=0,m=0,g=0,y=0,b=0,_=null,x=Es,w=null,M=ol,A=.5;function E(t){return f(t[0]*gf,t[1]*gf)}function T(t){return(t=f.invert(t[0],t[1]))&&[t[0]*mf,t[1]*mf]}function S(){var t=vh(l,0,0,b).apply(null,n(p,v)),r=(b?vh:ph)(l,h-t[0],d-t[1],b);return e=as(m,g,y),u=is(n,r),f=is(e,u),a=hh(u,A),k()}function k(){return c=s=null,E}return E.stream=function(t){return c&&s===t?c:c=dh(function(t){return ih({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(a(M(s=t)))))},E.preclip=function(t){return arguments.length?(x=t,_=void 0,k()):x},E.postclip=function(t){return arguments.length?(M=t,w=r=i=o=null,k()):M},E.clipAngle=function(t){return arguments.length?(x=+t?Ts(_=t*gf):(_=null,Es),k()):_*mf},E.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=o=null,ol):Ss(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),k()):null==w?null:[[w,r],[i,o]]},E.scale=function(t){return arguments.length?(l=+t,S()):l},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*gf,v=t[1]%360*gf,S()):[p*mf,v*mf]},E.rotate=function(t){return arguments.length?(m=t[0]%360*gf,g=t[1]%360*gf,y=t.length>2?t[2]%360*gf:0,S()):[m*mf,g*mf,y*mf]},E.angle=function(t){return arguments.length?(b=t%360*gf,S()):b*mf},E.precision=function(t){return arguments.length?(a=hh(u,A=t*t),k()):kf(A)},E.fitExtent=function(t,n){return uh(E,t,n)},E.fitSize=function(t,n){return fh(E,t,n)},E.fitWidth=function(t,n){return ch(E,t,n)},E.fitHeight=function(t,n){return sh(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&T,S()}}function yh(t){var n=0,e=hf/3,r=gh(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*gf,e=t[1]*gf):[n*mf,e*mf]},i}function bh(t,n){var e=Tf(t),r=(e+Tf(n))/2;if(yf(r)<1e-6)return function(t){var n=xf(t);function e(t,e){return[t*n,Tf(e)/n]}return e.invert=function(t,e){return[t/n,Of(e*n)]},e}(t);var i=1+e*(2*r-e),o=kf(i)/r;function a(t,n){var e=kf(i-2*r*Tf(n))/r;return[e*Tf(t*=r),o-e*xf(t)]}return a.invert=function(t,n){var e=o-n;return[_f(t,yf(e))/r*Sf(e),Of((i-(t*t+e*e)*r*r)/(2*r))]},a}var _h=function(){return yh(bh).scale(155.424).center([0,33.6442])},xh=function(){return _h().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var wh=function(){var t,n,e,r,i,o,a=xh(),u=_h().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=_h().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),f.precision(t),l()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),f.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(c),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+1e-6,s+.12*n+1e-6],[o-.214*n-1e-6,s+.234*n-1e-6]]).stream(c),i=f.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+1e-6,s+.166*n+1e-6],[o-.115*n-1e-6,s+.234*n-1e-6]]).stream(c),l()},s.fitExtent=function(t,n){return uh(s,t,n)},s.fitSize=function(t,n){return fh(s,t,n)},s.fitWidth=function(t,n){return ch(s,t,n)},s.fitHeight=function(t,n){return sh(s,t,n)},s.scale(1070)};function Mh(t){return function(n,e){var r=xf(n),i=xf(e),o=t(r*i);return[o*i*Tf(n),o*Tf(e)]}}function Ah(t){return function(n,e){var r=kf(n*n+e*e),i=t(r),o=Tf(i),a=xf(i);return[_f(n*o,r*a),Of(r&&e*o/r)]}}var Eh=Mh((function(t){return kf(2/(1+t))}));Eh.invert=Ah((function(t){return 2*Of(t/2)}));var Th=function(){return mh(Eh).scale(124.75).clipAngle(179.999)},Sh=Mh((function(t){return(t=zf(t))&&t/Tf(t)}));Sh.invert=Ah((function(t){return t}));var kh=function(){return mh(Sh).scale(79.4188).clipAngle(179.999)};function Ch(t,n){return[t,Af(Cf((df+n)/2))]}Ch.invert=function(t,n){return[t,2*bf(Mf(n))-df]};var zh=function(){return Oh(Ch).scale(961/vf)};function Oh(t){var n,e,r,i=mh(t),o=i.center,a=i.scale,u=i.translate,f=i.clipExtent,c=null;function s(){var o=hf*a(),u=i(ss(i.rotate()).invert([0,0]));return f(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Ch?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}function Nh(t){return Cf((df+t)/2)}function Dh(t,n){var e=xf(t),r=t===n?Tf(t):Af(e/xf(n))/Af(Nh(n)/Nh(t)),i=e*Ef(Nh(t),r)/r;if(!r)return Ch;function o(t,n){i>0?n<1e-6-df&&(n=1e-6-df):n>df-1e-6&&(n=df-1e-6);var e=i/Ef(Nh(n),r);return[e*Tf(r*t),i-e*xf(r*t)]}return o.invert=function(t,n){var e=i-n,o=Sf(r)*kf(t*t+e*e);return[_f(t,yf(e))/r*Sf(e),2*bf(Ef(i/o,1/r))-df]},o}var Ph=function(){return yh(Dh).scale(109.5).parallels([30,30])};function jh(t,n){return[t,n]}jh.invert=jh;var Lh=function(){return mh(jh).scale(152.63)};function Rh(t,n){var e=xf(t),r=t===n?Tf(t):(e-xf(n))/(n-t),i=e/r+t;if(yf(r)<1e-6)return jh;function o(t,n){var e=i-n,o=r*t;return[e*Tf(o),i-e*xf(o)]}return o.invert=function(t,n){var e=i-n;return[_f(t,yf(e))/r*Sf(e),i-Sf(r)*kf(t*t+e*e)]},o}var Bh=function(){return yh(Rh).scale(131.154).center([0,13.9389])},Fh=1.340264,Ih=-.081106,Uh=893e-6,qh=.003796,Yh=kf(3)/2;function Wh(t,n){var e=Of(Yh*Tf(n)),r=e*e,i=r*r*r;return[t*xf(e)/(Yh*(Fh+3*Ih*r+i*(7*Uh+9*qh*r))),e*(Fh+Ih*r+i*(Uh+qh*r))]}Wh.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Fh+Ih*i+o*(Uh+qh*i))-n)/(Fh+3*Ih*i+o*(7*Uh+9*qh*i)))*r)*i*i,!(yf(e)<1e-12));++a);return[Yh*t*(Fh+3*Ih*i+o*(7*Uh+9*qh*i))/xf(r),Of(Tf(r)/Yh)]};var Hh=function(){return mh(Wh).scale(177.158)};function Gh(t,n){var e=xf(n),r=xf(t)*e;return[e*Tf(t)/r,Tf(n)/r]}Gh.invert=Ah(bf);var Vh=function(){return mh(Gh).scale(144.049).clipAngle(60)};function Xh(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?ol:ih({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}var $h=function(){var t,n,e,r,i,o,a=1,u=0,f=0,c=1,s=1,l=ol,h=null,d=ol;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=l(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,ol):Ss(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(l=Xh((a=+t)*c,a*s,u,f),p()):a},translate:function(t){return arguments.length?(l=Xh(a*c,a*s,u=+t[0],f=+t[1]),p()):[u,f]},reflectX:function(t){return arguments.length?(l=Xh(a*(c=t?-1:1),a*s,u,f),p()):c<0},reflectY:function(t){return arguments.length?(l=Xh(a*c,a*(s=t?-1:1),u,f),p()):s<0},fitExtent:function(t,n){return uh(o,t,n)},fitSize:function(t,n){return fh(o,t,n)},fitWidth:function(t,n){return ch(o,t,n)},fitHeight:function(t,n){return sh(o,t,n)}}};function Qh(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Qh.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(yf(e)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Zh=function(){return mh(Qh).scale(175.295)};function Kh(t,n){return[xf(n)*Tf(t),Tf(n)]}Kh.invert=Ah(Of);var Jh=function(){return mh(Kh).scale(249.5).clipAngle(90+1e-6)};function td(t,n){var e=xf(n),r=1+xf(t)*e;return[e*Tf(t)/r,Tf(n)/r]}td.invert=Ah((function(t){return 2*bf(t)}));var nd=function(){return mh(td).scale(250).clipAngle(142)};function ed(t,n){return[Af(Cf((df+n)/2)),-t]}ed.invert=function(t,n){return[-n,2*bf(Mf(t))-df]};var rd=function(){var t=Oh(ed),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function id(t,n){return t.parent===n.parent?1:2}function od(t,n){return t+n.x}function ad(t,n){return Math.max(t,n.y)}var ud=function(){var t=id,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(od,0)/t.length}(e),n.y=function(t){return 1+t.reduce(ad,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),f=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,f)/2,s=f.x+t(f,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(s-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function fd(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function cd(t,n){var e,r,i,o,a,u=new dd(t),f=+t.value&&(u.value=t.value),c=[u];for(null==n&&(n=sd);e=c.pop();)if(f&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)c.push(r=e.children[o]=new dd(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(hd)}function sd(t){return t.children}function ld(t){t.data=t.data.data}function hd(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function dd(t){this.data=t,this.depth=this.height=0,this.parent=null}dd.prototype=cd.prototype={constructor:dd,count:function(){return this.eachAfter(fd)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return cd(this).eachBefore(ld)}};var pd=Array.prototype.slice;var vd=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(pd.call(t))).length,o=[];r<i;)n=t[r],e&&yd(e,n)?++r:(e=_d(o=md(o,n)),r=0);return e};function md(t,n){var e,r;if(bd(n,t))return[n];for(e=0;e<t.length;++e)if(gd(n,t[e])&&bd(xd(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(gd(xd(t[e],t[r]),n)&&gd(xd(t[e],n),t[r])&&gd(xd(t[r],n),t[e])&&bd(wd(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function gd(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yd(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function bd(t,n){for(var e=0;e<n.length;++e)if(!yd(t,n[e]))return!1;return!0}function _d(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return xd(t[0],t[1]);case 3:return wd(t[0],t[1],t[2])}var n}function xd(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,f=o-e,c=a-r,s=u-i,l=Math.sqrt(f*f+c*c);return{x:(e+o+f/l*s)/2,y:(r+a+c/l*s)/2,r:(l+i+u)/2}}function wd(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,f=n.r,c=e.x,s=e.y,l=e.r,h=r-a,d=r-c,p=i-u,v=i-s,m=f-o,g=l-o,y=r*r+i*i-o*o,b=y-a*a-u*u+f*f,_=y-c*c-s*s+l*l,x=d*p-h*v,w=(p*_-v*b)/(2*x)-r,M=(v*m-p*g)/x,A=(d*b-h*_)/(2*x)-i,E=(h*g-d*m)/x,T=M*M+E*E-1,S=2*(o+w*M+A*E),k=w*w+A*A-o*o,C=-(T?(S+Math.sqrt(S*S-4*T*k))/(2*T):k/S);return{x:r+w+M*C,y:i+A+E*C,r:C}}function Md(t,n,e){var r,i,o,a,u=t.x-n.x,f=t.y-n.y,c=u*u+f*f;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*f,e.y=t.y-r*f+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*f,e.y=n.y+r*f+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Ad(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Ed(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Td(t){this._=t,this.next=null,this.previous=null}function Sd(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,f,c,s,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Md(e,n,r=t[2]),n=new Td(n),e=new Td(e),r=new Td(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){Md(n._,e._,r=t[u]),r=new Td(r),f=e.next,c=n.previous,s=e._.r,l=n._.r;do{if(s<=l){if(Ad(f._,r._)){e=f,n.next=e,e.previous=n,--u;continue t}s+=f._.r,f=f.next}else{if(Ad(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}l+=c._.r,c=c.previous}}while(f!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Ed(n);(r=r.next)!==e;)(a=Ed(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=vd(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}var kd=function(t){return Sd(t),t};function Cd(t){return null==t?null:zd(t)}function zd(t){if("function"!=typeof t)throw new Error;return t}function Od(){return 0}var Nd=function(t){return function(){return t}};function Dd(t){return Math.sqrt(t.value)}var Pd=function(){var t=null,n=1,e=1,r=Od;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(jd(t)).eachAfter(Ld(r,.5)).eachBefore(Rd(1)):i.eachBefore(jd(Dd)).eachAfter(Ld(Od,1)).eachAfter(Ld(r,i.r/Math.min(n,e))).eachBefore(Rd(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=Cd(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Nd(+t),i):r},i};function jd(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Ld(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Sd(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function Rd(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var Bd=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Fd=function(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(r-n)/t.value;++u<f;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c},Id=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Fd(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Bd),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},Ud={depth:-1},qd={};function Yd(t){return t.id}function Wd(t){return t.parentId}var Hd=function(){var t=Yd,n=Wd;function e(e){var r,i,o,a,u,f,c,s=e.length,l=new Array(s),h={};for(i=0;i<s;++i)r=e[i],u=l[i]=new dd(r),null!=(f=t(r,i,e))&&(f+="")&&(h[c="$"+(u.id=f)]=c in h?qd:u);for(i=0;i<s;++i)if(u=l[i],null!=(f=n(e[i],i,e))&&(f+="")){if(!(a=h["$"+f]))throw new Error("missing: "+f);if(a===qd)throw new Error("ambiguous: "+f);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=Ud,o.eachBefore((function(t){t.depth=t.parent.depth+1,--s})).eachBefore(hd),o.parent=null,s>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=zd(n),e):t},e.parentId=function(t){return arguments.length?(n=zd(t),e):n},e};function Gd(t,n){return t.parent===n.parent?1:2}function Vd(t){var n=t.children;return n?n[0]:t.t}function Xd(t){var n=t.children;return n?n[n.length-1]:t.t}function $d(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Qd(t,n,e){return t.a.parent===n.parent?t.a:e}function Zd(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Zd.prototype=Object.create(dd.prototype);var Kd=function(){var t=Gd,n=1,e=1,r=null;function i(i){var f=function(t){for(var n,e,r,i,o,a=new Zd(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Zd(r[i],i)),e.parent=n;return(a.parent=new Zd(null,0)).children=[a],a}(i);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(a),r)i.eachBefore(u);else{var c=i,s=i,l=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=c===s?1:t(c,s)/2,d=h-c.x,p=n/(s.x+h+d),v=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,f=o.parent.children[0],c=o.m,s=a.m,l=u.m,h=f.m;u=Xd(u),o=Vd(o),u&&o;)f=Vd(f),(a=Xd(a)).a=n,(i=u.z+l-o.z-c+t(u._,o._))>0&&($d(Qd(u,n,r),n,i),c+=i,s+=i),l+=u.m,c+=o.m,h+=f.m,s+=a.m;u&&!Xd(a)&&(a.t=u,a.m+=l-s),o&&!Vd(f)&&(f.t=o,f.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},Jd=function(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(i-e)/t.value;++u<f;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c},tp=(1+Math.sqrt(5))/2;function np(t,n,e,r,i,o){for(var a,u,f,c,s,l,h,d,p,v,m,g=[],y=n.children,b=0,_=0,x=y.length,w=n.value;b<x;){f=i-e,c=o-r;do{s=y[_++].value}while(!s&&_<x);for(l=h=s,m=s*s*(v=Math.max(c/f,f/c)/(w*t)),p=Math.max(h/m,m/l);_<x;++_){if(s+=u=y[_].value,u<l&&(l=u),u>h&&(h=u),m=s*s*v,(d=Math.max(h/m,m/l))>p){s-=u;break}p=d}g.push(a={value:s,dice:f<c,children:y.slice(b,_)}),a.dice?Fd(a,e,r,i,w?r+=c*s/w:o):Jd(a,e,r,w?e+=f*s/w:i,o),w-=s,b=_}return g}var ep=function t(n){function e(t,e,r,i,o){np(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(tp),rp=function(){var t=ep,n=!1,e=1,r=1,i=[0],o=Od,a=Od,u=Od,f=Od,c=Od;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Bd),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,s+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=f(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=zd(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Nd(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Nd(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:Nd(+t),s):u},s.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Nd(+t),s):f},s.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:Nd(+t),s):c},s},ip=function(t,n,e,r,i){var o,a,u=t.children,f=u.length,c=new Array(f+1);for(c[0]=a=o=0;o<f;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,f){if(n>=e-1){var s=u[n];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=f)}var l=c[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&n+1<d&&--d;var m=c[d]-l,g=r-m;if(a-i>f-o){var y=(i*g+a*m)/r;t(n,d,m,i,o,y,f),t(d,e,g,y,o,a,f)}else{var b=(o*g+f*m)/r;t(n,d,m,i,o,a,b),t(d,e,g,i,b,a,f)}}(0,f,t.value,n,e,r,i)},op=function(t,n,e,r,i){(1&t.depth?Jd:Fd)(t,n,e,r,i)},ap=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,f,c,s,l=-1,h=a.length,d=t.value;++l<h;){for(f=(u=a[l]).children,c=u.value=0,s=f.length;c<s;++c)u.value+=f[c].value;u.dice?Fd(u,e,r,i,r+=(o-r)*u.value/d):Jd(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=np(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(tp),up=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},fp=function(t,n){var e=ce(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},cp=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},sp=Math.SQRT2;function lp(t){return((t=Math.exp(t))+1/t)/2}var hp=function(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],f=n[1],c=n[2],s=u-i,l=f-o,h=s*s+l*l;if(h<1e-12)r=Math.log(c/a)/sp,e=function(t){return[i+t*s,o+t*l,a*Math.exp(sp*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*d),v=(c*c-a*a-4*h)/(2*c*2*d),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-m)/sp,e=function(t){var n,e=t*r,u=lp(m),f=a/(2*d)*(u*(n=sp*e+m,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+f*s,o+f*l,a*u/lp(sp*e+m)]}}return e.duration=1e3*r,e};function dp(t){return function(n,e){var r=t((n=ne(n)).h,(e=ne(e)).h),i=le(n.s,e.s),o=le(n.l,e.l),a=le(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var pp=dp(ce),vp=dp(le);function mp(t,n){var e=le((t=vo(t)).l,(n=vo(n)).l),r=le(t.a,n.a),i=le(t.b,n.b),o=le(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function gp(t){return function(n,e){var r=t((n=Mo(n)).h,(e=Mo(e)).h),i=le(n.c,e.c),o=le(n.l,e.l),a=le(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var yp=gp(ce),bp=gp(le);function _p(t){return function n(e){function r(n,r){var i=t((n=Oo(n)).h,(r=Oo(r)).h),o=le(n.s,r.s),a=le(n.l,r.l),u=le(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var xp=_p(ce),wp=_p(le);function Mp(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var Ap=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},Ep=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},Tp=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],f=0;++r<i;)n=u,u=t[r],f+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(f*=3),a/f]};function Sp(t,n){return t[0]-n[0]||t[1]-n[1]}function kp(t){for(var n,e,r,i=t.length,o=[0,1],a=2,u=2;u<i;++u){for(;a>1&&(n=t[o[a-2]],e=t[o[a-1]],r=t[u],(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])<=0);)--a;o[a++]=u}return o.slice(0,a)}var Cp=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Sp),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=kp(r),a=kp(i),u=a[0]===o[0],f=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-f;++n)c.push(t[r[a[n]][2]]);return c},zp=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],f=o[0],c=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=c>u&&a<(f-e)*(u-r)/(c-r)+e&&(s=!s),f=e,c=r;return s},Op=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],f=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],f+=Math.sqrt(n*n+e*e);return f},Np=function(){return Math.random()},Dp=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Np),Pp=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Np),jp=function t(n){function e(){var t=Pp.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Np),Lp=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Np),Rp=function t(n){function e(t){var e=Lp.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Np),Bp=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Np);function Fp(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ip(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var Up=Array.prototype,qp=Up.map,Yp=Up.slice,Wp={name:"implicit"};function Hp(){var t=Zi(),n=[],e=[],r=Wp;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Wp)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Zi();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Yp.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Hp(n,e).unknown(r)},Fp.apply(i,arguments),i}function Gp(){var t,n,e=Hp().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,f=0,c=.5;function s(){var e=r().length,s=o[1]<o[0],l=o[s-0],h=o[1-s];t=(h-l)/Math.max(1,e-u+2*f),a&&(t=Math.floor(t)),l+=(h-l-t*(e-u))*c,n=t*(1-u),a&&(l=Math.round(l),n=Math.round(n));var d=w(e).map((function(n){return l+t*n}));return i(s?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,s()):a},e.padding=function(t){return arguments.length?(u=Math.min(1,f=+t),s()):u},e.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),s()):u},e.paddingOuter=function(t){return arguments.length?(f=+t,s()):f},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),s()):c},e.copy=function(){return Gp(r(),o).round(a).paddingInner(u).paddingOuter(f).align(c)},Fp.apply(s(),arguments)}function Vp(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Vp(n())},t}function Xp(){return Vp(Gp.apply(null,arguments).paddingInner(1))}var $p=function(t){return+t},Qp=[0,1];function Zp(t){return t}function Kp(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Jp(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function tv(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Kp(i,r),o=e(a,o)):(r=Kp(r,i),o=e(o,a)),function(t){return o(r(t))}}function nv(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Kp(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=f(t,n,1,r)-1;return o[e](i[e](n))}}function ev(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rv(){var t,n,e,r,i,o,a=Qp,u=Qp,f=ke,c=Zp;function s(){return r=Math.min(a.length,u.length)>2?nv:tv,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,f)))(t(c(n)))}return l.invert=function(e){return c(n((o||(o=r(u,a.map(t),xe)))(e)))},l.domain=function(t){return arguments.length?(a=qp.call(t,$p),c===Zp||(c=Jp(a)),s()):a.slice()},l.range=function(t){return arguments.length?(u=Yp.call(t),s()):u.slice()},l.rangeRound=function(t){return u=Yp.call(t),f=cp,s()},l.clamp=function(t){return arguments.length?(c=t?Jp(a):Zp,l):c!==Zp},l.interpolate=function(t){return arguments.length?(f=t,s()):f},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function iv(t,n){return rv()(t,n)}var ov=function(t,n,e,r){var i,o=k(t,n,e);switch((r=Hu(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=af(o,a))||(r.precision=i),Qu(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=uf(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=of(o))||(r.precision=i-2*("%"===r.type))}return $u(r)};function av(t){var n=t.domain;return t.ticks=function(t){var e=n();return T(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ov(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],f=i[a];return f<u&&(r=u,u=f,f=r,r=o,o=a,a=r),(r=S(u,f,e))>0?r=S(u=Math.floor(u/r)*r,f=Math.ceil(f/r)*r,e):r<0&&(r=S(u=Math.ceil(u*r)/r,f=Math.floor(f*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(f/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(f*r)/r,n(i)),t},t}function uv(){var t=iv(Zp,Zp);return t.copy=function(){return ev(t,uv())},Fp.apply(t,arguments),av(t)}function fv(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=qp.call(n,$p),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return fv(t).unknown(n)},t=arguments.length?qp.call(t,$p):[0,1],av(e)}var cv=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t};function sv(t){return Math.log(t)}function lv(t){return Math.exp(t)}function hv(t){return-Math.log(-t)}function dv(t){return-Math.exp(-t)}function pv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vv(t){return function(n){return-t(-n)}}function mv(t){var n,e,r=t(sv,lv),i=r.domain,o=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(o),e=function(t){return 10===t?pv:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(o),i()[0]<0?(n=vv(n),e=vv(e),t(hv,dv)):t(sv,lv),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],f=a[a.length-1];(r=f<u)&&(h=u,u=f,f=h);var c,s,l,h=n(u),d=n(f),p=null==t?10:+t,v=[];if(!(o%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(s=1,c=e(h);s<o;++s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else for(;h<d;++h)for(s=o-1,c=e(h);s>=1;--s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else v=T(h,d,Math.min(d-h,p)).map(e);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=$u(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(cv(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function gv(){var t=mv(rv()).domain([1,10]);return t.copy=function(){return ev(t,gv()).base(t.base())},Fp.apply(t,arguments),t}function yv(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function bv(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function _v(t){var n=1,e=t(yv(n),bv(n));return e.constant=function(e){return arguments.length?t(yv(n=+e),bv(n)):n},av(e)}function xv(){var t=_v(rv());return t.copy=function(){return ev(t,xv()).constant(t.constant())},Fp.apply(t,arguments)}function wv(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Mv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Av(t){return t<0?-t*t:t*t}function Ev(t){var n=t(Zp,Zp),e=1;function r(){return 1===e?t(Zp,Zp):.5===e?t(Mv,Av):t(wv(e),wv(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},av(n)}function Tv(){var t=Ev(rv());return t.copy=function(){return ev(t,Tv()).exponent(t.exponent())},Fp.apply(t,arguments),t}function Sv(){return Tv.apply(null,arguments).exponent(.5)}function kv(){var t,n=[],e=[],i=[];function o(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=O(n,t/r);return a}function a(n){return isNaN(n=+n)?t:e[f(i,n)]}return a.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,i=0,a=t.length;i<a;++i)null==(e=t[i])||isNaN(e=+e)||n.push(e);return n.sort(r),o()},a.range=function(t){return arguments.length?(e=Yp.call(t),o()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return kv().domain(n).range(e).unknown(t)},Fp.apply(a,arguments)}function Cv(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function a(n){return n<=n?o[f(i,n,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],u()):[n,e]},a.range=function(t){return arguments.length?(r=(o=Yp.call(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[n,i[0]]:a>=r?[i[r-1],e]:[i[a-1],i[a]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Cv().domain([n,e]).range(o).unknown(t)},Fp.apply(av(a),arguments)}function zv(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[f(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Yp.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Yp.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return zv().domain(n).range(e).unknown(t)},Fp.apply(i,arguments)}var Ov=new Date,Nv=new Date;function Dv(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Dv((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Ov.setTime(+n),Nv.setTime(+r),t(Ov),t(Nv),Math.floor(e(Ov,Nv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Pv=Dv((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Pv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Dv((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var jv=Pv,Lv=Pv.range,Rv=Dv((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Bv=Rv,Fv=Rv.range;function Iv(t){return Dv((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Uv=Iv(0),qv=Iv(1),Yv=Iv(2),Wv=Iv(3),Hv=Iv(4),Gv=Iv(5),Vv=Iv(6),Xv=Uv.range,$v=qv.range,Qv=Yv.range,Zv=Wv.range,Kv=Hv.range,Jv=Gv.range,tm=Vv.range,nm=Dv((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),em=nm,rm=nm.range,im=Dv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()})),om=im,am=im.range,um=Dv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),fm=um,cm=um.range,sm=Dv((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),lm=sm,hm=sm.range,dm=Dv((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));dm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Dv((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):dm:null};var pm=dm,vm=dm.range;function mm(t){return Dv((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var gm=mm(0),ym=mm(1),bm=mm(2),_m=mm(3),xm=mm(4),wm=mm(5),Mm=mm(6),Am=gm.range,Em=ym.range,Tm=bm.range,Sm=_m.range,km=xm.range,Cm=wm.range,zm=Mm.range,Om=Dv((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1})),Nm=Om,Dm=Om.range,Pm=Dv((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Pm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Dv((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var jm=Pm,Lm=Pm.range;function Rm(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bm(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fm(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Im(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=Km(i),s=Jm(i),l=Km(o),h=Jm(o),d=Km(a),p=Jm(a),v=Km(u),m=Jm(u),g=Km(f),y=Jm(f),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:_g,e:_g,f:Eg,H:xg,I:wg,j:Mg,L:Ag,m:Tg,M:Sg,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ny,s:ey,S:kg,u:Cg,U:zg,V:Og,w:Ng,W:Dg,x:null,X:null,y:Pg,Y:jg,Z:Lg,"%":ty},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Rg,e:Rg,f:qg,H:Bg,I:Fg,j:Ig,L:Ug,m:Yg,M:Wg,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ny,s:ey,S:Hg,u:Gg,U:Vg,V:Xg,w:$g,W:Qg,x:null,X:null,y:Zg,Y:Kg,Z:Jg,"%":ty},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:sg,e:sg,f:mg,H:hg,I:hg,j:lg,L:vg,m:cg,M:dg,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},q:fg,Q:yg,s:bg,S:pg,u:ng,U:eg,V:rg,w:tg,W:ig,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:ag,Y:og,Z:ug,"%":gg};function w(t,n){return function(e){var r,i,o,a=[],u=-1,f=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(f,u)),null!=(i=Gm[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),f=u+1);return a.push(t.slice(f,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Fm(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!n||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bm(Fm(o.y,0,1))).getUTCDay(),r=i>4||0===i?ym.ceil(r):ym(r),r=Nm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Rm(Fm(o.y,0,1))).getDay(),r=i>4||0===i?qv.ceil(r):qv(r),r=em.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bm(Fm(o.y,0,1)).getUTCDay():Rm(Fm(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bm(o)):Rm(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,f=e.length;a<u;){if(r>=f)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Gm?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return(b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}})}var Um,qm,Ym,Wm,Hm,Gm={"-":"",_:" ",0:"0"},Vm=/^\s*\d+/,Xm=/^%/,$m=/[\\^$*+?|[\]().{}]/g;function Qm(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Zm(t){return t.replace($m,"\\$&")}function Km(t){return new RegExp("^(?:"+t.map(Zm).join("|")+")","i")}function Jm(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function tg(t,n,e){var r=Vm.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ng(t,n,e){var r=Vm.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function eg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function rg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function ig(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function og(t,n,e){var r=Vm.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ag(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ug(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function fg(t,n,e){var r=Vm.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function cg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function sg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function lg(t,n,e){var r=Vm.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function hg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function dg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function pg(t,n,e){var r=Vm.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function vg(t,n,e){var r=Vm.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function mg(t,n,e){var r=Vm.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function gg(t,n,e){var r=Xm.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function yg(t,n,e){var r=Vm.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function bg(t,n,e){var r=Vm.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function _g(t,n){return Qm(t.getDate(),n,2)}function xg(t,n){return Qm(t.getHours(),n,2)}function wg(t,n){return Qm(t.getHours()%12||12,n,2)}function Mg(t,n){return Qm(1+em.count(jv(t),t),n,3)}function Ag(t,n){return Qm(t.getMilliseconds(),n,3)}function Eg(t,n){return Ag(t,n)+"000"}function Tg(t,n){return Qm(t.getMonth()+1,n,2)}function Sg(t,n){return Qm(t.getMinutes(),n,2)}function kg(t,n){return Qm(t.getSeconds(),n,2)}function Cg(t){var n=t.getDay();return 0===n?7:n}function zg(t,n){return Qm(Uv.count(jv(t)-1,t),n,2)}function Og(t,n){var e=t.getDay();return t=e>=4||0===e?Hv(t):Hv.ceil(t),Qm(Hv.count(jv(t),t)+(4===jv(t).getDay()),n,2)}function Ng(t){return t.getDay()}function Dg(t,n){return Qm(qv.count(jv(t)-1,t),n,2)}function Pg(t,n){return Qm(t.getFullYear()%100,n,2)}function jg(t,n){return Qm(t.getFullYear()%1e4,n,4)}function Lg(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Qm(n/60|0,"0",2)+Qm(n%60,"0",2)}function Rg(t,n){return Qm(t.getUTCDate(),n,2)}function Bg(t,n){return Qm(t.getUTCHours(),n,2)}function Fg(t,n){return Qm(t.getUTCHours()%12||12,n,2)}function Ig(t,n){return Qm(1+Nm.count(jm(t),t),n,3)}function Ug(t,n){return Qm(t.getUTCMilliseconds(),n,3)}function qg(t,n){return Ug(t,n)+"000"}function Yg(t,n){return Qm(t.getUTCMonth()+1,n,2)}function Wg(t,n){return Qm(t.getUTCMinutes(),n,2)}function Hg(t,n){return Qm(t.getUTCSeconds(),n,2)}function Gg(t){var n=t.getUTCDay();return 0===n?7:n}function Vg(t,n){return Qm(gm.count(jm(t)-1,t),n,2)}function Xg(t,n){var e=t.getUTCDay();return t=e>=4||0===e?xm(t):xm.ceil(t),Qm(xm.count(jm(t),t)+(4===jm(t).getUTCDay()),n,2)}function $g(t){return t.getUTCDay()}function Qg(t,n){return Qm(ym.count(jm(t)-1,t),n,2)}function Zg(t,n){return Qm(t.getUTCFullYear()%100,n,2)}function Kg(t,n){return Qm(t.getUTCFullYear()%1e4,n,4)}function Jg(){return"+0000"}function ty(){return"%"}function ny(t){return+t}function ey(t){return Math.floor(+t/1e3)}function ry(t){return Um=Im(t),qm=Um.format,Ym=Um.parse,Wm=Um.utcFormat,Hm=Um.utcParse,Um}ry({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iy(t){return new Date(t)}function oy(t){return t instanceof Date?+t:+new Date(+t)}function ay(t,n,e,r,o,a,u,f,c){var s=iv(Zp,Zp),l=s.invert,h=s.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),g=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y"),x=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function w(i){return(u(i)<i?d:a(i)<i?p:o(i)<i?v:r(i)<i?m:n(i)<i?e(i)<i?g:y:t(i)<i?b:_)(i)}function M(n,e,r,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,u=i((function(t){return t[2]})).right(x,a);u===x.length?(o=k(e/31536e6,r/31536e6,n),n=t):u?(o=(u=x[a/x[u-1][2]<x[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(k(e,r,n),1),n=f)}return null==o?n:n.every(o)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(qp.call(t,oy)):h().map(iy)},s.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=M(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},s.tickFormat=function(t,n){return null==n?w:c(n)},s.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(cv(e,t)):s},s.copy=function(){return ev(s,ay(t,n,e,r,o,a,u,f,c))},s}var uy=function(){return Fp.apply(ay(jv,Bv,Uv,em,om,fm,lm,pm,qm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},fy=Dv((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),cy=fy,sy=fy.range,ly=Dv((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()})),hy=ly,dy=ly.range,py=Dv((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),vy=py,my=py.range,gy=function(){return Fp.apply(ay(jm,cy,gm,Nm,hy,vy,lm,pm,Wm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function yy(){var t,n,e,r,i,o=0,a=1,u=Zp,f=!1;function c(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,f?Math.max(0,Math.min(1,n)):n))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(a=+i[1]),e=t===n?0:1/(n-t),c):[o,a]},c.clamp=function(t){return arguments.length?(f=!!t,c):f},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),c}}function by(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _y(){var t=av(yy()(Zp));return t.copy=function(){return by(t,_y())},Ip.apply(t,arguments)}function xy(){var t=mv(yy()).domain([1,10]);return t.copy=function(){return by(t,xy()).base(t.base())},Ip.apply(t,arguments)}function wy(){var t=_v(yy());return t.copy=function(){return by(t,wy()).constant(t.constant())},Ip.apply(t,arguments)}function My(){var t=Ev(yy());return t.copy=function(){return by(t,My()).exponent(t.exponent())},Ip.apply(t,arguments)}function Ay(){return My.apply(null,arguments).exponent(.5)}function Ey(){var t=[],n=Zp;function e(e){if(!isNaN(e=+e))return n((f(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var i,o=0,a=n.length;o<a;++o)null==(i=n[o])||isNaN(i=+i)||t.push(i);return t.sort(r),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Ey(n).domain(t)},Ip.apply(e,arguments)}function Ty(){var t,n,e,r,i,o,a,u=0,f=.5,c=1,s=Zp,l=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(t<n?r:i),s(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(a){return arguments.length?(t=o(u=+a[0]),n=o(f=+a[1]),e=o(c=+a[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[u,f,c]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(s=t,h):s},h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return o=a,t=a(u),n=a(f),e=a(c),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function Sy(){var t=av(Ty()(Zp));return t.copy=function(){return by(t,Sy())},Ip.apply(t,arguments)}function ky(){var t=mv(Ty()).domain([.1,1,10]);return t.copy=function(){return by(t,ky()).base(t.base())},Ip.apply(t,arguments)}function Cy(){var t=_v(Ty());return t.copy=function(){return by(t,Cy()).constant(t.constant())},Ip.apply(t,arguments)}function zy(){var t=Ev(Ty());return t.copy=function(){return by(t,zy()).exponent(t.exponent())},Ip.apply(t,arguments)}function Oy(){return zy.apply(null,arguments).exponent(.5)}var Ny=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},Dy=Ny("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Py=Ny("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jy=Ny("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ly=Ny("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ry=Ny("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),By=Ny("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Fy=Ny("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Iy=Ny("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Uy=Ny("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),qy=Ny("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Yy=function(t){return pe(t[t.length-1])},Wy=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ny),Hy=Yy(Wy),Gy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ny),Vy=Yy(Gy),Xy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ny),$y=Yy(Xy),Qy=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ny),Zy=Yy(Qy),Ky=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ny),Jy=Yy(Ky),tb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ny),nb=Yy(tb),eb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ny),rb=Yy(eb),ib=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ny),ob=Yy(ib),ab=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ny),ub=Yy(ab),fb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ny),cb=Yy(fb),sb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ny),lb=Yy(sb),hb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ny),db=Yy(hb),pb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ny),vb=Yy(pb),mb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ny),gb=Yy(mb),yb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ny),bb=Yy(yb),_b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ny),xb=Yy(_b),wb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ny),Mb=Yy(wb),Ab=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ny),Eb=Yy(Ab),Tb=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ny),Sb=Yy(Tb),kb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ny),Cb=Yy(kb),zb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ny),Ob=Yy(zb),Nb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ny),Db=Yy(Nb),Pb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ny),jb=Yy(Pb),Lb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ny),Rb=Yy(Lb),Bb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ny),Fb=Yy(Bb),Ib=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ny),Ub=Yy(Ib),qb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ny),Yb=Yy(qb),Wb=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},Hb=wp(Oo(300,.5,0),Oo(-240,.5,1)),Gb=wp(Oo(-100,.75,.35),Oo(80,1.5,.8)),Vb=wp(Oo(260,.75,.35),Oo(80,1.5,.8)),Xb=Oo(),$b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Xb.h=360*t-100,Xb.s=1.5-1.5*n,Xb.l=.8-.9*n,Xb+""},Qb=Xn(),Zb=Math.PI/3,Kb=2*Math.PI/3,Jb=function(t){var n;return t=(.5-t)*Math.PI,Qb.r=255*(n=Math.sin(t))*n,Qb.g=255*(n=Math.sin(t+Zb))*n,Qb.b=255*(n=Math.sin(t+Kb))*n,Qb+""},t_=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function n_(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var e_=n_(Ny("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),r_=n_(Ny("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i_=n_(Ny("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o_=n_(Ny("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),a_=function(t){return Mn(en(t).call(document.documentElement))},u_=0;function f_(){return new c_}function c_(){this._="@"+(++u_).toString(36)}c_.prototype=f_.prototype={constructor:c_,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var s_=function(t){return"string"==typeof t?new _n([document.querySelectorAll(t)],[document.documentElement]):new _n([null==t?[]:t],bn)},l_=function(t,n){null==n&&(n=Ce().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=ze(t,n[e]);return i},h_=function(t){return function(){return t}},d_=Math.abs,p_=Math.atan2,v_=Math.cos,m_=Math.max,g_=Math.min,y_=Math.sin,b_=Math.sqrt,__=Math.PI,x_=__/2,w_=2*__;function M_(t){return t>1?0:t<-1?__:Math.acos(t)}function A_(t){return t>=1?x_:t<=-1?-x_:Math.asin(t)}function E_(t){return t.innerRadius}function T_(t){return t.outerRadius}function S_(t){return t.startAngle}function k_(t){return t.endAngle}function C_(t){return t&&t.padAngle}function z_(t,n,e,r,i,o,a,u){var f=e-t,c=r-n,s=a-i,l=u-o,h=l*f-s*c;if(!(h*h<1e-12))return[t+(h=(s*(n-o)-l*(t-i))/h)*f,n+h*c]}function O_(t,n,e,r,i,o,a){var u=t-e,f=n-r,c=(a?o:-o)/b_(u*u+f*f),s=c*f,l=-c*u,h=t+s,d=n+l,p=e+s,v=r+l,m=(h+p)/2,g=(d+v)/2,y=p-h,b=v-d,_=y*y+b*b,x=i-o,w=h*v-p*d,M=(b<0?-1:1)*b_(m_(0,x*x*_-w*w)),A=(w*b-y*M)/_,E=(-w*y-b*M)/_,T=(w*b+y*M)/_,S=(-w*y+b*M)/_,k=A-m,C=E-g,z=T-m,O=S-g;return k*k+C*C>z*z+O*O&&(A=T,E=S),{cx:A,cy:E,x01:-s,y01:-l,x11:A*(i/x-1),y11:E*(i/x-1)}}var N_=function(){var t=E_,n=T_,e=h_(0),r=null,i=S_,o=k_,a=C_,u=null;function f(){var f,c,s=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-x_,d=o.apply(this,arguments)-x_,p=d_(d-h),v=d>h;if(u||(u=f=qi()),l<s&&(c=l,l=s,s=c),l>1e-12)if(p>w_-1e-12)u.moveTo(l*v_(h),l*y_(h)),u.arc(0,0,l,h,d,!v),s>1e-12&&(u.moveTo(s*v_(d),s*y_(d)),u.arc(0,0,s,d,h,v));else{var m,g,y=h,b=d,_=h,x=d,w=p,M=p,A=a.apply(this,arguments)/2,E=A>1e-12&&(r?+r.apply(this,arguments):b_(s*s+l*l)),T=g_(d_(l-s)/2,+e.apply(this,arguments)),S=T,k=T;if(E>1e-12){var C=A_(E/s*y_(A)),z=A_(E/l*y_(A));(w-=2*C)>1e-12?(_+=C*=v?1:-1,x-=C):(w=0,_=x=(h+d)/2),(M-=2*z)>1e-12?(y+=z*=v?1:-1,b-=z):(M=0,y=b=(h+d)/2)}var O=l*v_(y),N=l*y_(y),D=s*v_(x),P=s*y_(x);if(T>1e-12){var j,L=l*v_(b),R=l*y_(b),B=s*v_(_),F=s*y_(_);if(p<__&&(j=z_(O,N,B,F,L,R,D,P))){var I=O-j[0],U=N-j[1],q=L-j[0],Y=R-j[1],W=1/y_(M_((I*q+U*Y)/(b_(I*I+U*U)*b_(q*q+Y*Y)))/2),H=b_(j[0]*j[0]+j[1]*j[1]);S=g_(T,(s-H)/(W-1)),k=g_(T,(l-H)/(W+1))}}M>1e-12?k>1e-12?(m=O_(B,F,O,N,l,k,v),g=O_(L,R,D,P,l,k,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),k<T?u.arc(m.cx,m.cy,k,p_(m.y01,m.x01),p_(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,k,p_(m.y01,m.x01),p_(m.y11,m.x11),!v),u.arc(0,0,l,p_(m.cy+m.y11,m.cx+m.x11),p_(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,k,p_(g.y11,g.x11),p_(g.y01,g.x01),!v))):(u.moveTo(O,N),u.arc(0,0,l,y,b,!v)):u.moveTo(O,N),s>1e-12&&w>1e-12?S>1e-12?(m=O_(D,P,L,R,s,-S,v),g=O_(O,N,B,F,s,-S,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),S<T?u.arc(m.cx,m.cy,S,p_(m.y01,m.x01),p_(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,S,p_(m.y01,m.x01),p_(m.y11,m.x11),!v),u.arc(0,0,s,p_(m.cy+m.y11,m.cx+m.x11),p_(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,S,p_(g.y11,g.x11),p_(g.y01,g.x01),!v))):u.arc(0,0,s,x,_,v):u.lineTo(D,P)}else u.moveTo(0,0);if(u.closePath(),f)return u=null,f+""||null}return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-__/2;return[v_(r)*e,y_(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:h_(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:h_(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:h_(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:h_(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:h_(+t),f):i},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:h_(+t),f):o},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:h_(+t),f):a},f.context=function(t){return arguments.length?(u=null==t?null:t,f):u},f};function D_(t){this._context=t}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var P_=function(t){return new D_(t)};function j_(t){return t[0]}function L_(t){return t[1]}var R_=function(){var t=j_,n=L_,e=h_(!0),r=null,i=P_,o=null;function a(a){var u,f,c,s=a.length,l=!1;for(null==r&&(o=i(c=qi())),u=0;u<=s;++u)!(u<s&&e(f=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(f,u,a),+n(f,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:h_(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:h_(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:h_(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},B_=function(){var t=j_,n=null,e=h_(0),r=L_,i=h_(!0),o=null,a=P_,u=null;function f(f){var c,s,l,h,d,p=f.length,v=!1,m=new Array(p),g=new Array(p);for(null==o&&(u=a(d=qi())),c=0;c<=p;++c){if(!(c<p&&i(h=f[c],c,f))===v)if(v=!v)s=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=c-1;l>=s;--l)u.point(m[l],g[l]);u.lineEnd(),u.areaEnd()}v&&(m[c]=+t(h,c,f),g[c]=+e(h,c,f),u.point(n?+n(h,c,f):m[c],r?+r(h,c,f):g[c]))}if(d)return u=null,d+""||null}function c(){return R_().defined(i).curve(a).context(o)}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:h_(+e),n=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:h_(+n),f):t},f.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:h_(+t),f):n},f.y=function(t){return arguments.length?(e="function"==typeof t?t:h_(+t),r=null,f):e},f.y0=function(t){return arguments.length?(e="function"==typeof t?t:h_(+t),f):e},f.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:h_(+t),f):r},f.lineX0=f.lineY0=function(){return c().x(t).y(e)},f.lineY1=function(){return c().x(t).y(r)},f.lineX1=function(){return c().x(n).y(e)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:h_(!!t),f):i},f.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),f):a},f.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),f):o},f},F_=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},I_=function(t){return t},U_=function(){var t=I_,n=F_,e=null,r=h_(0),i=h_(w_),o=h_(0);function a(a){var u,f,c,s,l,h=a.length,d=0,p=new Array(h),v=new Array(h),m=+r.apply(this,arguments),g=Math.min(w_,Math.max(-w_,i.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/h,o.apply(this,arguments)),b=y*(g<0?-1:1);for(u=0;u<h;++u)(l=v[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(v[t],v[e])})):null!=e&&p.sort((function(t,n){return e(a[t],a[n])})),u=0,c=d?(g-h*b)/d:0;u<h;++u,m=s)f=p[u],s=m+((l=v[f])>0?l*c:0)+b,v[f]={data:a[f],index:u,value:l,startAngle:m,endAngle:s,padAngle:y};return v}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:h_(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:h_(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:h_(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:h_(+t),a):o},a},q_=W_(P_);function Y_(t){this._curve=t}function W_(t){function n(n){return new Y_(t(n))}return n._curve=t,n}function H_(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(W_(t)):n()._curve},t}Y_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var G_=function(){return H_(R_().curve(q_))},V_=function(){var t=B_().curve(q_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return H_(e())},delete t.lineX0,t.lineEndAngle=function(){return H_(r())},delete t.lineX1,t.lineInnerRadius=function(){return H_(i())},delete t.lineY0,t.lineOuterRadius=function(){return H_(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(W_(t)):n()._curve},t},X_=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},$_=Array.prototype.slice;function Q_(t){return t.source}function Z_(t){return t.target}function K_(t){var n=Q_,e=Z_,r=j_,i=L_,o=null;function a(){var a,u=$_.call(arguments),f=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=qi()),t(o,+r.apply(this,(u[0]=f,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:h_(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:h_(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function J_(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function tx(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function nx(t,n,e,r,i){var o=X_(n,e),a=X_(n,e=(e+i)/2),u=X_(r,e),f=X_(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],f[0],f[1])}function ex(){return K_(J_)}function rx(){return K_(tx)}function ix(){var t=K_(nx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var ox={draw:function(t,n){var e=Math.sqrt(n/__);t.moveTo(e,0),t.arc(0,0,e,0,w_)}},ax={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},ux=Math.sqrt(1/3),fx=2*ux,cx={draw:function(t,n){var e=Math.sqrt(n/fx),r=e*ux;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},sx=Math.sin(__/10)/Math.sin(7*__/10),lx=Math.sin(w_/10)*sx,hx=-Math.cos(w_/10)*sx,dx={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=lx*e,i=hx*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=w_*o/5,u=Math.cos(a),f=Math.sin(a);t.lineTo(f*e,-u*e),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},px={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},vx=Math.sqrt(3),mx={draw:function(t,n){var e=-Math.sqrt(n/(3*vx));t.moveTo(0,2*e),t.lineTo(-vx*e,-e),t.lineTo(vx*e,-e),t.closePath()}},gx=Math.sqrt(3)/2,yx=1/Math.sqrt(12),bx=3*(yx/2+1),_x={draw:function(t,n){var e=Math.sqrt(n/bx),r=e/2,i=e*yx,o=r,a=e*yx+e,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(-.5*r-gx*i,gx*r+-.5*i),t.lineTo(-.5*o-gx*a,gx*o+-.5*a),t.lineTo(-.5*u-gx*f,gx*u+-.5*f),t.lineTo(-.5*r+gx*i,-.5*i-gx*r),t.lineTo(-.5*o+gx*a,-.5*a-gx*o),t.lineTo(-.5*u+gx*f,-.5*f-gx*u),t.closePath()}},xx=[ox,ax,cx,px,dx,mx,_x],wx=function(){var t=h_(ox),n=h_(64),e=null;function r(){var r;if(e||(e=r=qi()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:h_(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:h_(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},Mx=function(){};function Ax(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ex(t){this._context=t}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ax(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ax(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Tx=function(t){return new Ex(t)};function Sx(t){this._context=t}Sx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ax(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var kx=function(t){return new Sx(t)};function Cx(t){this._context=t}Cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ax(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var zx=function(t){return new Cx(t)};function Ox(t,n){this._basis=new Ex(t),this._beta=n}Ox.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,f=-1;++f<=e;)r=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(i+r*a),this._beta*n[f]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Nx=function t(n){function e(t){return 1===n?new Ex(t):new Ox(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Dx(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Px(t,n){this._context=t,this._k=(1-n)/6}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Dx(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Dx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jx=function t(n){function e(t){return new Px(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Lx(t,n){this._context=t,this._k=(1-n)/6}Lx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Dx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Rx=function t(n){function e(t){return new Lx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Bx(t,n){this._context=t,this._k=(1-n)/6}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Dx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Fx=function t(n){function e(t){return new Bx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ix(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ux(t,n){this._context=t,this._alpha=n}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Ix(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qx=function t(n){function e(t){return n?new Ux(t,n):new Px(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Yx(t,n){this._context=t,this._alpha=n}Yx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ix(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Wx=function t(n){function e(t){return n?new Yx(t,n):new Lx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Hx(t,n){this._context=t,this._alpha=n}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ix(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Gx=function t(n){function e(t){return n?new Hx(t,n):new Bx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Vx(t){this._context=t}Vx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Xx=function(t){return new Vx(t)};function $x(t){return t<0?-1:1}function Qx(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return($x(o)+$x(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Zx(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Kx(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Jx(t){this._context=t}function tw(t){this._context=new nw(t)}function nw(t){this._context=t}function ew(t){return new Jx(t)}function rw(t){return new tw(t)}function iw(t){this._context=t}function ow(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kx(this,this._t0,Zx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Kx(this,Zx(this,e=Qx(this,t,n)),e);break;default:Kx(this,this._t0,e=Qx(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(tw.prototype=Object.create(Jx.prototype)).point=function(t,n){Jx.prototype.point.call(this,n,t)},nw.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=ow(t),i=ow(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var aw=function(t){return new iw(t)};function uw(t,n){this._context=t,this._t=n}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var fw=function(t){return new uw(t,.5)};function cw(t){return new uw(t,0)}function sw(t){return new uw(t,1)}var lw=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},hw=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function dw(t,n){return t[n]}var pw=function(){var t=h_([]),n=hw,e=lw,r=dw;function i(i){var o,a,u=t.apply(this,arguments),f=i.length,c=u.length,s=new Array(c);for(o=0;o<c;++o){for(var l,h=u[o],d=s[o]=new Array(f),p=0;p<f;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,a=n(s);o<c;++o)s[a[o]].index=o;return e(s,a),s}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:h_($_.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:h_(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?hw:"function"==typeof t?t:h_($_.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?lw:t,i):e},i},vw=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}lw(t,n)}},mw=function(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,f=0,c=t[n[0]].length;f<c;++f)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][f])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},gw=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}lw(t,n)}},yw=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,f=0,c=0;u<i;++u){for(var s=t[n[u]],l=s[a][1]||0,h=(l-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}f+=l,c+=h*l}e[a-1][1]+=e[a-1][0]=o,f&&(o-=c/f)}e[a-1][1]+=e[a-1][0]=o,lw(t,n)}},bw=function(t){var n=t.map(_w);return hw(t).sort((function(t,e){return n[t]-n[e]}))};function _w(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}var xw=function(t){var n=t.map(ww);return hw(t).sort((function(t,e){return n[t]-n[e]}))};function ww(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var Mw=function(t){return xw(t).reverse()},Aw=function(t){var n,e,r=t.length,i=t.map(ww),o=bw(t),a=0,u=0,f=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],f.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(f)},Ew=function(t){return hw(t).reverse()};var Tw=Date.prototype.toISOString?function(t){return t.toISOString()}:Wm("%Y-%m-%dT%H:%M:%S.%LZ");var Sw=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:Hm("%Y-%m-%dT%H:%M:%S.%LZ"),kw=function(t,n,e){var r=new Ye,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Ue():+e,r.restart((function o(a){a+=i,r.restart(o,i+=n,e),t(a)}),n,e),r)},Cw=function(t){return function(){return t}};function zw(t){return t[0]}function Ow(t){return t[1]}function Nw(){this._=null}function Dw(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pw(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function jw(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Lw(t){for(;t.L;)t=t.L;return t}Nw.prototype={constructor:Nw,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Lw(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Pw(this,e),e=(t=e).U),e.C=!1,r.C=!0,jw(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(jw(this,e),e=(t=e).U),e.C=!1,r.C=!0,Pw(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Lw(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Pw(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,jw(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Pw(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,jw(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Pw(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,jw(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Rw=Nw;function Bw(t,n,e,r){var i=[null,null],o=fM.push(i)-1;return i.left=t,i.right=n,e&&Iw(i,t,n,e),r&&Iw(i,n,t,r),aM[t.index].halfedges.push(o),aM[n.index].halfedges.push(o),i}function Fw(t,n,e){var r=[n,e];return r.left=t,r}function Iw(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Uw(t,n,e,r,i){var o,a=t[0],u=t[1],f=a[0],c=a[1],s=0,l=1,h=u[0]-f,d=u[1]-c;if(o=n-f,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=r-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>s&&(s=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(t[0]=[f+s*h,c+s*d]),l<1&&(t[1]=[f+l*h,c+l*d]),!0)}}}}}function qw(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,f=t[0],c=t.left,s=t.right,l=c[0],h=c[1],d=s[0],p=s[1],v=(l+d)/2,m=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(f){if(f[1]>=i)return}else f=[v,e];o=[v,i]}else{if(f){if(f[1]<e)return}else f=[v,i];o=[v,e]}}else if(u=m-(a=(l-d)/(p-h))*v,a<-1||a>1)if(l>d){if(f){if(f[1]>=i)return}else f=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(f){if(f[1]<e)return}else f=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(f){if(f[0]>=r)return}else f=[n,a*n+u];o=[r,a*r+u]}else{if(f){if(f[0]<n)return}else f=[r,a*r+u];o=[n,a*n+u]}return t[0]=f,t[1]=o,!0}function Yw(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Ww(t,n){return n[+(n.left!==t.site)]}function Hw(t,n){return n[+(n.left===t.site)]}var Gw,Vw=[];function Xw(){Dw(this),this.x=this.y=this.arc=this.site=this.cy=null}function $w(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],f=r[0]-a,c=r[1]-u,s=o[0]-a,l=o[1]-u,h=2*(f*l-c*s);if(!(h>=-sM)){var d=f*f+c*c,p=s*s+l*l,v=(l*d-c*p)/h,m=(f*p-s*d)/h,g=Vw.pop()||new Xw;g.arc=t,g.site=i,g.x=v+a,g.y=(g.cy=m+u)+Math.sqrt(v*v+m*m),t.circle=g;for(var y=null,b=uM._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}uM.insert(y,g),y||(Gw=g)}}}}function Qw(t){var n=t.circle;n&&(n.P||(Gw=n.N),uM.remove(n),Vw.push(n),Dw(n),t.circle=null)}var Zw=[];function Kw(){Dw(this),this.edge=this.site=this.circle=null}function Jw(t){var n=Zw.pop()||new Kw;return n.site=t,n}function tM(t){Qw(t),oM.remove(t),Zw.push(t),Dw(t)}function nM(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];tM(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<cM&&Math.abs(r-f.circle.cy)<cM;)o=f.P,u.unshift(f),tM(f),f=o;u.unshift(f),Qw(f);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<cM&&Math.abs(r-c.circle.cy)<cM;)a=c.N,u.push(c),tM(c),c=a;u.push(c),Qw(c);var s,l=u.length;for(s=1;s<l;++s)c=u[s],f=u[s-1],Iw(c.edge,f.site,c.site,i);f=u[0],(c=u[l-1]).edge=Bw(f.site,c.site,null,i),$w(f),$w(c)}function eM(t){for(var n,e,r,i,o=t[0],a=t[1],u=oM._;u;)if((r=rM(u,a)-o)>cM)u=u.L;else{if(!((i=o-iM(u,a))>cM)){r>-cM?(n=u.P,e=u):i>-cM?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){aM[t.index]={site:t,halfedges:[]}}(t);var f=Jw(t);if(oM.insert(n,f),n||e){if(n===e)return Qw(n),e=Jw(n.site),oM.insert(f,e),f.edge=e.edge=Bw(n.site,f.site),$w(n),void $w(e);if(e){Qw(n),Qw(e);var c=n.site,s=c[0],l=c[1],h=t[0]-s,d=t[1]-l,p=e.site,v=p[0]-s,m=p[1]-l,g=2*(h*m-d*v),y=h*h+d*d,b=v*v+m*m,_=[(m*y-d*b)/g+s,(h*b-v*y)/g+l];Iw(e.edge,c,p,_),f.edge=Bw(c,t,null,_),e.edge=Bw(t,p,null,_),$w(n),$w(e)}else f.edge=Bw(n.site,f.site)}}function rM(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],f=e[1],c=f-n;if(!c)return u;var s=u-r,l=1/o-1/c,h=s/c;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*c)-f+c/2+i-o/2)))/l+r:(r+u)/2}function iM(t,n){var e=t.N;if(e)return rM(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var oM,aM,uM,fM,cM=1e-6,sM=1e-12;function lM(t,n){return n[1]-t[1]||n[0]-t[0]}function hM(t,n){var e,r,i,o=t.sort(lM).pop();for(fM=[],aM=new Array(t.length),oM=new Rw,uM=new Rw;;)if(i=Gw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(eM(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;nM(i.arc)}if(function(){for(var t,n,e,r,i=0,o=aM.length;i<o;++i)if((t=aM[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=Yw(t,fM[n[e]]);for(a.sort((function(t,n){return u[n]-u[t]})),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],f=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=fM.length;o--;)qw(i=fM[o],t,n,e,r)&&Uw(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>cM||Math.abs(i[0][1]-i[1][1])>cM)||delete fM[o]}(a,u,f,c),function(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,m=aM.length,g=!0;for(i=0;i<m;++i)if(o=aM[i]){for(a=o.site,u=(f=o.halfedges).length;u--;)fM[f[u]]||f.splice(u,1);for(u=0,c=f.length;u<c;)p=(d=Hw(o,fM[f[u]]))[0],v=d[1],l=(s=Ww(o,fM[f[++u%c]]))[0],h=s[1],(Math.abs(p-l)>cM||Math.abs(v-h)>cM)&&(f.splice(u,0,fM.push(Fw(a,d,Math.abs(p-t)<cM&&r-v>cM?[t,Math.abs(l-t)<cM?h:r]:Math.abs(v-r)<cM&&e-p>cM?[Math.abs(h-r)<cM?l:e,r]:Math.abs(p-e)<cM&&v-n>cM?[e,Math.abs(l-e)<cM?h:n]:Math.abs(v-n)<cM&&p-t>cM?[Math.abs(h-n)<cM?l:t,n]:null))-1),++c);c&&(g=!1)}if(g){var y,b,_,x=1/0;for(i=0,g=null;i<m;++i)(o=aM[i])&&(_=(y=(a=o.site)[0]-t)*y+(b=a[1]-n)*b)<x&&(x=_,g=o);if(g){var w=[t,n],M=[t,r],A=[e,r],E=[e,n];g.halfedges.push(fM.push(Fw(a=g.site,w,M))-1,fM.push(Fw(a,M,A))-1,fM.push(Fw(a,A,E))-1,fM.push(Fw(a,E,w))-1)}}for(i=0;i<m;++i)(o=aM[i])&&(o.halfedges.length||delete aM[i])}(a,u,f,c)}this.edges=fM,this.cells=aM,oM=uM=fM=aM=null}hM.prototype={constructor:hM,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Ww(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,f,c,s=e.site,l=-1,h=n[i[o-1]],d=h.left===s?h.right:h.left;++l<o;)a=d,d=(h=n[i[l]]).left===s?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(f=a,c=d,((u=s)[0]-c[0])*(f[1]-u[1])-(u[0]-f[0])*(c[1]-u[1])<0)&&t.push([s.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var f=t-i.site[0],c=n-i.site[1],s=f*f+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var f=t-u[0],c=n-u[1],l=f*f+c*c;l<s&&(s=l,a=u.index)}}))}while(null!==a);return o._found=r,null==e||s<=e*e?i.site:null}};var dM=function(){var t=zw,n=Ow,e=null;function r(r){return new hM(r.map((function(e,i){var o=[Math.round(t(e,i,r)/cM)*cM,Math.round(n(e,i,r)/cM)*cM];return o.index=i,o.data=e,o})),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:Cw(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:Cw(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},pM=function(t){return function(){return t}};function vM(t,n,e){this.target=t,this.type=n,this.transform=e}function mM(t,n,e){this.k=t,this.x=n,this.y=e}mM.prototype={constructor:mM,scale:function(t){return 1===t?this:new mM(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new mM(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gM=new mM(1,0,0);function yM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return gM;return t.__zoom}function bM(){cn.stopImmediatePropagation()}yM.prototype=mM.prototype;var _M=function(){cn.preventDefault(),cn.stopImmediatePropagation()};function xM(){return!cn.ctrlKey&&!cn.button}function wM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function MM(){return this.__zoom||gM}function AM(){return-cn.deltaY*(1===cn.deltaMode?.05:cn.deltaMode?1:.002)}function EM(){return navigator.maxTouchPoints||"ontouchstart"in this}function TM(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var SM=function(){var t,n,e=xM,r=wM,i=TM,o=AM,a=EM,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],c=250,s=hp,l=st("start","zoom","end"),h=0;function d(t){t.property("__zoom",MM).on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new mM(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new mM(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function g(t,n,e){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=y(t,i),a=r.apply(t,i),u=null==e?m(a):"function"==typeof e?e.apply(t,i):e,f=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,l="function"==typeof n?n.apply(t,i):n,h=s(c.invert(u).concat(f/c.k),l.invert(u).concat(f/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=f/n[2];t=new mM(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}}))}function y(t,n,e){return!e&&t.__zooming||new b(t,n)}function b(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function _(){if(e.apply(this,arguments)){var t=y(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=Ne(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],ar(this),t.start()}_M(),t.wheel=setTimeout(c,150),t.zoom("mouse",i(v(p(n,r),t.mouse[0],t.mouse[1]),t.extent,f))}function c(){t.wheel=null,t.end()}}function x(){if(!n&&e.apply(this,arguments)){var t=y(this,arguments,!0),r=Mn(cn.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",s,!0),o=Ne(this),a=cn.clientX,u=cn.clientY;Tn(cn.view),bM(),t.mouse=[o,this.__zoom.invert(o)],ar(this),t.start()}function c(){if(_M(),!t.moved){var n=cn.clientX-a,e=cn.clientY-u;t.moved=n*n+e*e>h}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=Ne(t.that),t.mouse[1]),t.extent,f))}function s(){r.on("mousemove.zoom mouseup.zoom",null),Sn(cn.view,t.moved),_M(),t.end()}}function w(){if(e.apply(this,arguments)){var t=this.__zoom,n=Ne(this),o=t.invert(n),a=t.k*(cn.shiftKey?.5:2),u=i(v(p(t,a),n,o),r.apply(this,arguments),f);_M(),c>0?Mn(this).transition().duration(c).call(g,u,n):Mn(this).call(d.transform,u)}}function M(){if(e.apply(this,arguments)){var n,r,i,o,a=cn.touches,u=a.length,f=y(this,arguments,cn.changedTouches.length===u);for(bM(),r=0;r<u;++r)i=a[r],o=[o=Oe(this,a,i.identifier),this.__zoom.invert(o),i.identifier],f.touch0?f.touch1||f.touch0[2]===o[2]||(f.touch1=o,f.taps=0):(f.touch0=o,n=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(f.taps<2&&(t=setTimeout((function(){t=null}),500)),ar(this),f.start())}}function A(){if(this.__zooming){var n,e,r,o,a=y(this,arguments),u=cn.changedTouches,c=u.length;for(_M(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<c;++n)e=u[n],r=Oe(this,u,e.identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var s=a.touch0[0],l=a.touch0[1],h=a.touch1[0],d=a.touch1[1],m=(m=h[0]-s[0])*m+(m=h[1]-s[1])*m,g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g;e=p(e,Math.sqrt(m/g)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(e,r,o),a.extent,f))}}function E(){if(this.__zooming){var t,e,r=y(this,arguments),i=cn.changedTouches,o=i.length;for(bM(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Mn(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",MM),t!==r?g(t,n,e):r.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},d.scaleBy=function(t,n,e){d.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},d.scaleTo=function(t,n,e){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return i(v(p(o,c),a,u),t,f)}),e)},d.translateBy=function(t,n,e){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),f)}))},d.translateTo=function(t,n,e,o){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(gM.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,f)}),o)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){vn(new vM(d,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:pM(+t),d):o},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:pM(!!t),d):e},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:pM(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:pM([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(f[0][0]=+t[0][0],f[1][0]=+t[1][0],f[0][1]=+t[0][1],f[1][1]=+t[1][1],d):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(c=+t,d):c},d.interpolate=function(t){return arguments.length?(s=t,d):s},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d};e.d(n,"version",(function(){return"5.15.0"})),e.d(n,"bisect",(function(){return f})),e.d(n,"bisectRight",(function(){return a})),e.d(n,"bisectLeft",(function(){return u})),e.d(n,"ascending",(function(){return r})),e.d(n,"bisector",(function(){return i})),e.d(n,"cross",(function(){return l})),e.d(n,"descending",(function(){return h})),e.d(n,"deviation",(function(){return v})),e.d(n,"extent",(function(){return m})),e.d(n,"histogram",(function(){return z})),e.d(n,"thresholdFreedmanDiaconis",(function(){return N})),e.d(n,"thresholdScott",(function(){return D})),e.d(n,"thresholdSturges",(function(){return C})),e.d(n,"max",(function(){return P})),e.d(n,"mean",(function(){return j})),e.d(n,"median",(function(){return L})),e.d(n,"merge",(function(){return R})),e.d(n,"min",(function(){return B})),e.d(n,"pairs",(function(){return c})),e.d(n,"permute",(function(){return F})),e.d(n,"quantile",(function(){return O})),e.d(n,"range",(function(){return w})),e.d(n,"scan",(function(){return I})),e.d(n,"shuffle",(function(){return U})),e.d(n,"sum",(function(){return q})),e.d(n,"ticks",(function(){return T})),e.d(n,"tickIncrement",(function(){return S})),e.d(n,"tickStep",(function(){return k})),e.d(n,"transpose",(function(){return Y})),e.d(n,"variance",(function(){return p})),e.d(n,"zip",(function(){return H})),e.d(n,"axisTop",(function(){return tt})),e.d(n,"axisRight",(function(){return nt})),e.d(n,"axisBottom",(function(){return et})),e.d(n,"axisLeft",(function(){return rt})),e.d(n,"brush",(function(){return Ei})),e.d(n,"brushX",(function(){return Mi})),e.d(n,"brushY",(function(){return Ai})),e.d(n,"brushSelection",(function(){return wi})),e.d(n,"chord",(function(){return Pi})),e.d(n,"ribbon",(function(){return Xi})),e.d(n,"nest",(function(){return Ki})),e.d(n,"set",(function(){return ao})),e.d(n,"map",(function(){return Zi})),e.d(n,"keys",(function(){return uo})),e.d(n,"values",(function(){return fo})),e.d(n,"entries",(function(){return co})),e.d(n,"color",(function(){return Wn})),e.d(n,"rgb",(function(){return Xn})),e.d(n,"hsl",(function(){return ne})),e.d(n,"lab",(function(){return vo})),e.d(n,"hcl",(function(){return Mo})),e.d(n,"lch",(function(){return wo})),e.d(n,"gray",(function(){return po})),e.d(n,"cubehelix",(function(){return Oo})),e.d(n,"contours",(function(){return Uo})),e.d(n,"contourDensity",(function(){return Vo})),e.d(n,"dispatch",(function(){return st})),e.d(n,"drag",(function(){return ta})),e.d(n,"dragDisable",(function(){return Tn})),e.d(n,"dragEnable",(function(){return Sn})),e.d(n,"dsvFormat",(function(){return ua})),e.d(n,"csvParse",(function(){return ca})),e.d(n,"csvParseRows",(function(){return sa})),e.d(n,"csvFormat",(function(){return la})),e.d(n,"csvFormatBody",(function(){return ha})),e.d(n,"csvFormatRows",(function(){return da})),e.d(n,"csvFormatRow",(function(){return pa})),e.d(n,"csvFormatValue",(function(){return va})),e.d(n,"tsvParse",(function(){return ga})),e.d(n,"tsvParseRows",(function(){return ya})),e.d(n,"tsvFormat",(function(){return ba})),e.d(n,"tsvFormatBody",(function(){return _a})),e.d(n,"tsvFormatRows",(function(){return xa})),e.d(n,"tsvFormatRow",(function(){return wa})),e.d(n,"tsvFormatValue",(function(){return Ma})),e.d(n,"autoType",(function(){return Aa})),e.d(n,"easeLinear",(function(){return Ta})),e.d(n,"easeQuad",(function(){return Ca})),e.d(n,"easeQuadIn",(function(){return Sa})),e.d(n,"easeQuadOut",(function(){return ka})),e.d(n,"easeQuadInOut",(function(){return Ca})),e.d(n,"easeCubic",(function(){return Gr})),e.d(n,"easeCubicIn",(function(){return Wr})),e.d(n,"easeCubicOut",(function(){return Hr})),e.d(n,"easeCubicInOut",(function(){return Gr})),e.d(n,"easePoly",(function(){return Na})),e.d(n,"easePolyIn",(function(){return za})),e.d(n,"easePolyOut",(function(){return Oa})),e.d(n,"easePolyInOut",(function(){return Na})),e.d(n,"easeSin",(function(){return Ra})),e.d(n,"easeSinIn",(function(){return ja})),e.d(n,"easeSinOut",(function(){return La})),e.d(n,"easeSinInOut",(function(){return Ra})),e.d(n,"easeExp",(function(){return Ia})),e.d(n,"easeExpIn",(function(){return Ba})),e.d(n,"easeExpOut",(function(){return Fa})),e.d(n,"easeExpInOut",(function(){return Ia})),e.d(n,"easeCircle",(function(){return Ya})),e.d(n,"easeCircleIn",(function(){return Ua})),e.d(n,"easeCircleOut",(function(){return qa})),e.d(n,"easeCircleInOut",(function(){return Ya})),e.d(n,"easeBounce",(function(){return Ha})),e.d(n,"easeBounceIn",(function(){return Wa})),e.d(n,"easeBounceOut",(function(){return Ha})),e.d(n,"easeBounceInOut",(function(){return Ga})),e.d(n,"easeBack",(function(){return $a})),e.d(n,"easeBackIn",(function(){return Va})),e.d(n,"easeBackOut",(function(){return Xa})),e.d(n,"easeBackInOut",(function(){return $a})),e.d(n,"easeElastic",(function(){return Ka})),e.d(n,"easeElasticIn",(function(){return Za})),e.d(n,"easeElasticOut",(function(){return Ka})),e.d(n,"easeElasticInOut",(function(){return Ja})),e.d(n,"blob",(function(){return nu})),e.d(n,"buffer",(function(){return ru})),e.d(n,"dsv",(function(){return uu})),e.d(n,"csv",(function(){return fu})),e.d(n,"tsv",(function(){return cu})),e.d(n,"image",(function(){return su})),e.d(n,"json",(function(){return hu})),e.d(n,"text",(function(){return ou})),e.d(n,"xml",(function(){return pu})),e.d(n,"html",(function(){return vu})),e.d(n,"svg",(function(){return mu})),e.d(n,"forceCenter",(function(){return gu})),e.d(n,"forceCollide",(function(){return zu})),e.d(n,"forceLink",(function(){return Du})),e.d(n,"forceManyBody",(function(){return Bu})),e.d(n,"forceRadial",(function(){return Fu})),e.d(n,"forceSimulation",(function(){return Ru})),e.d(n,"forceX",(function(){return Iu})),e.d(n,"forceY",(function(){return Uu})),e.d(n,"formatDefaultLocale",(function(){return rf})),e.d(n,"format",(function(){return $u})),e.d(n,"formatPrefix",(function(){return Qu})),e.d(n,"formatLocale",(function(){return ef})),e.d(n,"formatSpecifier",(function(){return Hu})),e.d(n,"FormatSpecifier",(function(){return Gu})),e.d(n,"precisionFixed",(function(){return of})),e.d(n,"precisionPrefix",(function(){return af})),e.d(n,"precisionRound",(function(){return uf})),e.d(n,"geoArea",(function(){return Kf})),e.d(n,"geoBounds",(function(){return Wc})),e.d(n,"geoCentroid",(function(){return es})),e.d(n,"geoCircle",(function(){return ds})),e.d(n,"geoClipAntimeridian",(function(){return Es})),e.d(n,"geoClipCircle",(function(){return Ts})),e.d(n,"geoClipExtent",(function(){return Os})),e.d(n,"geoClipRectangle",(function(){return Ss})),e.d(n,"geoContains",(function(){return $s})),e.d(n,"geoDistance",(function(){return Is})),e.d(n,"geoGraticule",(function(){return Ks})),e.d(n,"geoGraticule10",(function(){return Js})),e.d(n,"geoInterpolate",(function(){return il})),e.d(n,"geoLength",(function(){return Rs})),e.d(n,"geoPath",(function(){return eh})),e.d(n,"geoAlbers",(function(){return xh})),e.d(n,"geoAlbersUsa",(function(){return wh})),e.d(n,"geoAzimuthalEqualArea",(function(){return Th})),e.d(n,"geoAzimuthalEqualAreaRaw",(function(){return Eh})),e.d(n,"geoAzimuthalEquidistant",(function(){return kh})),e.d(n,"geoAzimuthalEquidistantRaw",(function(){return Sh})),e.d(n,"geoConicConformal",(function(){return Ph})),e.d(n,"geoConicConformalRaw",(function(){return Dh})),e.d(n,"geoConicEqualArea",(function(){return _h})),e.d(n,"geoConicEqualAreaRaw",(function(){return bh})),e.d(n,"geoConicEquidistant",(function(){return Bh})),e.d(n,"geoConicEquidistantRaw",(function(){return Rh})),e.d(n,"geoEqualEarth",(function(){return Hh})),e.d(n,"geoEqualEarthRaw",(function(){return Wh})),e.d(n,"geoEquirectangular",(function(){return Lh})),e.d(n,"geoEquirectangularRaw",(function(){return jh})),e.d(n,"geoGnomonic",(function(){return Vh})),e.d(n,"geoGnomonicRaw",(function(){return Gh})),e.d(n,"geoIdentity",(function(){return $h})),e.d(n,"geoProjection",(function(){return mh})),e.d(n,"geoProjectionMutator",(function(){return gh})),e.d(n,"geoMercator",(function(){return zh})),e.d(n,"geoMercatorRaw",(function(){return Ch})),e.d(n,"geoNaturalEarth1",(function(){return Zh})),e.d(n,"geoNaturalEarth1Raw",(function(){return Qh})),e.d(n,"geoOrthographic",(function(){return Jh})),e.d(n,"geoOrthographicRaw",(function(){return Kh})),e.d(n,"geoStereographic",(function(){return nd})),e.d(n,"geoStereographicRaw",(function(){return td})),e.d(n,"geoTransverseMercator",(function(){return rd})),e.d(n,"geoTransverseMercatorRaw",(function(){return ed})),e.d(n,"geoRotation",(function(){return ss})),e.d(n,"geoStream",(function(){return Wf})),e.d(n,"geoTransform",(function(){return rh})),e.d(n,"cluster",(function(){return ud})),e.d(n,"hierarchy",(function(){return cd})),e.d(n,"pack",(function(){return Pd})),e.d(n,"packSiblings",(function(){return kd})),e.d(n,"packEnclose",(function(){return vd})),e.d(n,"partition",(function(){return Id})),e.d(n,"stratify",(function(){return Hd})),e.d(n,"tree",(function(){return Kd})),e.d(n,"treemap",(function(){return rp})),e.d(n,"treemapBinary",(function(){return ip})),e.d(n,"treemapDice",(function(){return Fd})),e.d(n,"treemapSlice",(function(){return Jd})),e.d(n,"treemapSliceDice",(function(){return op})),e.d(n,"treemapSquarify",(function(){return ep})),e.d(n,"treemapResquarify",(function(){return ap})),e.d(n,"interpolate",(function(){return ke})),e.d(n,"interpolateArray",(function(){return ye})),e.d(n,"interpolateBasis",(function(){return oe})),e.d(n,"interpolateBasisClosed",(function(){return ae})),e.d(n,"interpolateDate",(function(){return _e})),e.d(n,"interpolateDiscrete",(function(){return up})),e.d(n,"interpolateHue",(function(){return fp})),e.d(n,"interpolateNumber",(function(){return xe})),e.d(n,"interpolateNumberArray",(function(){return me})),e.d(n,"interpolateObject",(function(){return we})),e.d(n,"interpolateRound",(function(){return cp})),e.d(n,"interpolateString",(function(){return Se})),e.d(n,"interpolateTransformCss",(function(){return lr})),e.d(n,"interpolateTransformSvg",(function(){return hr})),e.d(n,"interpolateZoom",(function(){return hp})),e.d(n,"interpolateRgb",(function(){return he})),e.d(n,"interpolateRgbBasis",(function(){return pe})),e.d(n,"interpolateRgbBasisClosed",(function(){return ve})),e.d(n,"interpolateHsl",(function(){return pp})),e.d(n,"interpolateHslLong",(function(){return vp})),e.d(n,"interpolateLab",(function(){return mp})),e.d(n,"interpolateHcl",(function(){return yp})),e.d(n,"interpolateHclLong",(function(){return bp})),e.d(n,"interpolateCubehelix",(function(){return xp})),e.d(n,"interpolateCubehelixLong",(function(){return wp})),e.d(n,"piecewise",(function(){return Mp})),e.d(n,"quantize",(function(){return Ap})),e.d(n,"path",(function(){return qi})),e.d(n,"polygonArea",(function(){return Ep})),e.d(n,"polygonCentroid",(function(){return Tp})),e.d(n,"polygonHull",(function(){return Cp})),e.d(n,"polygonContains",(function(){return zp})),e.d(n,"polygonLength",(function(){return Op})),e.d(n,"quadtree",(function(){return Au})),e.d(n,"randomUniform",(function(){return Dp})),e.d(n,"randomNormal",(function(){return Pp})),e.d(n,"randomLogNormal",(function(){return jp})),e.d(n,"randomBates",(function(){return Rp})),e.d(n,"randomIrwinHall",(function(){return Lp})),e.d(n,"randomExponential",(function(){return Bp})),e.d(n,"scaleBand",(function(){return Gp})),e.d(n,"scalePoint",(function(){return Xp})),e.d(n,"scaleIdentity",(function(){return fv})),e.d(n,"scaleLinear",(function(){return uv})),e.d(n,"scaleLog",(function(){return gv})),e.d(n,"scaleSymlog",(function(){return xv})),e.d(n,"scaleOrdinal",(function(){return Hp})),e.d(n,"scaleImplicit",(function(){return Wp})),e.d(n,"scalePow",(function(){return Tv})),e.d(n,"scaleSqrt",(function(){return Sv})),e.d(n,"scaleQuantile",(function(){return kv})),e.d(n,"scaleQuantize",(function(){return Cv})),e.d(n,"scaleThreshold",(function(){return zv})),e.d(n,"scaleTime",(function(){return uy})),e.d(n,"scaleUtc",(function(){return gy})),e.d(n,"scaleSequential",(function(){return _y})),e.d(n,"scaleSequentialLog",(function(){return xy})),e.d(n,"scaleSequentialPow",(function(){return My})),e.d(n,"scaleSequentialSqrt",(function(){return Ay})),e.d(n,"scaleSequentialSymlog",(function(){return wy})),e.d(n,"scaleSequentialQuantile",(function(){return Ey})),e.d(n,"scaleDiverging",(function(){return Sy})),e.d(n,"scaleDivergingLog",(function(){return ky})),e.d(n,"scaleDivergingPow",(function(){return zy})),e.d(n,"scaleDivergingSqrt",(function(){return Oy})),e.d(n,"scaleDivergingSymlog",(function(){return Cy})),e.d(n,"tickFormat",(function(){return ov})),e.d(n,"schemeCategory10",(function(){return Dy})),e.d(n,"schemeAccent",(function(){return Py})),e.d(n,"schemeDark2",(function(){return jy})),e.d(n,"schemePaired",(function(){return Ly})),e.d(n,"schemePastel1",(function(){return Ry})),e.d(n,"schemePastel2",(function(){return By})),e.d(n,"schemeSet1",(function(){return Fy})),e.d(n,"schemeSet2",(function(){return Iy})),e.d(n,"schemeSet3",(function(){return Uy})),e.d(n,"schemeTableau10",(function(){return qy})),e.d(n,"interpolateBrBG",(function(){return Hy})),e.d(n,"schemeBrBG",(function(){return Wy})),e.d(n,"interpolatePRGn",(function(){return Vy})),e.d(n,"schemePRGn",(function(){return Gy})),e.d(n,"interpolatePiYG",(function(){return $y})),e.d(n,"schemePiYG",(function(){return Xy})),e.d(n,"interpolatePuOr",(function(){return Zy})),e.d(n,"schemePuOr",(function(){return Qy})),e.d(n,"interpolateRdBu",(function(){return Jy})),e.d(n,"schemeRdBu",(function(){return Ky})),e.d(n,"interpolateRdGy",(function(){return nb})),e.d(n,"schemeRdGy",(function(){return tb})),e.d(n,"interpolateRdYlBu",(function(){return rb})),e.d(n,"schemeRdYlBu",(function(){return eb})),e.d(n,"interpolateRdYlGn",(function(){return ob})),e.d(n,"schemeRdYlGn",(function(){return ib})),e.d(n,"interpolateSpectral",(function(){return ub})),e.d(n,"schemeSpectral",(function(){return ab})),e.d(n,"interpolateBuGn",(function(){return cb})),e.d(n,"schemeBuGn",(function(){return fb})),e.d(n,"interpolateBuPu",(function(){return lb})),e.d(n,"schemeBuPu",(function(){return sb})),e.d(n,"interpolateGnBu",(function(){return db})),e.d(n,"schemeGnBu",(function(){return hb})),e.d(n,"interpolateOrRd",(function(){return vb})),e.d(n,"schemeOrRd",(function(){return pb})),e.d(n,"interpolatePuBuGn",(function(){return gb})),e.d(n,"schemePuBuGn",(function(){return mb})),e.d(n,"interpolatePuBu",(function(){return bb})),e.d(n,"schemePuBu",(function(){return yb})),e.d(n,"interpolatePuRd",(function(){return xb})),e.d(n,"schemePuRd",(function(){return _b})),e.d(n,"interpolateRdPu",(function(){return Mb})),e.d(n,"schemeRdPu",(function(){return wb})),e.d(n,"interpolateYlGnBu",(function(){return Eb})),e.d(n,"schemeYlGnBu",(function(){return Ab})),e.d(n,"interpolateYlGn",(function(){return Sb})),e.d(n,"schemeYlGn",(function(){return Tb})),e.d(n,"interpolateYlOrBr",(function(){return Cb})),e.d(n,"schemeYlOrBr",(function(){return kb})),e.d(n,"interpolateYlOrRd",(function(){return Ob})),e.d(n,"schemeYlOrRd",(function(){return zb})),e.d(n,"interpolateBlues",(function(){return Db})),e.d(n,"schemeBlues",(function(){return Nb})),e.d(n,"interpolateGreens",(function(){return jb})),e.d(n,"schemeGreens",(function(){return Pb})),e.d(n,"interpolateGreys",(function(){return Rb})),e.d(n,"schemeGreys",(function(){return Lb})),e.d(n,"interpolatePurples",(function(){return Fb})),e.d(n,"schemePurples",(function(){return Bb})),e.d(n,"interpolateReds",(function(){return Ub})),e.d(n,"schemeReds",(function(){return Ib})),e.d(n,"interpolateOranges",(function(){return Yb})),e.d(n,"schemeOranges",(function(){return qb})),e.d(n,"interpolateCividis",(function(){return Wb})),e.d(n,"interpolateCubehelixDefault",(function(){return Hb})),e.d(n,"interpolateRainbow",(function(){return $b})),e.d(n,"interpolateWarm",(function(){return Gb})),e.d(n,"interpolateCool",(function(){return Vb})),e.d(n,"interpolateSinebow",(function(){return Jb})),e.d(n,"interpolateTurbo",(function(){return t_})),e.d(n,"interpolateViridis",(function(){return e_})),e.d(n,"interpolateMagma",(function(){return r_})),e.d(n,"interpolateInferno",(function(){return i_})),e.d(n,"interpolatePlasma",(function(){return o_})),e.d(n,"create",(function(){return a_})),e.d(n,"creator",(function(){return en})),e.d(n,"local",(function(){return f_})),e.d(n,"matcher",(function(){return vt})),e.d(n,"mouse",(function(){return Ne})),e.d(n,"namespace",(function(){return Mt})),e.d(n,"namespaces",(function(){return wt})),e.d(n,"clientPoint",(function(){return ze})),e.d(n,"select",(function(){return Mn})),e.d(n,"selectAll",(function(){return s_})),e.d(n,"selection",(function(){return wn})),e.d(n,"selector",(function(){return ht})),e.d(n,"selectorAll",(function(){return pt})),e.d(n,"style",(function(){return Pt})),e.d(n,"touch",(function(){return Oe})),e.d(n,"touches",(function(){return l_})),e.d(n,"window",(function(){return zt})),e.d(n,"event",(function(){return cn})),e.d(n,"customEvent",(function(){return vn})),e.d(n,"arc",(function(){return N_})),e.d(n,"area",(function(){return B_})),e.d(n,"line",(function(){return R_})),e.d(n,"pie",(function(){return U_})),e.d(n,"areaRadial",(function(){return V_})),e.d(n,"radialArea",(function(){return V_})),e.d(n,"lineRadial",(function(){return G_})),e.d(n,"radialLine",(function(){return G_})),e.d(n,"pointRadial",(function(){return X_})),e.d(n,"linkHorizontal",(function(){return ex})),e.d(n,"linkVertical",(function(){return rx})),e.d(n,"linkRadial",(function(){return ix})),e.d(n,"symbol",(function(){return wx})),e.d(n,"symbols",(function(){return xx})),e.d(n,"symbolCircle",(function(){return ox})),e.d(n,"symbolCross",(function(){return ax})),e.d(n,"symbolDiamond",(function(){return cx})),e.d(n,"symbolSquare",(function(){return px})),e.d(n,"symbolStar",(function(){return dx})),e.d(n,"symbolTriangle",(function(){return mx})),e.d(n,"symbolWye",(function(){return _x})),e.d(n,"curveBasisClosed",(function(){return kx})),e.d(n,"curveBasisOpen",(function(){return zx})),e.d(n,"curveBasis",(function(){return Tx})),e.d(n,"curveBundle",(function(){return Nx})),e.d(n,"curveCardinalClosed",(function(){return Rx})),e.d(n,"curveCardinalOpen",(function(){return Fx})),e.d(n,"curveCardinal",(function(){return jx})),e.d(n,"curveCatmullRomClosed",(function(){return Wx})),e.d(n,"curveCatmullRomOpen",(function(){return Gx})),e.d(n,"curveCatmullRom",(function(){return qx})),e.d(n,"curveLinearClosed",(function(){return Xx})),e.d(n,"curveLinear",(function(){return P_})),e.d(n,"curveMonotoneX",(function(){return ew})),e.d(n,"curveMonotoneY",(function(){return rw})),e.d(n,"curveNatural",(function(){return aw})),e.d(n,"curveStep",(function(){return fw})),e.d(n,"curveStepAfter",(function(){return sw})),e.d(n,"curveStepBefore",(function(){return cw})),e.d(n,"stack",(function(){return pw})),e.d(n,"stackOffsetExpand",(function(){return vw})),e.d(n,"stackOffsetDiverging",(function(){return mw})),e.d(n,"stackOffsetNone",(function(){return lw})),e.d(n,"stackOffsetSilhouette",(function(){return gw})),e.d(n,"stackOffsetWiggle",(function(){return yw})),e.d(n,"stackOrderAppearance",(function(){return bw})),e.d(n,"stackOrderAscending",(function(){return xw})),e.d(n,"stackOrderDescending",(function(){return Mw})),e.d(n,"stackOrderInsideOut",(function(){return Aw})),e.d(n,"stackOrderNone",(function(){return hw})),e.d(n,"stackOrderReverse",(function(){return Ew})),e.d(n,"timeInterval",(function(){return Dv})),e.d(n,"timeMillisecond",(function(){return pm})),e.d(n,"timeMilliseconds",(function(){return vm})),e.d(n,"utcMillisecond",(function(){return pm})),e.d(n,"utcMilliseconds",(function(){return vm})),e.d(n,"timeSecond",(function(){return lm})),e.d(n,"timeSeconds",(function(){return hm})),e.d(n,"utcSecond",(function(){return lm})),e.d(n,"utcSeconds",(function(){return hm})),e.d(n,"timeMinute",(function(){return fm})),e.d(n,"timeMinutes",(function(){return cm})),e.d(n,"timeHour",(function(){return om})),e.d(n,"timeHours",(function(){return am})),e.d(n,"timeDay",(function(){return em})),e.d(n,"timeDays",(function(){return rm})),e.d(n,"timeWeek",(function(){return Uv})),e.d(n,"timeWeeks",(function(){return Xv})),e.d(n,"timeSunday",(function(){return Uv})),e.d(n,"timeSundays",(function(){return Xv})),e.d(n,"timeMonday",(function(){return qv})),e.d(n,"timeMondays",(function(){return $v})),e.d(n,"timeTuesday",(function(){return Yv})),e.d(n,"timeTuesdays",(function(){return Qv})),e.d(n,"timeWednesday",(function(){return Wv})),e.d(n,"timeWednesdays",(function(){return Zv})),e.d(n,"timeThursday",(function(){return Hv})),e.d(n,"timeThursdays",(function(){return Kv})),e.d(n,"timeFriday",(function(){return Gv})),e.d(n,"timeFridays",(function(){return Jv})),e.d(n,"timeSaturday",(function(){return Vv})),e.d(n,"timeSaturdays",(function(){return tm})),e.d(n,"timeMonth",(function(){return Bv})),e.d(n,"timeMonths",(function(){return Fv})),e.d(n,"timeYear",(function(){return jv})),e.d(n,"timeYears",(function(){return Lv})),e.d(n,"utcMinute",(function(){return vy})),e.d(n,"utcMinutes",(function(){return my})),e.d(n,"utcHour",(function(){return hy})),e.d(n,"utcHours",(function(){return dy})),e.d(n,"utcDay",(function(){return Nm})),e.d(n,"utcDays",(function(){return Dm})),e.d(n,"utcWeek",(function(){return gm})),e.d(n,"utcWeeks",(function(){return Am})),e.d(n,"utcSunday",(function(){return gm})),e.d(n,"utcSundays",(function(){return Am})),e.d(n,"utcMonday",(function(){return ym})),e.d(n,"utcMondays",(function(){return Em})),e.d(n,"utcTuesday",(function(){return bm})),e.d(n,"utcTuesdays",(function(){return Tm})),e.d(n,"utcWednesday",(function(){return _m})),e.d(n,"utcWednesdays",(function(){return Sm})),e.d(n,"utcThursday",(function(){return xm})),e.d(n,"utcThursdays",(function(){return km})),e.d(n,"utcFriday",(function(){return wm})),e.d(n,"utcFridays",(function(){return Cm})),e.d(n,"utcSaturday",(function(){return Mm})),e.d(n,"utcSaturdays",(function(){return zm})),e.d(n,"utcMonth",(function(){return cy})),e.d(n,"utcMonths",(function(){return sy})),e.d(n,"utcYear",(function(){return jm})),e.d(n,"utcYears",(function(){return Lm})),e.d(n,"timeFormatDefaultLocale",(function(){return ry})),e.d(n,"timeFormat",(function(){return qm})),e.d(n,"timeParse",(function(){return Ym})),e.d(n,"utcFormat",(function(){return Wm})),e.d(n,"utcParse",(function(){return Hm})),e.d(n,"timeFormatLocale",(function(){return Im})),e.d(n,"isoFormat",(function(){return Tw})),e.d(n,"isoParse",(function(){return Sw})),e.d(n,"now",(function(){return Ue})),e.d(n,"timer",(function(){return We})),e.d(n,"timerFlush",(function(){return He})),e.d(n,"timeout",(function(){return $e})),e.d(n,"interval",(function(){return kw})),e.d(n,"transition",(function(){return Ur})),e.d(n,"active",(function(){return Qr})),e.d(n,"interrupt",(function(){return ar})),e.d(n,"voronoi",(function(){return dM})),e.d(n,"zoom",(function(){return SM})),e.d(n,"zoomTransform",(function(){return yM})),e.d(n,"zoomIdentity",(function(){return gM}))},function(t,n,e){!function(){"use strict";var n=Math.abs,r=Math.min,i=Math.max,o=Math.cos,a=Math.sin,u=Math.acos,f=Math.sqrt,c=Math.PI,s={x:0,y:0,z:0},l=e(3),h=e(14),d=function(t){var e=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof e[0]){r=e.length;var i=[];e.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&i.push(t[n])}))})),e=i}var o=!1,a=e.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var u=!o&&(9===a||12===a)||t&&t[0]&&void 0!==t[0].z;this._3d=u;for(var f=[],c=0,s=u?3:2;c<a;c+=s){var h={x:e[c],y:e[c+1]};u&&(h.z=e[c+2]),f.push(h)}this.order=f.length-1,this.points=f;var d=["x","y"];u&&d.push("z"),this.dims=d,this.dimlen=d.length,function(t){for(var e=t.order,r=t.points,i=l.align(r,{p1:r[0],p2:r[e]}),o=0;o<i.length;o++)if(n(i[o].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()},p=e(15);function v(t,n,e,r,i){void 0===i&&(i=.5);var o=l.projectionratio(i,t),a=1-o,u={x:o*n.x+a*r.x,y:o*n.y+a*r.y},f=l.abcratio(i,t);return{A:{x:e.x+(e.x-u.x)/f,y:e.y+(e.y-u.y)/f},B:e,C:u}}d.SVGtoBeziers=function(t){return p(d,t)},d.quadraticFromPoints=function(t,n,e,r){if(void 0===r&&(r=.5),0===r)return new d(n,n,e);if(1===r)return new d(t,n,n);var i=v(2,t,n,e,r);return new d(t,i.A,e)},d.cubicFromPoints=function(t,n,e,r,i){void 0===r&&(r=.5);var o=v(3,t,n,e,r);void 0===i&&(i=l.dist(n,o.C));var a=i*(1-r)/r,u=l.dist(t,e),f=(e.x-t.x)/u,c=(e.y-t.y)/u,s=i*f,h=i*c,p=a*f,m=a*c,g=n.x-s,y=n.y-h,b=n.x+p,_=n.y+m,x=o.A,w=x.x+(g-x.x)/(1-r),M=x.y+(y-x.y)/(1-r),A=x.x+(b-x.x)/r,E=x.y+(_-x.y)/r,T={x:t.x+(w-t.x)/r,y:t.y+(M-t.y)/r},S={x:e.x+(A-e.x)/(1-r),y:e.y+(E-e.y)/(1-r)};return new d(t,T,S,e)};var m=function(){return l};d.getUtils=m,d.PolyBezier=h,d.prototype={getUtils:m,valueOf:function(){return this.toString()},toString:function(){return l.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var n=this.points,e=["M",n[0].x,n[0].y,2===this.order?"Q":"C"],r=1,i=n.length;r<i;r++)e.push(n[r].x),e.push(n[r].y);return e.join(" ")},setRatios:function(t){if(t.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=t,this._lut=[]},verify:function(){var t=this.coordDigest();t!==this._print&&(this._print=t,this.update())},coordDigest:function(){return this.points.map((function(t,n){return""+n+t.x+t.y+(t.z?t.z:0)})).join("")},update:function(t){this._lut=[],this.dpoints=l.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,n=l.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return l.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(this.verify(),t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var n=0;n<=t;n++)this._lut.push(this.compute(n/t));return this._lut},on:function(t,n){n=n||5;for(var e,r=this.getLUT(),i=[],o=0,a=0;a<r.length;a++)e=r[a],l.dist(e,t)<n&&(i.push(e),o+=a/r.length);return!!i.length&&o/i.length},project:function(t){var n,e,r,i,o=this.getLUT(),a=o.length-1,u=l.closest(o,t),f=u.mdist,c=u.mpos,s=(c+1)/a,h=.1/a;for(f+=1,n=e=(c-1)/a;e<s+h;e+=h)r=this.compute(e),(i=l.dist(t,r))<f&&(f=i,n=e);return(r=this.compute(n)).t=n,r.d=f,r},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return this.ratios?l.computeWithRatios(t,this.points,this.ratios,this._3d):l.compute(t,this.points,this._3d,this.ratios)},raise:function(){for(var t,n,e=this.points,r=[e[0]],i=e.length,o=1;o<i;o++)t=e[o],n=e[o-1],r[o]={x:(i-o)/i*t.x+o/i*n.x,y:(i-o)/i*t.y+o/i*n.y};return r[i]=e[i-1],new d(r)},derivative:function(t){var n,e,r=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],s],n=r,e=t),3===this.order&&(n=r*r,e=r*t*2,i=t*t);var a={x:n*o[0].x+e*o[1].x+i*o[2].x,y:n*o[0].y+e*o[1].y+i*o[2].y};return this._3d&&(a.z=n*o[0].z+e*o[1].z+i*o[2].z),a},curvature:function(t){return l.curvature(t,this.points,this._3d)},inflections:function(){return l.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var n=this.derivative(t),e=f(n.x*n.x+n.y*n.y);return{x:-n.y/e,y:n.x/e}},__normal3:function(t){var n=this.derivative(t),e=this.derivative(t+.01),r=f(n.x*n.x+n.y*n.y+n.z*n.z),i=f(e.x*e.x+e.y*e.y+e.z*e.z);n.x/=r,n.y/=r,n.z/=r,e.x/=i,e.y/=i,e.z/=i;var o={x:e.y*n.z-e.z*n.y,y:e.z*n.x-e.x*n.z,z:e.x*n.y-e.y*n.x},a=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}},hull:function(t){var n,e=this.points,r=[],i=[],o=0,a=0,u=0;for(i[o++]=e[0],i[o++]=e[1],i[o++]=e[2],3===this.order&&(i[o++]=e[3]);e.length>1;){for(r=[],a=0,u=e.length-1;a<u;a++)n=l.lerp(t,e[a],e[a+1]),i[o++]=n,r.push(n);e=r}return i},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var e=this.hull(t),r={left:2===this.order?new d([e[0],e[3],e[5]]):new d([e[0],e[4],e[7],e[9]]),right:2===this.order?new d([e[5],e[4],e[2]]):new d([e[9],e[8],e[6],e[3]]),span:e};return r.left._t1=l.map(0,0,1,this._t1,this._t2),r.left._t2=l.map(t,0,1,this._t1,this._t2),r.right._t1=l.map(t,0,1,this._t1,this._t2),r.right._t2=l.map(1,0,1,this._t1,this._t2),n?(n=l.map(n,t,1,0,1),r.right.split(n).left):r},extrema:function(){var t,n,e=this.dims,r={},i=[];return e.forEach(function(e){n=function(t){return t[e]},t=this.dpoints[0].map(n),r[e]=l.droots(t),3===this.order&&(t=this.dpoints[1].map(n),r[e]=r[e].concat(l.droots(t))),r[e]=r[e].filter((function(t){return t>=0&&t<=1})),i=i.concat(r[e].sort(l.numberSort))}.bind(this)),i=i.sort(l.numberSort).filter((function(t,n){return i.indexOf(t)===n})),r.values=i,r},bbox:function(){var t=this.extrema(),n={};return this.dims.forEach(function(e){n[e]=l.getminmax(this,e,t[e])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),e=t.bbox();return l.bboxoverlap(n,e)},offset:function(t,n){if(void 0!==n){var e=this.get(t),r=this.normal(t),i={c:e,n:r,x:e.x+r.x*n,y:e.y+r.y*n};return this._3d&&(i.z=e.z+r.z*n),i}if(this._linear){var o=this.normal(0),a=this.points.map((function(n){var e={x:n.x+t*o.x,y:n.y+t*o.y};return n.z&&r.z&&(e.z=n.z+t*o.z),e}));return[new d(a)]}return this.reduce().map((function(n){return n._linear?n.offset(t)[0]:n.scale(t)}))},simple:function(){if(3===this.order){var t=l.angle(this.points[0],this.points[3],this.points[1]),e=l.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var r=this.normal(0),i=this.normal(1),o=r.x*i.x+r.y*i.y;return this._3d&&(o+=r.z*i.z),n(u(o))<c/3},reduce:function(){var t,e,r=0,i=0,o=[],a=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),r=u[0],t=1;t<u.length;t++)i=u[t],(e=this.split(r,i))._t1=r,e._t2=i,o.push(e),r=i;return o.forEach((function(t){for(r=0,i=0;i<=1;)for(i=r+.01;i<=1.01;i+=.01)if(!(e=t.split(r,i)).simple()){if(n(r-(i-=.01))<.01)return[];(e=t.split(r,i))._t1=l.map(r,0,1,t._t1,t._t2),e._t2=l.map(i,0,1,t._t1,t._t2),a.push(e),r=i;break}r<1&&((e=t.split(r,1))._t1=l.map(r,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))})),a},scale:function(t){var n=this.order,e=!1;if("function"==typeof t&&(e=t),e&&2===n)return this.raise().scale(e);var r=this.clockwise,i=e?e(0):t,o=e?e(1):t,a=[this.offset(0,10),this.offset(1,10)],u=l.lli4(a[0],a[0].c,a[1],a[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");var c=this.points,s=[];return[0,1].forEach(function(t){var e=s[t*n]=l.copy(c[t*n]);e.x+=(t?o:i)*a[t].n.x,e.y+=(t?o:i)*a[t].n.y}.bind(this)),e?([0,1].forEach(function(i){if(2!==this.order||!i){var o=c[i+1],a={x:o.x-u.x,y:o.y-u.y},l=e?e((i+1)/n):t;e&&!r&&(l=-l);var h=f(a.x*a.x+a.y*a.y);a.x/=h,a.y/=h,s[i+1]={x:o.x+l*a.x,y:o.y+l*a.y}}}.bind(this)),new d(s)):([0,1].forEach(function(t){if(2!==this.order||!t){var e=s[t*n],r=this.derivative(t),i={x:e.x+r.x,y:e.y+r.y};s[t+1]=l.lli4(e,i,u,c[t+1])}}.bind(this)),new d(s))},outline:function(t,n,e,r){n=void 0===n?t:n;var i,o=this.reduce(),a=o.length,u=[],f=[],c=0,s=this.length(),d=void 0!==e&&void 0!==r;function p(t,n,e,r,i){return function(o){var a=r/e,u=(r+i)/e,f=n-t;return l.map(o,0,1,t+a*f,t+u*f)}}o.forEach((function(i){w=i.length(),d?(u.push(i.scale(p(t,e,s,c,w))),f.push(i.scale(p(-n,-r,s,c,w)))):(u.push(i.scale(t)),f.push(i.scale(-n))),c+=w})),f=f.map((function(t){return(i=t.points)[3]?t.points=[i[3],i[2],i[1],i[0]]:t.points=[i[2],i[1],i[0]],t})).reverse();var v=u[0].points[0],m=u[a-1].points[u[a-1].points.length-1],g=f[a-1].points[f[a-1].points.length-1],y=f[0].points[0],b=l.makeline(g,v),_=l.makeline(m,y),x=[b].concat(u).concat([_]).concat(f),w=x.length;return new h(x)},outlineshapes:function(t,n,e){n=n||t;for(var r=this.outline(t,n).curves,i=[],o=1,a=r.length;o<a/2;o++){var u=l.makeshape(r[o],r[a-o],e);u.startcap.virtual=o>1,u.endcap.virtual=o<a/2-1,i.push(u)}return i},intersects:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof d&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)},lineIntersects:function(t){var n=r(t.p1.x,t.p2.x),e=r(t.p1.y,t.p2.y),o=i(t.p1.x,t.p2.x),a=i(t.p1.y,t.p2.y),u=this;return l.roots(this.points,t).filter((function(t){var r=u.get(t);return l.between(r.x,n,o)&&l.between(r.y,e,a)}))},selfintersects:function(t){var n,e,r,i,o=this.reduce(),a=o.length-2,u=[];for(n=0;n<a;n++)r=o.slice(n,n+1),i=o.slice(n+2),e=this.curveintersects(r,i,t),u=u.concat(e);return u},curveintersects:function(t,n,e){var r=[];t.forEach((function(t){n.forEach((function(n){t.overlaps(n)&&r.push({left:t,right:n})}))}));var i=[];return r.forEach((function(t){var n=l.pairiteration(t.left,t.right,e);n.length>0&&(i=i.concat(n))})),i},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,e,r,i){var o=(i-r)/4,a=this.get(r+o),u=this.get(i-o),f=l.dist(t,e),c=l.dist(t,a),s=l.dist(t,u);return n(c-f)+n(s-f)},_iterate:function(t,n){var e,r=0,i=1;do{e=0,i=1;var u,f,c,s,h,d=this.get(r),p=!1,v=!1,m=i,g=1;do{if(v=p,s=c,m=(r+i)/2,u=this.get(m),f=this.get(i),(c=l.getccenter(d,u,f)).interval={start:r,end:i},p=this._error(c,d,r,i)<=t,(h=v&&!p)||(g=i),p){if(i>=1){if(c.interval.end=g=1,s=c,i>1){var y={x:c.x+c.r*o(c.e),y:c.y+c.r*a(c.e)};c.e+=l.angle({x:c.x,y:c.y},y,this.get(1))}break}i+=(i-r)/2}else i=m}while(!h&&e++<100);if(e>=100)break;s=s||c,n.push(s),r=g}while(i<1);return n}},t.exports=d}()},function(t,n,e){!function(){"use strict";var n=Math.abs,r=Math.cos,i=Math.sin,o=Math.acos,a=Math.atan2,u=Math.sqrt,f=Math.pow,c=function(t){return t<0?-f(-t,1/3):f(t,1/3)},s=Math.PI,l=2*s,h=s/2,d=Number.MAX_SAFE_INTEGER||9007199254740991,p=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},m={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n){var e=n(t),r=e.x*e.x+e.y*e.y;return void 0!==e.z&&(r+=e.z*e.z),u(r)},compute:function(t,n,e){if(0===t)return n[0];var r=n.length-1;if(1===t)return n[r];var i=n,o=1-t;if(0===r)return n[0];if(1===r)return h={x:o*i[0].x+t*i[1].x,y:o*i[0].y+t*i[1].y},e&&(h.z=o*i[0].z+t*i[1].z),h;if(r<4){var a,u,f,c=o*o,s=t*t,l=0;2===r?(i=[i[0],i[1],i[2],v],a=c,u=o*t*2,f=s):3===r&&(a=c*o,u=c*t*3,f=o*s*3,l=t*s);var h={x:a*i[0].x+u*i[1].x+f*i[2].x+l*i[3].x,y:a*i[0].y+u*i[1].y+f*i[2].y+l*i[3].y};return e&&(h.z=a*i[0].z+u*i[1].z+f*i[2].z+l*i[3].z),h}for(var d=JSON.parse(JSON.stringify(n));d.length>1;){for(var p=0;p<d.length-1;p++)d[p]={x:d[p].x+(d[p+1].x-d[p].x)*t,y:d[p].y+(d[p+1].y-d[p].y)*t},void 0!==d[p].z&&(d[p]=d[p].z+(d[p+1].z-d[p].z)*t);d.splice(d.length-1,1)}return d[0]},computeWithRatios:function(t,n,e,r){var i,o=1-t,a=e,u=n,f=a[0],c=a[1],s=a[2],l=a[3];return f*=o,c*=t,2===u.length?(i=f+c,{x:(f*u[0].x+c*u[1].x)/i,y:(f*u[0].y+c*u[1].y)/i,z:!!r&&(f*u[0].z+c*u[1].z)/i}):(f*=o,c*=2*o,s*=t*t,3===u.length?(i=f+c+s,{x:(f*u[0].x+c*u[1].x+s*u[2].x)/i,y:(f*u[0].y+c*u[1].y+s*u[2].y)/i,z:!!r&&(f*u[0].z+c*u[1].z+s*u[2].z)/i}):(f*=o,c*=1.5*o,s*=3*o,l*=t*t*t,4===u.length?(i=f+c+s+l,{x:(f*u[0].x+c*u[1].x+s*u[2].x+l*u[3].x)/i,y:(f*u[0].y+c*u[1].y+s*u[2].y+l*u[3].y)/i,z:!!r&&(f*u[0].z+c*u[1].z+s*u[2].z+l*u[3].z)/i}):void 0))},derive:function(t,n){for(var e=[],r=t,i=r.length,o=i-1;i>1;i--,o--){for(var a,u=[],f=0;f<o;f++)a={x:o*(r[f+1].x-r[f].x),y:o*(r[f+1].y-r[f].y)},n&&(a.z=o*(r[f+1].z-r[f].z)),u.push(a);e.push(u),r=u}return e},between:function(t,n,e){return n<=t&&t<=e||m.approximately(t,n)||m.approximately(t,e)},approximately:function(t,e,r){return n(t-e)<=(r||1e-6)},length:function(t){var n,e,r=0,i=m.Tvalues.length;for(n=0;n<i;n++)e=.5*m.Tvalues[n]+.5,r+=m.Cvalues[n]*m.arcfn(e,t);return.5*r},map:function(t,n,e,r,i){return r+(i-r)*((t-n)/(e-n))},lerp:function(t,n,e){var r={x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)};return n.z&&e.z&&(r.z=n.z+t*(e.z-n.z)),r},pointToString:function(t){var n=t.x+"/"+t.y;return void 0!==t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(m.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,e){var r=n.x-t.x,i=n.y-t.y,o=e.x-t.x,u=e.y-t.y;return a(r*u-i*o,r*o+i*u)},round:function(t,n){var e=""+t,r=e.indexOf(".");return parseFloat(e.substring(0,r+1+n))},dist:function(t,n){var e=t.x-n.x,r=t.y-n.y;return u(e*e+r*r)},closest:function(t,n){var e,r,i=f(2,63);return t.forEach((function(t,o){(r=m.dist(n,t))<i&&(i=r,e=o)})),{mdist:i,mpos:e}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var r=f(t,e)+f(1-t,e);return n((r-1)/r)},projectionratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var e=f(1-t,n);return e/(f(t,n)+e)},lli8:function(t,n,e,r,i,o,a,u){var f=(t-e)*(o-u)-(n-r)*(i-a);return 0!=f&&{x:((t*r-n*e)*(i-a)-(t-e)*(i*u-o*a))/f,y:((t*r-n*e)*(o-u)-(n-r)*(i*u-o*a))/f}},lli4:function(t,n,e,r){var i=t.x,o=t.y,a=n.x,u=n.y,f=e.x,c=e.y,s=r.x,l=r.y;return m.lli8(i,o,a,u,f,c,s,l)},lli:function(t,n){return m.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=e(2),i=t.x,o=t.y,a=n.x,u=n.y,f=(a-i)/3,c=(u-o)/3;return new r(i,o,i+f,o+c,i+2*f,o+2*c,a,u)},findbbox:function(t){var n=d,e=d,r=p,i=p;return t.forEach((function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),e>o.y.min&&(e=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:n,mid:(n+r)/2,max:r,size:r-n},y:{min:e,mid:(e+i)/2,max:i,size:i-e}}},shapeintersections:function(t,n,e,r,i){if(!m.bboxoverlap(n,r))return[];var o=[],a=[t.startcap,t.forward,t.back,t.endcap],u=[e.startcap,e.forward,e.back,e.endcap];return a.forEach((function(n){n.virtual||u.forEach((function(r){if(!r.virtual){var a=n.intersects(r,i);a.length>0&&(a.c1=n,a.c2=r,a.s1=t,a.s2=e,o.push(a))}}))})),o},makeshape:function(t,n,e){var r=n.points.length,i=t.points.length,o=m.makeline(n.points[r-1],t.points[0]),a=m.makeline(t.points[i-1],n.points[0]),u={startcap:o,forward:t,back:n,endcap:a,bbox:m.findbbox([o,t,n,a])},f=m;return u.intersections=function(t){return f.shapeintersections(u,u.bbox,t,t.bbox,e)},u},getminmax:function(t,n,e){if(!e)return{min:0,max:0};var r,i,o=d,a=p;-1===e.indexOf(0)&&(e=[0].concat(e)),-1===e.indexOf(1)&&e.push(1);for(var u=0,f=e.length;u<f;u++)r=e[u],(i=t.get(r))[n]<o&&(o=i[n]),i[n]>a&&(a=i[n]);return{min:o,mid:(o+a)/2,max:a,size:a-o}},align:function(t,n){var e=n.p1.x,o=n.p1.y,u=-a(n.p2.y-o,n.p2.x-e);return t.map((function(t){return{x:(t.x-e)*r(u)-(t.y-o)*i(u),y:(t.x-e)*i(u)+(t.y-o)*r(u)}}))},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var e=t.length-1,i=m.align(t,n),a=function(t){return 0<=t&&t<=1};if(2===e){if(0!==(v=(g=i[0].y)-2*(y=i[1].y)+(b=i[2].y))){var f=-u(y*y-g*b),s=-g+y;return[-(f+s)/v,-(-f+s)/v].filter(a)}return y!==b&&0===v?[(2*y-b)/(2*y-2*b)].filter(a):[]}var h=i[0].y,d=i[1].y,p=i[2].y,v=3*d-h-3*p+i[3].y,g=3*h-6*d+3*p,y=-3*h+3*d,b=h;if(m.approximately(v,0)){if(m.approximately(g,0))return m.approximately(y,0)?[]:[-b/y].filter(a);var _=2*g;return[((x=u(y*y-4*g*b))-y)/_,(-y-x)/_].filter(a)}var x,w,M=(i=(3*(y/=v)-(g/=v)*g)/3)/3,A=(x=(2*g*g*g-9*g*y+27*(b/=v))/27)/2,E=A*A+M*M*M;if(E<0){var T=-i/3,S=u(T*T*T),k=-x/(2*S),C=o(k<-1?-1:k>1?1:k),z=2*c(S);return[z*r(C/3)-g/3,z*r((C+l)/3)-g/3,z*r((C+2*l)/3)-g/3].filter(a)}if(0===E)return[2*(w=A<0?c(-A):-c(A))-g/3,-w-g/3].filter(a);var O=u(E);return[(w=c(-A+O))-c(A+O)-g/3].filter(a)},droots:function(t){if(3===t.length){var n=t[0],e=t[1],r=t[2],i=n-2*e+r;if(0!==i){var o=-u(e*e-n*r),a=-n+e;return[-(o+a)/i,-(-o+a)/i]}return e!==r&&0===i?[(2*e-r)/(2*(e-r))]:[]}if(2===t.length)return(n=t[0])!==(e=t[1])?[n/(n-e)]:[]},curvature:function(t,e,r,i){var o,a,c,s,l,h,d=m.derive(e),p=d[0],v=d[1],g=m.compute(t,p),y=m.compute(t,v),b=g.x*g.x+g.y*g.y;if(r?(o=u(f(g.y*y.z-y.y*g.z,2)+f(g.z*y.x-y.z*g.x,2)+f(g.x*y.y-y.x*g.y,2)),a=f(b+g.z*g.z,1.5)):(o=g.x*y.y-g.y*y.x,a=f(b,1.5)),0===o||0===a)return{k:0,r:0};if(l=o/a,h=a/o,!i){var _=m.curvature(t-.001,e,r,!0).k,x=m.curvature(t+.001,e,r,!0).k;s=(x-l+(l-_))/2,c=(n(x-l)+n(l-_))/2}return{k:l,r:h,dk:s,adk:c}},inflections:function(t){if(t.length<4)return[];var n=m.align(t,{p1:t[0],p2:t.slice(-1)[0]}),e=n[2].x*n[1].y,r=n[3].x*n[1].y,i=n[1].x*n[2].y,o=18*(-3*e+2*r+3*i-(l=n[3].x*n[2].y)),a=18*(3*e-r-3*i),u=18*(i-e);if(m.approximately(o,0)){if(!m.approximately(a,0)){var f=-u/a;if(0<=f&&f<=1)return[f]}return[]}var c=a*a-4*o*u,s=Math.sqrt(c),l=2*o;return m.approximately(l,0)?[]:[(s-a)/l,-(a+s)/l].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,e){var r,i,o,a,u,f=["x","y"],c=f.length;for(r=0;r<c;r++)if(o=t[i=f[r]].mid,a=e[i].mid,u=(t[i].size+e[i].size)/2,n(o-a)>=u)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n,e){var r=t.bbox(),i=n.bbox(),o=1e5,a=e||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];var u=t.split(.5),f=n.split(.5),c=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];c=c.filter((function(t){return m.bboxoverlap(t.left.bbox(),t.right.bbox())}));var s=[];return 0===c.length?s:(c.forEach((function(t){s=s.concat(m.pairiteration(t.left,t.right,a))})),s=s.filter((function(t,n){return s.indexOf(t)===n})))},getccenter:function(t,n,e){var o,u=n.x-t.x,f=n.y-t.y,c=e.x-n.x,s=e.y-n.y,d=u*r(h)-f*i(h),p=u*i(h)+f*r(h),v=c*r(h)-s*i(h),g=c*i(h)+s*r(h),y=(t.x+n.x)/2,b=(t.y+n.y)/2,_=(n.x+e.x)/2,x=(n.y+e.y)/2,w=y+d,M=b+p,A=_+v,E=x+g,T=m.lli8(y,b,w,M,_,x,A,E),S=m.dist(T,t),k=a(t.y-T.y,t.x-T.x),C=a(n.y-T.y,n.x-T.x),z=a(e.y-T.y,e.x-T.x);return k<z?((k>C||C>z)&&(k+=l),k>z&&(o=z,z=k,k=o)):z<C&&C<k?(o=z,z=k,k=o):z+=l,T.s=k,T.e=z,T.r=S,T},numberSort:function(t,n){return t-n}};t.exports=m}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_RECTICLE_COLOR=n.DEFAULT_SHOW_RECTICLE=n.DEFAULT_BACKGROUND_IMAGE=n.DEFAULT_VIEW=n.DEFAULT_ROTATION=n.DEFAULT_DISTANCE=n.DEFAULT_TARGET=n.DEFAULT_COLORS=n.DEFAULT_COLOR_BG=n.DEFAULT_COLOR_HOVER=n.DEFAULT_COLOR_ACTIVE=n.DEFAULT_COLOR_NORMAL=n.DEFAULT_COLOR_BY=n.DEFAULT_COLORMAP=n.DEFAULT_POINT_OUTLINE_WIDTH=n.DEFAULT_POINT_SIZE_SELECTED=n.DEFAULT_POINT_SIZE=n.DEFAULT_HEIGHT=n.DEFAULT_WIDTH=n.DEFAULT_DATA_ASPECT_RATIO=n.GL_EXTENSIONS=n.FLOAT_BYTES=n.COLOR_NUM_STATES=n.COLOR_NORMAL_IDX=n.COLOR_HOVER_IDX=n.COLOR_BG_IDX=n.COLOR_ACTIVE_IDX=void 0;n.COLOR_ACTIVE_IDX=1;n.COLOR_BG_IDX=3;n.COLOR_HOVER_IDX=2;n.COLOR_NORMAL_IDX=0;n.COLOR_NUM_STATES=4;const r=Float32Array.BYTES_PER_ELEMENT;n.FLOAT_BYTES=r;n.GL_EXTENSIONS=["ANGLE_instanced_arrays","OES_standard_derivatives"];n.DEFAULT_DATA_ASPECT_RATIO=1;const i=window.innerWidth;n.DEFAULT_WIDTH=i;const o=window.innerHeight;n.DEFAULT_HEIGHT=o;n.DEFAULT_POINT_SIZE=30;n.DEFAULT_POINT_SIZE_SELECTED=2;n.DEFAULT_POINT_OUTLINE_WIDTH=2;n.DEFAULT_COLORMAP=[];n.DEFAULT_COLOR_BY=null;const a=[1,.66,.66,1];n.DEFAULT_COLOR_NORMAL=a;const u=[0,.55,1,1];n.DEFAULT_COLOR_ACTIVE=u;const f=[0,1,1,1];n.DEFAULT_COLOR_HOVER=f;const c=[0,0,0,1];n.DEFAULT_COLOR_BG=c;const s=[a,u,f,c];n.DEFAULT_COLORS=s;n.DEFAULT_TARGET=[0,0];n.DEFAULT_DISTANCE=100000.5;n.DEFAULT_ROTATION=0;n.DEFAULT_VIEW=[.005619607400149107,0,0,0,0,.005619607400149107,0,0,0,0,1,0,-.10438694804906845,-.21595391631126404,0,1];n.DEFAULT_BACKGROUND_IMAGE=null;n.DEFAULT_SHOW_RECTICLE=!0;n.DEFAULT_RECTICLE_COLOR=[1,1,1,.5]},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"EPSILON",(function(){return d})),e.d(r,"ARRAY_TYPE",(function(){return p})),e.d(r,"RANDOM",(function(){return v})),e.d(r,"setMatrixArrayType",(function(){return m})),e.d(r,"toRadian",(function(){return y})),e.d(r,"equals",(function(){return b}));var i={};e.r(i),e.d(i,"create",(function(){return _})),e.d(i,"clone",(function(){return x})),e.d(i,"copy",(function(){return w})),e.d(i,"identity",(function(){return M})),e.d(i,"fromValues",(function(){return A})),e.d(i,"set",(function(){return E})),e.d(i,"transpose",(function(){return T})),e.d(i,"invert",(function(){return S})),e.d(i,"adjoint",(function(){return k})),e.d(i,"determinant",(function(){return C})),e.d(i,"multiply",(function(){return z})),e.d(i,"rotate",(function(){return O})),e.d(i,"scale",(function(){return N})),e.d(i,"fromRotation",(function(){return D})),e.d(i,"fromScaling",(function(){return P})),e.d(i,"str",(function(){return j})),e.d(i,"frob",(function(){return L})),e.d(i,"LDU",(function(){return R})),e.d(i,"add",(function(){return B})),e.d(i,"subtract",(function(){return F})),e.d(i,"exactEquals",(function(){return I})),e.d(i,"equals",(function(){return U})),e.d(i,"multiplyScalar",(function(){return q})),e.d(i,"multiplyScalarAndAdd",(function(){return Y})),e.d(i,"mul",(function(){return W})),e.d(i,"sub",(function(){return H}));var o={};e.r(o),e.d(o,"create",(function(){return G})),e.d(o,"clone",(function(){return V})),e.d(o,"copy",(function(){return X})),e.d(o,"identity",(function(){return $})),e.d(o,"fromValues",(function(){return Q})),e.d(o,"set",(function(){return Z})),e.d(o,"invert",(function(){return K})),e.d(o,"determinant",(function(){return J})),e.d(o,"multiply",(function(){return tt})),e.d(o,"rotate",(function(){return nt})),e.d(o,"scale",(function(){return et})),e.d(o,"translate",(function(){return rt})),e.d(o,"fromRotation",(function(){return it})),e.d(o,"fromScaling",(function(){return ot})),e.d(o,"fromTranslation",(function(){return at})),e.d(o,"str",(function(){return ut})),e.d(o,"frob",(function(){return ft})),e.d(o,"add",(function(){return ct})),e.d(o,"subtract",(function(){return st})),e.d(o,"multiplyScalar",(function(){return lt})),e.d(o,"multiplyScalarAndAdd",(function(){return ht})),e.d(o,"exactEquals",(function(){return dt})),e.d(o,"equals",(function(){return pt})),e.d(o,"mul",(function(){return vt})),e.d(o,"sub",(function(){return mt}));var a={};e.r(a),e.d(a,"create",(function(){return gt})),e.d(a,"fromMat4",(function(){return yt})),e.d(a,"clone",(function(){return bt})),e.d(a,"copy",(function(){return _t})),e.d(a,"fromValues",(function(){return xt})),e.d(a,"set",(function(){return wt})),e.d(a,"identity",(function(){return Mt})),e.d(a,"transpose",(function(){return At})),e.d(a,"invert",(function(){return Et})),e.d(a,"adjoint",(function(){return Tt})),e.d(a,"determinant",(function(){return St})),e.d(a,"multiply",(function(){return kt})),e.d(a,"translate",(function(){return Ct})),e.d(a,"rotate",(function(){return zt})),e.d(a,"scale",(function(){return Ot})),e.d(a,"fromTranslation",(function(){return Nt})),e.d(a,"fromRotation",(function(){return Dt})),e.d(a,"fromScaling",(function(){return Pt})),e.d(a,"fromMat2d",(function(){return jt})),e.d(a,"fromQuat",(function(){return Lt})),e.d(a,"normalFromMat4",(function(){return Rt})),e.d(a,"projection",(function(){return Bt})),e.d(a,"str",(function(){return Ft})),e.d(a,"frob",(function(){return It})),e.d(a,"add",(function(){return Ut})),e.d(a,"subtract",(function(){return qt})),e.d(a,"multiplyScalar",(function(){return Yt})),e.d(a,"multiplyScalarAndAdd",(function(){return Wt})),e.d(a,"exactEquals",(function(){return Ht})),e.d(a,"equals",(function(){return Gt})),e.d(a,"mul",(function(){return Vt})),e.d(a,"sub",(function(){return Xt}));var u={};e.r(u),e.d(u,"create",(function(){return $t})),e.d(u,"clone",(function(){return Qt})),e.d(u,"copy",(function(){return Zt})),e.d(u,"fromValues",(function(){return Kt})),e.d(u,"set",(function(){return Jt})),e.d(u,"identity",(function(){return tn})),e.d(u,"transpose",(function(){return nn})),e.d(u,"invert",(function(){return en})),e.d(u,"adjoint",(function(){return rn})),e.d(u,"determinant",(function(){return on})),e.d(u,"multiply",(function(){return an})),e.d(u,"translate",(function(){return un})),e.d(u,"scale",(function(){return fn})),e.d(u,"rotate",(function(){return cn})),e.d(u,"rotateX",(function(){return sn})),e.d(u,"rotateY",(function(){return ln})),e.d(u,"rotateZ",(function(){return hn})),e.d(u,"fromTranslation",(function(){return dn})),e.d(u,"fromScaling",(function(){return pn})),e.d(u,"fromRotation",(function(){return vn})),e.d(u,"fromXRotation",(function(){return mn})),e.d(u,"fromYRotation",(function(){return gn})),e.d(u,"fromZRotation",(function(){return yn})),e.d(u,"fromRotationTranslation",(function(){return bn})),e.d(u,"fromQuat2",(function(){return _n})),e.d(u,"getTranslation",(function(){return xn})),e.d(u,"getScaling",(function(){return wn})),e.d(u,"getRotation",(function(){return Mn})),e.d(u,"fromRotationTranslationScale",(function(){return An})),e.d(u,"fromRotationTranslationScaleOrigin",(function(){return En})),e.d(u,"fromQuat",(function(){return Tn})),e.d(u,"frustum",(function(){return Sn})),e.d(u,"perspective",(function(){return kn})),e.d(u,"perspectiveFromFieldOfView",(function(){return Cn})),e.d(u,"ortho",(function(){return zn})),e.d(u,"lookAt",(function(){return On})),e.d(u,"targetTo",(function(){return Nn})),e.d(u,"str",(function(){return Dn})),e.d(u,"frob",(function(){return Pn})),e.d(u,"add",(function(){return jn})),e.d(u,"subtract",(function(){return Ln})),e.d(u,"multiplyScalar",(function(){return Rn})),e.d(u,"multiplyScalarAndAdd",(function(){return Bn})),e.d(u,"exactEquals",(function(){return Fn})),e.d(u,"equals",(function(){return In})),e.d(u,"mul",(function(){return Un})),e.d(u,"sub",(function(){return qn}));var f={};e.r(f),e.d(f,"create",(function(){return Yn})),e.d(f,"clone",(function(){return Wn})),e.d(f,"length",(function(){return Hn})),e.d(f,"fromValues",(function(){return Gn})),e.d(f,"copy",(function(){return Vn})),e.d(f,"set",(function(){return Xn})),e.d(f,"add",(function(){return $n})),e.d(f,"subtract",(function(){return Qn})),e.d(f,"multiply",(function(){return Zn})),e.d(f,"divide",(function(){return Kn})),e.d(f,"ceil",(function(){return Jn})),e.d(f,"floor",(function(){return te})),e.d(f,"min",(function(){return ne})),e.d(f,"max",(function(){return ee})),e.d(f,"round",(function(){return re})),e.d(f,"scale",(function(){return ie})),e.d(f,"scaleAndAdd",(function(){return oe})),e.d(f,"distance",(function(){return ae})),e.d(f,"squaredDistance",(function(){return ue})),e.d(f,"squaredLength",(function(){return fe})),e.d(f,"negate",(function(){return ce})),e.d(f,"inverse",(function(){return se})),e.d(f,"normalize",(function(){return le})),e.d(f,"dot",(function(){return he})),e.d(f,"cross",(function(){return de})),e.d(f,"lerp",(function(){return pe})),e.d(f,"hermite",(function(){return ve})),e.d(f,"bezier",(function(){return me})),e.d(f,"random",(function(){return ge})),e.d(f,"transformMat4",(function(){return ye})),e.d(f,"transformMat3",(function(){return be})),e.d(f,"transformQuat",(function(){return _e})),e.d(f,"rotateX",(function(){return xe})),e.d(f,"rotateY",(function(){return we})),e.d(f,"rotateZ",(function(){return Me})),e.d(f,"angle",(function(){return Ae})),e.d(f,"zero",(function(){return Ee})),e.d(f,"str",(function(){return Te})),e.d(f,"exactEquals",(function(){return Se})),e.d(f,"equals",(function(){return ke})),e.d(f,"sub",(function(){return ze})),e.d(f,"mul",(function(){return Oe})),e.d(f,"div",(function(){return Ne})),e.d(f,"dist",(function(){return De})),e.d(f,"sqrDist",(function(){return Pe})),e.d(f,"len",(function(){return je})),e.d(f,"sqrLen",(function(){return Le})),e.d(f,"forEach",(function(){return Re}));var c={};e.r(c),e.d(c,"create",(function(){return Be})),e.d(c,"clone",(function(){return Fe})),e.d(c,"fromValues",(function(){return Ie})),e.d(c,"copy",(function(){return Ue})),e.d(c,"set",(function(){return qe})),e.d(c,"add",(function(){return Ye})),e.d(c,"subtract",(function(){return We})),e.d(c,"multiply",(function(){return He})),e.d(c,"divide",(function(){return Ge})),e.d(c,"ceil",(function(){return Ve})),e.d(c,"floor",(function(){return Xe})),e.d(c,"min",(function(){return $e})),e.d(c,"max",(function(){return Qe})),e.d(c,"round",(function(){return Ze})),e.d(c,"scale",(function(){return Ke})),e.d(c,"scaleAndAdd",(function(){return Je})),e.d(c,"distance",(function(){return tr})),e.d(c,"squaredDistance",(function(){return nr})),e.d(c,"length",(function(){return er})),e.d(c,"squaredLength",(function(){return rr})),e.d(c,"negate",(function(){return ir})),e.d(c,"inverse",(function(){return or})),e.d(c,"normalize",(function(){return ar})),e.d(c,"dot",(function(){return ur})),e.d(c,"cross",(function(){return fr})),e.d(c,"lerp",(function(){return cr})),e.d(c,"random",(function(){return sr})),e.d(c,"transformMat4",(function(){return lr})),e.d(c,"transformQuat",(function(){return hr})),e.d(c,"zero",(function(){return dr})),e.d(c,"str",(function(){return pr})),e.d(c,"exactEquals",(function(){return vr})),e.d(c,"equals",(function(){return mr})),e.d(c,"sub",(function(){return gr})),e.d(c,"mul",(function(){return yr})),e.d(c,"div",(function(){return br})),e.d(c,"dist",(function(){return _r})),e.d(c,"sqrDist",(function(){return xr})),e.d(c,"len",(function(){return wr})),e.d(c,"sqrLen",(function(){return Mr})),e.d(c,"forEach",(function(){return Ar}));var s={};e.r(s),e.d(s,"create",(function(){return Er})),e.d(s,"identity",(function(){return Tr})),e.d(s,"setAxisAngle",(function(){return Sr})),e.d(s,"getAxisAngle",(function(){return kr})),e.d(s,"getAngle",(function(){return Cr})),e.d(s,"multiply",(function(){return zr})),e.d(s,"rotateX",(function(){return Or})),e.d(s,"rotateY",(function(){return Nr})),e.d(s,"rotateZ",(function(){return Dr})),e.d(s,"calculateW",(function(){return Pr})),e.d(s,"exp",(function(){return jr})),e.d(s,"ln",(function(){return Lr})),e.d(s,"pow",(function(){return Rr})),e.d(s,"slerp",(function(){return Br})),e.d(s,"random",(function(){return Fr})),e.d(s,"invert",(function(){return Ir})),e.d(s,"conjugate",(function(){return Ur})),e.d(s,"fromMat3",(function(){return qr})),e.d(s,"fromEuler",(function(){return Yr})),e.d(s,"str",(function(){return Wr})),e.d(s,"clone",(function(){return Zr})),e.d(s,"fromValues",(function(){return Kr})),e.d(s,"copy",(function(){return Jr})),e.d(s,"set",(function(){return ti})),e.d(s,"add",(function(){return ni})),e.d(s,"mul",(function(){return ei})),e.d(s,"scale",(function(){return ri})),e.d(s,"dot",(function(){return ii})),e.d(s,"lerp",(function(){return oi})),e.d(s,"length",(function(){return ai})),e.d(s,"len",(function(){return ui})),e.d(s,"squaredLength",(function(){return fi})),e.d(s,"sqrLen",(function(){return ci})),e.d(s,"normalize",(function(){return si})),e.d(s,"exactEquals",(function(){return li})),e.d(s,"equals",(function(){return hi})),e.d(s,"rotationTo",(function(){return di})),e.d(s,"sqlerp",(function(){return pi})),e.d(s,"setAxes",(function(){return vi}));var l={};e.r(l),e.d(l,"create",(function(){return mi})),e.d(l,"clone",(function(){return gi})),e.d(l,"fromValues",(function(){return yi})),e.d(l,"fromRotationTranslationValues",(function(){return bi})),e.d(l,"fromRotationTranslation",(function(){return _i})),e.d(l,"fromTranslation",(function(){return xi})),e.d(l,"fromRotation",(function(){return wi})),e.d(l,"fromMat4",(function(){return Mi})),e.d(l,"copy",(function(){return Ai})),e.d(l,"identity",(function(){return Ei})),e.d(l,"set",(function(){return Ti})),e.d(l,"getReal",(function(){return Si})),e.d(l,"getDual",(function(){return ki})),e.d(l,"setReal",(function(){return Ci})),e.d(l,"setDual",(function(){return zi})),e.d(l,"getTranslation",(function(){return Oi})),e.d(l,"translate",(function(){return Ni})),e.d(l,"rotateX",(function(){return Di})),e.d(l,"rotateY",(function(){return Pi})),e.d(l,"rotateZ",(function(){return ji})),e.d(l,"rotateByQuatAppend",(function(){return Li})),e.d(l,"rotateByQuatPrepend",(function(){return Ri})),e.d(l,"rotateAroundAxis",(function(){return Bi})),e.d(l,"add",(function(){return Fi})),e.d(l,"multiply",(function(){return Ii})),e.d(l,"mul",(function(){return Ui})),e.d(l,"scale",(function(){return qi})),e.d(l,"dot",(function(){return Yi})),e.d(l,"lerp",(function(){return Wi})),e.d(l,"invert",(function(){return Hi})),e.d(l,"conjugate",(function(){return Gi})),e.d(l,"length",(function(){return Vi})),e.d(l,"len",(function(){return Xi})),e.d(l,"squaredLength",(function(){return $i})),e.d(l,"sqrLen",(function(){return Qi})),e.d(l,"normalize",(function(){return Zi})),e.d(l,"str",(function(){return Ki})),e.d(l,"exactEquals",(function(){return Ji})),e.d(l,"equals",(function(){return to}));var h={};e.r(h),e.d(h,"create",(function(){return no})),e.d(h,"clone",(function(){return eo})),e.d(h,"fromValues",(function(){return ro})),e.d(h,"copy",(function(){return io})),e.d(h,"set",(function(){return oo})),e.d(h,"add",(function(){return ao})),e.d(h,"subtract",(function(){return uo})),e.d(h,"multiply",(function(){return fo})),e.d(h,"divide",(function(){return co})),e.d(h,"ceil",(function(){return so})),e.d(h,"floor",(function(){return lo})),e.d(h,"min",(function(){return ho})),e.d(h,"max",(function(){return po})),e.d(h,"round",(function(){return vo})),e.d(h,"scale",(function(){return mo})),e.d(h,"scaleAndAdd",(function(){return go})),e.d(h,"distance",(function(){return yo})),e.d(h,"squaredDistance",(function(){return bo})),e.d(h,"length",(function(){return _o})),e.d(h,"squaredLength",(function(){return xo})),e.d(h,"negate",(function(){return wo})),e.d(h,"inverse",(function(){return Mo})),e.d(h,"normalize",(function(){return Ao})),e.d(h,"dot",(function(){return Eo})),e.d(h,"cross",(function(){return To})),e.d(h,"lerp",(function(){return So})),e.d(h,"random",(function(){return ko})),e.d(h,"transformMat2",(function(){return Co})),e.d(h,"transformMat2d",(function(){return zo})),e.d(h,"transformMat3",(function(){return Oo})),e.d(h,"transformMat4",(function(){return No})),e.d(h,"rotate",(function(){return Do})),e.d(h,"angle",(function(){return Po})),e.d(h,"zero",(function(){return jo})),e.d(h,"str",(function(){return Lo})),e.d(h,"exactEquals",(function(){return Ro})),e.d(h,"equals",(function(){return Bo})),e.d(h,"len",(function(){return Fo})),e.d(h,"sub",(function(){return Io})),e.d(h,"mul",(function(){return Uo})),e.d(h,"div",(function(){return qo})),e.d(h,"dist",(function(){return Yo})),e.d(h,"sqrDist",(function(){return Wo})),e.d(h,"sqrLen",(function(){return Ho})),e.d(h,"forEach",(function(){return Go}));var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;function m(t){p=t}var g=Math.PI/180;function y(t){return t*g}function b(t,n){return Math.abs(t-n)<=d*Math.max(1,Math.abs(t),Math.abs(n))}function _(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function x(t){var n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function w(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function M(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function A(t,n,e,r){var i=new p(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function E(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function T(t,n){if(t===n){var e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function S(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=e*a,t):null}function k(t,n){var e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t}function C(t){return t[0]*t[3]-t[2]*t[1]}function z(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],f=e[1],c=e[2],s=e[3];return t[0]=r*u+o*f,t[1]=i*u+a*f,t[2]=r*c+o*s,t[3]=i*c+a*s,t}function O(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),f=Math.cos(e);return t[0]=r*f+o*u,t[1]=i*f+a*u,t[2]=r*-u+o*f,t[3]=i*-u+a*f,t}function N(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],f=e[1];return t[0]=r*u,t[1]=i*u,t[2]=o*f,t[3]=a*f,t}function D(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t}function P(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function j(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t){return Math.hypot(t[0],t[1],t[2],t[3])}function R(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]}function B(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function F(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function I(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function U(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],f=n[2],c=n[3];return Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}function q(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function Y(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var W=z,H=F;function G(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function V(t){var n=new p(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function X(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function $(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,n,e,r,i,o){var a=new p(6);return a[0]=t,a[1]=n,a[2]=e,a[3]=r,a[4]=i,a[5]=o,a}function Z(t,n,e,r,i,o,a){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function K(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=e*o-r*i;return f?(f=1/f,t[0]=o*f,t[1]=-r*f,t[2]=-i*f,t[3]=e*f,t[4]=(i*u-o*a)*f,t[5]=(r*a-e*u)*f,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=e[0],s=e[1],l=e[2],h=e[3],d=e[4],p=e[5];return t[0]=r*c+o*s,t[1]=i*c+a*s,t[2]=r*l+o*h,t[3]=i*l+a*h,t[4]=r*d+o*p+u,t[5]=i*d+a*p+f,t}function nt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=Math.sin(e),s=Math.cos(e);return t[0]=r*s+o*c,t[1]=i*s+a*c,t[2]=r*-c+o*s,t[3]=i*-c+a*s,t[4]=u,t[5]=f,t}function et(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=e[0],s=e[1];return t[0]=r*c,t[1]=i*c,t[2]=o*s,t[3]=a*s,t[4]=u,t[5]=f,t}function rt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=e[0],s=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*s+u,t[5]=i*c+a*s+f,t}function it(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t}function ot(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function at(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ft(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t}function st(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t}function lt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t}function ht(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t}function dt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function pt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=n[0],c=n[1],s=n[2],l=n[3],h=n[4],p=n[5];return Math.abs(e-f)<=d*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=d*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-h)<=d*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(u-p)<=d*Math.max(1,Math.abs(u),Math.abs(p))}var vt=tt,mt=st;function gt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function yt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function bt(t){var n=new p(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function _t(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function xt(t,n,e,r,i,o,a,u,f){var c=new p(9);return c[0]=t,c[1]=n,c[2]=e,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=u,c[8]=f,c}function wt(t,n,e,r,i,o,a,u,f,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t[8]=c,t}function Mt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function At(t,n){if(t===n){var e=n[1],r=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function Et(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=s*a-u*c,h=-s*o+u*f,d=c*o-a*f,p=e*l+r*h+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-s*r+i*c)*p,t[2]=(u*r-i*a)*p,t[3]=h*p,t[4]=(s*e-i*f)*p,t[5]=(-u*e+i*o)*p,t[6]=d*p,t[7]=(-c*e+r*f)*p,t[8]=(a*e-r*o)*p,t):null}function Tt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8];return t[0]=a*s-u*c,t[1]=i*c-r*s,t[2]=r*u-i*a,t[3]=u*f-o*s,t[4]=e*s-i*f,t[5]=i*o-e*u,t[6]=o*c-a*f,t[7]=r*f-e*c,t[8]=e*a-r*o,t}function St(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],f=t[7],c=t[8];return n*(c*o-a*f)+e*(-c*i+a*u)+r*(f*i-o*u)}function kt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=e[0],d=e[1],p=e[2],v=e[3],m=e[4],g=e[5],y=e[6],b=e[7],_=e[8];return t[0]=h*r+d*a+p*c,t[1]=h*i+d*u+p*s,t[2]=h*o+d*f+p*l,t[3]=v*r+m*a+g*c,t[4]=v*i+m*u+g*s,t[5]=v*o+m*f+g*l,t[6]=y*r+b*a+_*c,t[7]=y*i+b*u+_*s,t[8]=y*o+b*f+_*l,t}function Ct(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=e[0],d=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=f,t[6]=h*r+d*a+c,t[7]=h*i+d*u+s,t[8]=h*o+d*f+l,t}function zt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=Math.sin(e),d=Math.cos(e);return t[0]=d*r+h*a,t[1]=d*i+h*u,t[2]=d*o+h*f,t[3]=d*a-h*r,t[4]=d*u-h*i,t[5]=d*f-h*o,t[6]=c,t[7]=s,t[8]=l,t}function Ot(t,n,e){var r=e[0],i=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function Nt(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function Dt(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Pt(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function jt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function Lt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,f=i+i,c=e*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*f,v=o*a,m=o*u,g=o*f;return t[0]=1-l-p,t[3]=s-g,t[6]=h+m,t[1]=s+g,t[4]=1-c-p,t[7]=d-v,t[2]=h-m,t[5]=d+v,t[8]=1-c-l,t}function Rt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15],y=e*u-r*a,b=e*f-i*a,_=e*c-o*a,x=r*f-i*u,w=r*c-o*u,M=i*c-o*f,A=s*v-l*p,E=s*m-h*p,T=s*g-d*p,S=l*m-h*v,k=l*g-d*v,C=h*g-d*m,z=y*C-b*k+_*S+x*T-w*E+M*A;return z?(z=1/z,t[0]=(u*C-f*k+c*S)*z,t[1]=(f*T-a*C-c*E)*z,t[2]=(a*k-u*T+c*A)*z,t[3]=(i*k-r*C-o*S)*z,t[4]=(e*C-i*T+o*E)*z,t[5]=(r*T-e*k-o*A)*z,t[6]=(v*M-m*w+g*x)*z,t[7]=(m*_-p*M-g*b)*z,t[8]=(p*w-v*_+g*y)*z,t):null}function Bt(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ft(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function It(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ut(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t}function qt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function Yt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t}function Wt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t}function Ht(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Gt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],c=t[7],s=t[8],l=n[0],h=n[1],p=n[2],v=n[3],m=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return Math.abs(e-l)<=d*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(u-g)<=d*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(f-y)<=d*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(c-b)<=d*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(s-_)<=d*Math.max(1,Math.abs(s),Math.abs(_))}var Vt=kt,Xt=qt;function $t(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var n=new p(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Zt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Kt(t,n,e,r,i,o,a,u,f,c,s,l,h,d,v,m){var g=new p(16);return g[0]=t,g[1]=n,g[2]=e,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=u,g[8]=f,g[9]=c,g[10]=s,g[11]=l,g[12]=h,g[13]=d,g[14]=v,g[15]=m,g}function Jt(t,n,e,r,i,o,a,u,f,c,s,l,h,d,p,v,m){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t[8]=c,t[9]=s,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function en(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15],y=e*u-r*a,b=e*f-i*a,_=e*c-o*a,x=r*f-i*u,w=r*c-o*u,M=i*c-o*f,A=s*v-l*p,E=s*m-h*p,T=s*g-d*p,S=l*m-h*v,k=l*g-d*v,C=h*g-d*m,z=y*C-b*k+_*S+x*T-w*E+M*A;return z?(z=1/z,t[0]=(u*C-f*k+c*S)*z,t[1]=(i*k-r*C-o*S)*z,t[2]=(v*M-m*w+g*x)*z,t[3]=(h*w-l*M-d*x)*z,t[4]=(f*T-a*C-c*E)*z,t[5]=(e*C-i*T+o*E)*z,t[6]=(m*_-p*M-g*b)*z,t[7]=(s*M-h*_+d*b)*z,t[8]=(a*k-u*T+c*A)*z,t[9]=(r*T-e*k-o*A)*z,t[10]=(p*w-v*_+g*y)*z,t[11]=(l*_-s*w-d*y)*z,t[12]=(u*E-a*S-f*A)*z,t[13]=(e*S-r*E+i*A)*z,t[14]=(v*b-p*x-m*y)*z,t[15]=(s*x-l*b+h*y)*z,t):null}function rn(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],f=n[6],c=n[7],s=n[8],l=n[9],h=n[10],d=n[11],p=n[12],v=n[13],m=n[14],g=n[15];return t[0]=u*(h*g-d*m)-l*(f*g-c*m)+v*(f*d-c*h),t[1]=-(r*(h*g-d*m)-l*(i*g-o*m)+v*(i*d-o*h)),t[2]=r*(f*g-c*m)-u*(i*g-o*m)+v*(i*c-o*f),t[3]=-(r*(f*d-c*h)-u*(i*d-o*h)+l*(i*c-o*f)),t[4]=-(a*(h*g-d*m)-s*(f*g-c*m)+p*(f*d-c*h)),t[5]=e*(h*g-d*m)-s*(i*g-o*m)+p*(i*d-o*h),t[6]=-(e*(f*g-c*m)-a*(i*g-o*m)+p*(i*c-o*f)),t[7]=e*(f*d-c*h)-a*(i*d-o*h)+s*(i*c-o*f),t[8]=a*(l*g-d*v)-s*(u*g-c*v)+p*(u*d-c*l),t[9]=-(e*(l*g-d*v)-s*(r*g-o*v)+p*(r*d-o*l)),t[10]=e*(u*g-c*v)-a*(r*g-o*v)+p*(r*c-o*u),t[11]=-(e*(u*d-c*l)-a*(r*d-o*l)+s*(r*c-o*u)),t[12]=-(a*(l*m-h*v)-s*(u*m-f*v)+p*(u*h-f*l)),t[13]=e*(l*m-h*v)-s*(r*m-i*v)+p*(r*h-i*l),t[14]=-(e*(u*m-f*v)-a*(r*m-i*v)+p*(r*f-i*u)),t[15]=e*(u*h-f*l)-a*(r*h-i*l)+s*(r*f-i*u),t}function on(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],f=t[7],c=t[8],s=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15];return(n*a-e*o)*(l*m-h*v)-(n*u-r*o)*(s*m-h*p)+(n*f-i*o)*(s*v-l*p)+(e*u-r*a)*(c*m-h*d)-(e*f-i*a)*(c*v-l*d)+(r*f-i*u)*(c*p-s*d)}function an(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15],b=e[0],_=e[1],x=e[2],w=e[3];return t[0]=b*r+_*u+x*l+w*v,t[1]=b*i+_*f+x*h+w*m,t[2]=b*o+_*c+x*d+w*g,t[3]=b*a+_*s+x*p+w*y,b=e[4],_=e[5],x=e[6],w=e[7],t[4]=b*r+_*u+x*l+w*v,t[5]=b*i+_*f+x*h+w*m,t[6]=b*o+_*c+x*d+w*g,t[7]=b*a+_*s+x*p+w*y,b=e[8],_=e[9],x=e[10],w=e[11],t[8]=b*r+_*u+x*l+w*v,t[9]=b*i+_*f+x*h+w*m,t[10]=b*o+_*c+x*d+w*g,t[11]=b*a+_*s+x*p+w*y,b=e[12],_=e[13],x=e[14],w=e[15],t[12]=b*r+_*u+x*l+w*v,t[13]=b*i+_*f+x*h+w*m,t[14]=b*o+_*c+x*d+w*g,t[15]=b*a+_*s+x*p+w*y,t}function un(t,n,e){var r,i,o,a,u,f,c,s,l,h,d,p,v=e[0],m=e[1],g=e[2];return n===t?(t[12]=n[0]*v+n[4]*m+n[8]*g+n[12],t[13]=n[1]*v+n[5]*m+n[9]*g+n[13],t[14]=n[2]*v+n[6]*m+n[10]*g+n[14],t[15]=n[3]*v+n[7]*m+n[11]*g+n[15]):(r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=n[8],h=n[9],d=n[10],p=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=f,t[6]=c,t[7]=s,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*m+l*g+n[12],t[13]=i*v+f*m+h*g+n[13],t[14]=o*v+c*m+d*g+n[14],t[15]=a*v+s*m+p*g+n[15]),t}function fn(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function cn(t,n,e,r){var i,o,a,u,f,c,s,l,h,p,v,m,g,y,b,_,x,w,M,A,E,T,S,k,C=r[0],z=r[1],O=r[2],N=Math.hypot(C,z,O);return N<d?null:(C*=N=1/N,z*=N,O*=N,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],f=n[1],c=n[2],s=n[3],l=n[4],h=n[5],p=n[6],v=n[7],m=n[8],g=n[9],y=n[10],b=n[11],_=C*C*a+o,x=z*C*a+O*i,w=O*C*a-z*i,M=C*z*a-O*i,A=z*z*a+o,E=O*z*a+C*i,T=C*O*a+z*i,S=z*O*a-C*i,k=O*O*a+o,t[0]=u*_+l*x+m*w,t[1]=f*_+h*x+g*w,t[2]=c*_+p*x+y*w,t[3]=s*_+v*x+b*w,t[4]=u*M+l*A+m*E,t[5]=f*M+h*A+g*E,t[6]=c*M+p*A+y*E,t[7]=s*M+v*A+b*E,t[8]=u*T+l*S+m*k,t[9]=f*T+h*S+g*k,t[10]=c*T+p*S+y*k,t[11]=s*T+v*S+b*k,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function sn(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],f=n[7],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+s*r,t[6]=u*i+l*r,t[7]=f*i+h*r,t[8]=c*i-o*r,t[9]=s*i-a*r,t[10]=l*i-u*r,t[11]=h*i-f*r,t}function ln(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[8],s=n[9],l=n[10],h=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-s*r,t[2]=u*i-l*r,t[3]=f*i-h*r,t[8]=o*r+c*i,t[9]=a*r+s*i,t[10]=u*r+l*i,t[11]=f*r+h*i,t}function hn(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],f=n[3],c=n[4],s=n[5],l=n[6],h=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+s*r,t[2]=u*i+l*r,t[3]=f*i+h*r,t[4]=c*i-o*r,t[5]=s*i-a*r,t[6]=l*i-u*r,t[7]=h*i-f*r,t}function dn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function pn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vn(t,n,e){var r,i,o,a=e[0],u=e[1],f=e[2],c=Math.hypot(a,u,f);return c<d?null:(a*=c=1/c,u*=c,f*=c,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+f*r,t[2]=f*a*o-u*r,t[3]=0,t[4]=a*u*o-f*r,t[5]=u*u*o+i,t[6]=f*u*o+a*r,t[7]=0,t[8]=a*f*o+u*r,t[9]=u*f*o-a*r,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function mn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bn(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,f=i+i,c=o+o,s=r*u,l=r*f,h=r*c,d=i*f,p=i*c,v=o*c,m=a*u,g=a*f,y=a*c;return t[0]=1-(d+v),t[1]=l+y,t[2]=h-g,t[3]=0,t[4]=l-y,t[5]=1-(s+v),t[6]=p+m,t[7]=0,t[8]=h+g,t[9]=p-m,t[10]=1-(s+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _n(t,n){var e=new p(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=r*r+i*i+o*o+a*a;return l>0?(e[0]=2*(u*a+s*r+f*o-c*i)/l,e[1]=2*(f*a+s*i+c*r-u*o)/l,e[2]=2*(c*a+s*o+u*i-f*r)/l):(e[0]=2*(u*a+s*r+f*o-c*i),e[1]=2*(f*a+s*i+c*r-u*o),e[2]=2*(c*a+s*o+u*i-f*r)),bn(t,n,e),t}function xn(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function wn(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],f=n[8],c=n[9],s=n[10];return t[0]=Math.hypot(e,r,i),t[1]=Math.hypot(o,a,u),t[2]=Math.hypot(f,c,s),t}function Mn(t,n){var e=new p(3);wn(e,n);var r=1/e[0],i=1/e[1],o=1/e[2],a=n[0]*r,u=n[1]*i,f=n[2]*o,c=n[4]*r,s=n[5]*i,l=n[6]*o,h=n[8]*r,d=n[9]*i,v=n[10]*o,m=a+s+v,g=0;return m>0?(g=2*Math.sqrt(m+1),t[3]=.25*g,t[0]=(l-d)/g,t[1]=(h-f)/g,t[2]=(u-c)/g):a>s&&a>v?(g=2*Math.sqrt(1+a-s-v),t[3]=(l-d)/g,t[0]=.25*g,t[1]=(u+c)/g,t[2]=(h+f)/g):s>v?(g=2*Math.sqrt(1+s-a-v),t[3]=(h-f)/g,t[0]=(u+c)/g,t[1]=.25*g,t[2]=(l+d)/g):(g=2*Math.sqrt(1+v-a-s),t[3]=(u-c)/g,t[0]=(h+f)/g,t[1]=(l+d)/g,t[2]=.25*g),t}function An(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],f=i+i,c=o+o,s=a+a,l=i*f,h=i*c,d=i*s,p=o*c,v=o*s,m=a*s,g=u*f,y=u*c,b=u*s,_=r[0],x=r[1],w=r[2];return t[0]=(1-(p+m))*_,t[1]=(h+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(l+m))*x,t[6]=(v+g)*x,t[7]=0,t[8]=(d+y)*w,t[9]=(v-g)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function En(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],f=n[3],c=o+o,s=a+a,l=u+u,h=o*c,d=o*s,p=o*l,v=a*s,m=a*l,g=u*l,y=f*c,b=f*s,_=f*l,x=r[0],w=r[1],M=r[2],A=i[0],E=i[1],T=i[2],S=(1-(v+g))*x,k=(d+_)*x,C=(p-b)*x,z=(d-_)*w,O=(1-(h+g))*w,N=(m+y)*w,D=(p+b)*M,P=(m-y)*M,j=(1-(h+v))*M;return t[0]=S,t[1]=k,t[2]=C,t[3]=0,t[4]=z,t[5]=O,t[6]=N,t[7]=0,t[8]=D,t[9]=P,t[10]=j,t[11]=0,t[12]=e[0]+A-(S*A+z*E+D*T),t[13]=e[1]+E-(k*A+O*E+P*T),t[14]=e[2]+T-(C*A+N*E+j*T),t[15]=1,t}function Tn(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,f=i+i,c=e*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*f,v=o*a,m=o*u,g=o*f;return t[0]=1-l-p,t[1]=s+g,t[2]=h-m,t[3]=0,t[4]=s-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Sn(t,n,e,r,i,o,a){var u=1/(e-n),f=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*f,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*f,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function kn(t,n,e,r,i){var o,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function Cn(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),f=2/(a+u),c=2/(i+o);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*f*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function zn(t,n,e,r,i,o,a){var u=1/(n-e),f=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*f,t[14]=(a+o)*c,t[15]=1,t}function On(t,n,e,r){var i,o,a,u,f,c,s,l,h,p,v=n[0],m=n[1],g=n[2],y=r[0],b=r[1],_=r[2],x=e[0],w=e[1],M=e[2];return Math.abs(v-x)<d&&Math.abs(m-w)<d&&Math.abs(g-M)<d?tn(t):(s=v-x,l=m-w,h=g-M,i=b*(h*=p=1/Math.hypot(s,l,h))-_*(l*=p),o=_*(s*=p)-y*h,a=y*l-b*s,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=l*a-h*o,f=h*i-s*a,c=s*o-l*i,(p=Math.hypot(u,f,c))?(u*=p=1/p,f*=p,c*=p):(u=0,f=0,c=0),t[0]=i,t[1]=u,t[2]=s,t[3]=0,t[4]=o,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*v+o*m+a*g),t[13]=-(u*v+f*m+c*g),t[14]=-(s*v+l*m+h*g),t[15]=1,t)}function Nn(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],f=r[1],c=r[2],s=i-e[0],l=o-e[1],h=a-e[2],d=s*s+l*l+h*h;d>0&&(s*=d=1/Math.sqrt(d),l*=d,h*=d);var p=f*h-c*l,v=c*s-u*h,m=u*l-f*s;return(d=p*p+v*v+m*m)>0&&(p*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*p-s*m,t[6]=s*v-l*p,t[7]=0,t[8]=s,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Dn(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Pn(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function jn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Ln(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function Rn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function Bn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function Fn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function In(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],c=t[7],s=t[8],l=t[9],h=t[10],p=t[11],v=t[12],m=t[13],g=t[14],y=t[15],b=n[0],_=n[1],x=n[2],w=n[3],M=n[4],A=n[5],E=n[6],T=n[7],S=n[8],k=n[9],C=n[10],z=n[11],O=n[12],N=n[13],D=n[14],P=n[15];return Math.abs(e-b)<=d*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(r-_)<=d*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-x)<=d*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-w)<=d*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-M)<=d*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(u-A)<=d*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(f-E)<=d*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(c-T)<=d*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(s-S)<=d*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-k)<=d*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(h-C)<=d*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-z)<=d*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(v-O)<=d*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(m-N)<=d*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-D)<=d*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-P)<=d*Math.max(1,Math.abs(y),Math.abs(P))}var Un=an,qn=Ln;function Yn(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Wn(t){var n=new p(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function Hn(t){var n=t[0],e=t[1],r=t[2];return Math.hypot(n,e,r)}function Gn(t,n,e){var r=new p(3);return r[0]=t,r[1]=n,r[2]=e,r}function Vn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Xn(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function $n(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function Qn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function Zn(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function Kn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function Jn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function te(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function ne(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function ee(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function re(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function ie(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function oe(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function ae(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.hypot(e,r,i)}function ue(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function fe(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function ce(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function se(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function le(t,n){var e=n[0],r=n[1],i=n[2],o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t}function he(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function de(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],f=e[2];return t[0]=i*f-o*u,t[1]=o*a-r*f,t[2]=r*u-i*a,t}function pe(t,n,e,r){var i=n[0],o=n[1],a=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t}function ve(t,n,e,r,i,o){var a=o*o,u=a*(2*o-3)+1,f=a*(o-2)+o,c=a*(o-1),s=a*(3-2*o);return t[0]=n[0]*u+e[0]*f+r[0]*c+i[0]*s,t[1]=n[1]*u+e[1]*f+r[1]*c+i[1]*s,t[2]=n[2]*u+e[2]*f+r[2]*c+i[2]*s,t}function me(t,n,e,r,i,o){var a=1-o,u=a*a,f=o*o,c=u*a,s=3*o*u,l=3*f*a,h=f*o;return t[0]=n[0]*c+e[0]*s+r[0]*l+i[0]*h,t[1]=n[1]*c+e[1]*s+r[1]*l+i[1]*h,t[2]=n[2]*c+e[2]*s+r[2]*l+i[2]*h,t}function ge(t,n){n=n||1;var e=2*v()*Math.PI,r=2*v()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t}function ye(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[3]*r+e[7]*i+e[11]*o+e[15];return a=a||1,t[0]=(e[0]*r+e[4]*i+e[8]*o+e[12])/a,t[1]=(e[1]*r+e[5]*i+e[9]*o+e[13])/a,t[2]=(e[2]*r+e[6]*i+e[10]*o+e[14])/a,t}function be(t,n,e){var r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t}function _e(t,n,e){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],f=n[1],c=n[2],s=i*c-o*f,l=o*u-r*c,h=r*f-i*u,d=i*h-o*l,p=o*s-r*h,v=r*l-i*s,m=2*a;return s*=m,l*=m,h*=m,d*=2,p*=2,v*=2,t[0]=u+s+d,t[1]=f+l+p,t[2]=c+h+v,t}function xe(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function we(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function Me(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function Ae(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],u=n[2],f=Math.sqrt(e*e+r*r+i*i)*Math.sqrt(o*o+a*a+u*u),c=f&&he(t,n)/f;return Math.acos(Math.min(Math.max(c,-1),1))}function Ee(t){return t[0]=0,t[1]=0,t[2]=0,t}function Te(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Se(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function ke(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],u=n[2];return Math.abs(e-o)<=d*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))}var Ce,ze=Qn,Oe=Zn,Ne=Kn,De=ae,Pe=ue,je=Hn,Le=fe,Re=(Ce=Yn(),function(t,n,e,r,i,o){var a,u;for(n||(n=3),e||(e=0),u=r?Math.min(r*n+e,t.length):t.length,a=e;a<u;a+=n)Ce[0]=t[a],Ce[1]=t[a+1],Ce[2]=t[a+2],i(Ce,Ce,o),t[a]=Ce[0],t[a+1]=Ce[1],t[a+2]=Ce[2];return t});function Be(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Fe(t){var n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Ie(t,n,e,r){var i=new p(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function Ue(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function qe(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function Ye(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function We(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function He(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function Ge(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function Ve(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Xe(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function $e(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function Qe(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function Ze(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function Ke(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function Je(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function tr(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.hypot(e,r,i,o)}function nr(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function er(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.hypot(n,e,r,i)}function rr(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function ir(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function or(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function ar(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function ur(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function fr(t,n,e,r){var i=e[0]*r[1]-e[1]*r[0],o=e[0]*r[2]-e[2]*r[0],a=e[0]*r[3]-e[3]*r[0],u=e[1]*r[2]-e[2]*r[1],f=e[1]*r[3]-e[3]*r[1],c=e[2]*r[3]-e[3]*r[2],s=n[0],l=n[1],h=n[2],d=n[3];return t[0]=l*c-h*f+d*u,t[1]=-s*c+h*a-d*o,t[2]=s*f-l*a+d*i,t[3]=-s*u+l*o-h*i,t}function cr(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=u+r*(e[3]-u),t}function sr(t,n){var e,r,i,o,a,u;n=n||1;do{a=(e=2*v()-1)*e+(r=2*v()-1)*r}while(a>=1);do{u=(i=2*v()-1)*i+(o=2*v()-1)*o}while(u>=1);var f=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*r,t[2]=n*i*f,t[3]=n*o*f,t}function lr(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function hr(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],f=e[2],c=e[3],s=c*r+u*o-f*i,l=c*i+f*r-a*o,h=c*o+a*i-u*r,d=-a*r-u*i-f*o;return t[0]=s*c+d*-a+l*-f-h*-u,t[1]=l*c+d*-u+h*-a-s*-f,t[2]=h*c+d*-f+s*-u-l*-a,t[3]=n[3],t}function dr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function mr(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],f=n[2],c=n[3];return Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}var gr=We,yr=He,br=Ge,_r=tr,xr=nr,wr=er,Mr=rr,Ar=function(){var t=Be();return function(n,e,r,i,o,a){var u,f;for(e||(e=4),r||(r=0),f=i?Math.min(i*e+r,n.length):n.length,u=r;u<f;u+=e)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}();function Er(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Tr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Sr(t,n,e){e*=.5;var r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function kr(t,n){var e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>d?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function Cr(t,n){var e=ii(t,n);return Math.acos(2*e*e-1)}function zr(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],f=e[1],c=e[2],s=e[3];return t[0]=r*s+a*u+i*c-o*f,t[1]=i*s+a*f+o*u-r*c,t[2]=o*s+a*c+r*f-i*u,t[3]=a*s-r*u-i*f-o*c,t}function Or(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),f=Math.cos(e);return t[0]=r*f+a*u,t[1]=i*f+o*u,t[2]=o*f-i*u,t[3]=a*f-r*u,t}function Nr(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),f=Math.cos(e);return t[0]=r*f-o*u,t[1]=i*f+a*u,t[2]=o*f+r*u,t[3]=a*f-i*u,t}function Dr(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),f=Math.cos(e);return t[0]=r*f+i*u,t[1]=i*f-r*u,t[2]=o*f+a*u,t[3]=a*f-o*u,t}function Pr(t,n){var e=n[0],r=n[1],i=n[2];return t[0]=e,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-i*i)),t}function jr(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=Math.sqrt(e*e+r*r+i*i),u=Math.exp(o),f=a>0?u*Math.sin(a)/a:0;return t[0]=e*f,t[1]=r*f,t[2]=i*f,t[3]=u*Math.cos(a),t}function Lr(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=Math.sqrt(e*e+r*r+i*i),u=a>0?Math.atan2(a,o)/a:0;return t[0]=e*u,t[1]=r*u,t[2]=i*u,t[3]=.5*Math.log(e*e+r*r+i*i+o*o),t}function Rr(t,n,e){return Lr(t,n),ri(t,t,e),jr(t,t),t}function Br(t,n,e,r){var i,o,a,u,f,c=n[0],s=n[1],l=n[2],h=n[3],p=e[0],v=e[1],m=e[2],g=e[3];return(o=c*p+s*v+l*m+h*g)<0&&(o=-o,p=-p,v=-v,m=-m,g=-g),1-o>d?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,f=Math.sin(r*i)/a):(u=1-r,f=r),t[0]=u*c+f*p,t[1]=u*s+f*v,t[2]=u*l+f*m,t[3]=u*h+f*g,t}function Fr(t){var n=v(),e=v(),r=v(),i=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*e),t[1]=i*Math.cos(2*Math.PI*e),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function Ir(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-e*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t}function Ur(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function qr(t,n){var e,r=n[0]+n[4]+n[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;e=Math.sqrt(n[3*i+i]-n[3*o+o]-n[3*a+a]+1),t[i]=.5*e,e=.5/e,t[3]=(n[3*o+a]-n[3*a+o])*e,t[o]=(n[3*o+i]+n[3*i+o])*e,t[a]=(n[3*a+i]+n[3*i+a])*e}return t}function Yr(t,n,e,r){var i=.5*Math.PI/180;n*=i,e*=i,r*=i;var o=Math.sin(n),a=Math.cos(n),u=Math.sin(e),f=Math.cos(e),c=Math.sin(r),s=Math.cos(r);return t[0]=o*f*s-a*u*c,t[1]=a*u*s+o*f*c,t[2]=a*f*c-o*u*s,t[3]=a*f*s+o*u*c,t}function Wr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Hr,Gr,Vr,Xr,$r,Qr,Zr=Fe,Kr=Ie,Jr=Ue,ti=qe,ni=Ye,ei=zr,ri=Ke,ii=ur,oi=cr,ai=er,ui=ai,fi=rr,ci=fi,si=ar,li=vr,hi=mr,di=(Hr=Yn(),Gr=Gn(1,0,0),Vr=Gn(0,1,0),function(t,n,e){var r=he(n,e);return r<-.999999?(de(Hr,Gr,n),je(Hr)<1e-6&&de(Hr,Vr,n),le(Hr,Hr),Sr(t,Hr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(de(Hr,n,e),t[0]=Hr[0],t[1]=Hr[1],t[2]=Hr[2],t[3]=1+r,si(t,t))}),pi=(Xr=Er(),$r=Er(),function(t,n,e,r,i,o){return Br(Xr,n,i,o),Br($r,e,r,o),Br(t,Xr,$r,2*o*(1-o)),t}),vi=(Qr=gt(),function(t,n,e,r){return Qr[0]=e[0],Qr[3]=e[1],Qr[6]=e[2],Qr[1]=r[0],Qr[4]=r[1],Qr[7]=r[2],Qr[2]=-n[0],Qr[5]=-n[1],Qr[8]=-n[2],si(t,qr(t,Qr))});function mi(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function gi(t){var n=new p(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function yi(t,n,e,r,i,o,a,u){var f=new p(8);return f[0]=t,f[1]=n,f[2]=e,f[3]=r,f[4]=i,f[5]=o,f[6]=a,f[7]=u,f}function bi(t,n,e,r,i,o,a){var u=new p(8);u[0]=t,u[1]=n,u[2]=e,u[3]=r;var f=.5*i,c=.5*o,s=.5*a;return u[4]=f*r+c*e-s*n,u[5]=c*r+s*t-f*e,u[6]=s*r+f*n-c*t,u[7]=-f*t-c*n-s*e,u}function _i(t,n,e){var r=.5*e[0],i=.5*e[1],o=.5*e[2],a=n[0],u=n[1],f=n[2],c=n[3];return t[0]=a,t[1]=u,t[2]=f,t[3]=c,t[4]=r*c+i*f-o*u,t[5]=i*c+o*a-r*f,t[6]=o*c+r*u-i*a,t[7]=-r*a-i*u-o*f,t}function xi(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function wi(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Mi(t,n){var e=Er();Mn(e,n);var r=new p(3);return xn(r,n),_i(t,e,r),t}function Ai(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function Ei(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ti(t,n,e,r,i,o,a,u,f){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=f,t}var Si=Jr;function ki(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}var Ci=Jr;function zi(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function Oi(t,n){var e=n[4],r=n[5],i=n[6],o=n[7],a=-n[0],u=-n[1],f=-n[2],c=n[3];return t[0]=2*(e*c+o*a+r*f-i*u),t[1]=2*(r*c+o*u+i*a-e*f),t[2]=2*(i*c+o*f+e*u-r*a),t}function Ni(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=.5*e[0],f=.5*e[1],c=.5*e[2],s=n[4],l=n[5],h=n[6],d=n[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*u+i*c-o*f+s,t[5]=a*f+o*u-r*c+l,t[6]=a*c+r*f-i*u+h,t[7]=-r*u-i*f-o*c+d,t}function Di(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=u*a+s*r+f*o-c*i,h=f*a+s*i+c*r-u*o,d=c*a+s*o+u*i-f*r,p=s*a-u*r-f*i-c*o;return Or(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*r+h*o-d*i,t[5]=h*a+p*i+d*r-l*o,t[6]=d*a+p*o+l*i-h*r,t[7]=p*a-l*r-h*i-d*o,t}function Pi(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=u*a+s*r+f*o-c*i,h=f*a+s*i+c*r-u*o,d=c*a+s*o+u*i-f*r,p=s*a-u*r-f*i-c*o;return Nr(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*r+h*o-d*i,t[5]=h*a+p*i+d*r-l*o,t[6]=d*a+p*o+l*i-h*r,t[7]=p*a-l*r-h*i-d*o,t}function ji(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],f=n[5],c=n[6],s=n[7],l=u*a+s*r+f*o-c*i,h=f*a+s*i+c*r-u*o,d=c*a+s*o+u*i-f*r,p=s*a-u*r-f*i-c*o;return Dr(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*r+h*o-d*i,t[5]=h*a+p*i+d*r-l*o,t[6]=d*a+p*o+l*i-h*r,t[7]=p*a-l*r-h*i-d*o,t}function Li(t,n,e){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],f=n[1],c=n[2],s=n[3];return t[0]=u*a+s*r+f*o-c*i,t[1]=f*a+s*i+c*r-u*o,t[2]=c*a+s*o+u*i-f*r,t[3]=s*a-u*r-f*i-c*o,u=n[4],f=n[5],c=n[6],s=n[7],t[4]=u*a+s*r+f*o-c*i,t[5]=f*a+s*i+c*r-u*o,t[6]=c*a+s*o+u*i-f*r,t[7]=s*a-u*r-f*i-c*o,t}function Ri(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],f=e[1],c=e[2],s=e[3];return t[0]=r*s+a*u+i*c-o*f,t[1]=i*s+a*f+o*u-r*c,t[2]=o*s+a*c+r*f-i*u,t[3]=a*s-r*u-i*f-o*c,u=e[4],f=e[5],c=e[6],s=e[7],t[4]=r*s+a*u+i*c-o*f,t[5]=i*s+a*f+o*u-r*c,t[6]=o*s+a*c+r*f-i*u,t[7]=a*s-r*u-i*f-o*c,t}function Bi(t,n,e,r){if(Math.abs(r)<d)return Ai(t,n);var i=Math.hypot(e[0],e[1],e[2]);r*=.5;var o=Math.sin(r),a=o*e[0]/i,u=o*e[1]/i,f=o*e[2]/i,c=Math.cos(r),s=n[0],l=n[1],h=n[2],p=n[3];t[0]=s*c+p*a+l*f-h*u,t[1]=l*c+p*u+h*a-s*f,t[2]=h*c+p*f+s*u-l*a,t[3]=p*c-s*a-l*u-h*f;var v=n[4],m=n[5],g=n[6],y=n[7];return t[4]=v*c+y*a+m*f-g*u,t[5]=m*c+y*u+g*a-v*f,t[6]=g*c+y*f+v*u-m*a,t[7]=y*c-v*a-m*u-g*f,t}function Fi(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t}function Ii(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[4],f=e[5],c=e[6],s=e[7],l=n[4],h=n[5],d=n[6],p=n[7],v=e[0],m=e[1],g=e[2],y=e[3];return t[0]=r*y+a*v+i*g-o*m,t[1]=i*y+a*m+o*v-r*g,t[2]=o*y+a*g+r*m-i*v,t[3]=a*y-r*v-i*m-o*g,t[4]=r*s+a*u+i*c-o*f+l*y+p*v+h*g-d*m,t[5]=i*s+a*f+o*u-r*c+h*y+p*m+d*v-l*g,t[6]=o*s+a*c+r*f-i*u+d*y+p*g+l*m-h*v,t[7]=a*s-r*u-i*f-o*c+p*y-l*v-h*m-d*g,t}var Ui=Ii;function qi(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t}var Yi=ii;function Wi(t,n,e,r){var i=1-r;return Yi(n,e)<0&&(r=-r),t[0]=n[0]*i+e[0]*r,t[1]=n[1]*i+e[1]*r,t[2]=n[2]*i+e[2]*r,t[3]=n[3]*i+e[3]*r,t[4]=n[4]*i+e[4]*r,t[5]=n[5]*i+e[5]*r,t[6]=n[6]*i+e[6]*r,t[7]=n[7]*i+e[7]*r,t}function Hi(t,n){var e=$i(n);return t[0]=-n[0]/e,t[1]=-n[1]/e,t[2]=-n[2]/e,t[3]=n[3]/e,t[4]=-n[4]/e,t[5]=-n[5]/e,t[6]=-n[6]/e,t[7]=n[7]/e,t}function Gi(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}var Vi=ai,Xi=Vi,$i=fi,Qi=$i;function Zi(t,n){var e=$i(n);if(e>0){e=Math.sqrt(e);var r=n[0]/e,i=n[1]/e,o=n[2]/e,a=n[3]/e,u=n[4],f=n[5],c=n[6],s=n[7],l=r*u+i*f+o*c+a*s;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(u-r*l)/e,t[5]=(f-i*l)/e,t[6]=(c-o*l)/e,t[7]=(s-a*l)/e}return t}function Ki(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ji(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function to(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],f=t[6],c=t[7],s=n[0],l=n[1],h=n[2],p=n[3],v=n[4],m=n[5],g=n[6],y=n[7];return Math.abs(e-s)<=d*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(f-g)<=d*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(c-y)<=d*Math.max(1,Math.abs(c),Math.abs(y))}function no(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function eo(t){var n=new p(2);return n[0]=t[0],n[1]=t[1],n}function ro(t,n){var e=new p(2);return e[0]=t,e[1]=n,e}function io(t,n){return t[0]=n[0],t[1]=n[1],t}function oo(t,n,e){return t[0]=n,t[1]=e,t}function ao(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function uo(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function fo(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function co(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function so(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function lo(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function ho(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function po(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function vo(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function mo(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function go(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function yo(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.hypot(e,r)}function bo(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function _o(t){var n=t[0],e=t[1];return Math.hypot(n,e)}function xo(t){var n=t[0],e=t[1];return n*n+e*e}function wo(t,n){return t[0]=-n[0],t[1]=-n[1],t}function Mo(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function Ao(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t}function Eo(t,n){return t[0]*n[0]+t[1]*n[1]}function To(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function So(t,n,e,r){var i=n[0],o=n[1];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t}function ko(t,n){n=n||1;var e=2*v()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function Co(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t}function zo(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t}function Oo(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t}function No(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t}function Do(t,n,e,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sin(r),u=Math.cos(r);return t[0]=i*u-o*a+e[0],t[1]=i*a+o*u+e[1],t}function Po(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],a=Math.sqrt(e*e+r*r)*Math.sqrt(i*i+o*o),u=a&&(e*i+r*o)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function jo(t){return t[0]=0,t[1]=0,t}function Lo(t){return"vec2("+t[0]+", "+t[1]+")"}function Ro(t,n){return t[0]===n[0]&&t[1]===n[1]}function Bo(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=d*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))}var Fo=_o,Io=uo,Uo=fo,qo=co,Yo=yo,Wo=bo,Ho=xo,Go=function(){var t=no();return function(n,e,r,i,o,a){var u,f;for(e||(e=2),r||(r=0),f=i?Math.min(i*e+r,n.length):n.length,u=r;u<f;u+=e)t[0]=n[u],t[1]=n[u+1],o(t,t,a),n[u]=t[0],n[u+1]=t[1];return n}}();e.d(n,"glMatrix",(function(){return r})),e.d(n,"mat2",(function(){return i})),e.d(n,"mat2d",(function(){return o})),e.d(n,"mat3",(function(){return a})),e.d(n,"mat4",(function(){return u})),e.d(n,"quat",(function(){return s})),e.d(n,"quat2",(function(){return l})),e.d(n,"vec2",(function(){return h})),e.d(n,"vec3",(function(){return f})),e.d(n,"vec4",(function(){return c}))},function(t,n,e){"use strict";var r=u(e(7)),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=a();if(n&&n.has(t))return n.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(e,i,o):e[i]=t[i]}e.default=t,n&&n.set(t,e);return e}(e(1)),o=u(e(0));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function u(t){return t&&t.__esModule?t:{default:t}}let f={"font-size":"16px","font-weight":"500","background-color":"rgb(41, 50, 60)",color:"rgb(160, 167, 180)","z-index":"1001",position:"fixed","overflow-x":"auto",top:"541px","max-width":"1000px",right:"185px",width:"200px",display:"flex","box-sizing":"border-box","max-width":"100%",color:"rgb(248, 248, 248)","min-width":"0px","min-height":"0px","flex-direction":"column",outline:"none",margin:"6px",background:"rgb(119, 119, 119)",padding:"12px",opacity:".8","pointer-events":"none"},c=t=>{fetch(t).then(t=>t.json()).then(t=>{window.graph=r.default.init({data:t,container:document.querySelector(".container"),brush:!0,width:1*innerWidth,height:.9*innerHeight,drawCurves:1}),t.cluster_events.forEach(t=>{t.clusters.forEach((t,n)=>{graph.setNodeColor(t.nodes,t.color)})}),Array.from(document.body.querySelectorAll("input")).forEach(t=>{t.addEventListener("change",n=>{let e={};e[t.id]=+n.target.value,graph.setState(e),console.log(e)})});let n=i.select("body").append("div");o.default.each(f,(t,e)=>{n.style(e,t)}),graph.on("hover",(t,e,r,i)=>{if(!e)return console.log("off");n.text(e.text),n.style("display","block"),n.style("left",i[0]+"px"),n.style("top",i[1]+"px")}),graph.on("hoverOff",(t,e,r,i)=>{n.style("display","none")});let[e,a,u,c,s]=document.querySelectorAll("button");e.addEventListener("click",()=>{graph.setNodeShape(!0,2)}),a.addEventListener("click",()=>{graph.setNodeShape([1e3*Math.random()|0],1)}),u.addEventListener("click",()=>{let t=1e3*Math.random()|0;graph.setNodeVisibility(!0,(n,e)=>e==t?10:-20),graph.select(t)}),c.addEventListener("click",()=>{console.log("show favorites"),graph.setNodeVisibility(!0,(t,n)=>Math.random()>.99?10:0)});let l=!0;s.addEventListener("click",()=>{graph.toggleBrush(l=!l)}),s.click()})};i.select(window).on("load",()=>{c("./data/nestle-network.json")})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createRegl",{enumerable:!0,get:function(){return d.createRegl}}),Object.defineProperty(n,"createTextureFromUrl",{enumerable:!0,get:function(){return d.createTextureFromUrl}}),n.default=void 0;var r=v(e(24)),i=v(e(8)),o=e(5),a=v(e(0)),u=v(e(11)),f=v(e(12)),c=v(e(18)),s=e(19),l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p();if(n&&n.has(t))return n.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(e,i,o):e[i]=t[i]}e.default=t,n&&n.set(t,e);return e}(e(1)),h=e(4),d=e(22);function p(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function v(t){return t&&t.__esModule?t:{default:t}}let m=(t,n)=>{if(!t)return console.log("element is null!");t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.width="100%",t.style.height="100%",t.style.zIndex=n};const g=t=>{let n=(t=>{let n=document.createElement("canvas");return console.log("add canvas",t),t.appendChild(n),n})(t.container||document.body),e=(0,d.createRegl)(n),u=(h.DEFAULT_SHOW_RECTICLE,h.DEFAULT_RECTICLE_COLOR,h.DEFAULT_POINT_SIZE,h.DEFAULT_POINT_SIZE_SELECTED,t.width||h.DEFAULT_WIDTH),p=t.height||h.DEFAULT_HEIGHT,v=h.DEFAULT_TARGET,g=h.DEFAULT_DISTANCE,y=h.DEFAULT_ROTATION,b=h.DEFAULT_VIEW,_=(t.createDrawNodes,t.onHover,t.onClick,t.attributes),x=[u,p];const w=new Float32Array(16);let M=[0,0],A=[],E={showFavorites:0,ceiling:40,pointSize:10,scaling:.4,sizeAttenuation:.1,sentimentFilter:0,numNodes:1,showLines:!0,showNodes:!0,flatSize:!0,edgeColors:!0,selectedPoint:-1,favorites:[],dateFilter:[0,1/0],camera:{view:()=>{}},projection:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),model:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),hoveredPoint:-1,containerDimensions:{x:0,y:0,width:x[0],height:x[1]},size:x};a.default.extend(E,t.initialState);let T,S,k=u,C=p,z=e||(0,d.createRegl)(n),O=!1,N=[0,0],D=0;const P=h.DEFAULT_DATA_ASPECT_RATIO;let j=!1,L=!1;let R=!1;E.camera=(0,c.default)(n),b?E.camera.setView(o.mat4.clone(b)):E.camera.lookAt([...v],g,y);let[B,F]=(0,f.default)(e,_);const I=(t=[(e=M[0],e/k*2-1),(n=M[1],1+n/C*-2)])=>{var n,e;const[r,i]=t,a=[r,i,1,1];let u=o.mat4.invert(w,o.mat4.multiply(w,E.projection,o.mat4.multiply(w,E.camera.view,E.model)));return u||(u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),o.vec4.transformMat4(a,a,u),a.slice(0,2)},U=()=>{const[t,n]=I(),e=2e3*((0,d.min)(1,1)+Math.log2((0,d.max)(1,1)))*window.devicePixelRatio,r=e/k,i=e/C,o=T.range(t-r,n-i,t+r,n+i);let a,u=e;return o.forEach(e=>{const{x:r,y:i}=T.points[e],o=(0,d.dist)(r,i,t,n);o<u&&0!==_.stateIndex[1]&&(u=o,a=e)}),a},q=t=>{if("number"==typeof t&&(t=[t]),console.log(E.selectedPoint=t[0]),!Array.isArray(t))throw new Error("points must be a number or array");tt()};const Y=t=>{const n=t.target.getBoundingClientRect();return M[0]=t.clientX-n.left,M[1]=t.clientY-n.top,[...M]},W=t=>{L&&(pt.mousedown(),O=!0,N=Y(t))},H=()=>{L&&(pt.mouseup(),O=!1)},G=t=>{if(!L)return;pt.click();const n=Y(t),e=((0,d.dist)(...n,...N),U());e>=0&&q([e]),e>=0&&pt.nodeSelected(A[e],e,t),t.shiftKey},V=()=>{L&&(pt.blur(),E.hoveredPoint=-1,R=!1,H(),tt())},X=t=>{if(L){if(!O){pt.mousemove();let n=Y(t);const e=U();it(e),e?pt.hover(e,A[e],t,n):pt.hoverOff(),e&&B(A[e],e)}O&&tt()}},$=()=>{S=k/C,E.projection=o.mat4.fromScaling([],[1/S,1,1]),E.model=o.mat4.fromScaling([],[P,1,1])},Q=t=>{!+t||+t<=0||(C=+t,n.height=C*window.devicePixelRatio)},Z=t=>{!+t||+t<=0||(k=+t,n.width=k*window.devicePixelRatio)},K=(0,s.createDrawPoints)(z,_),J=()=>{L&&(j=E.camera.tick(),F(E),K(E),n.toDataUrl&&(E.screenshot=n.toDataURL("image/png",1)))},tt=(0,i.default)(J),nt=t=>(...n)=>{const e=t(...n);return tt(),e},et=()=>{z.poll(),E.camera.refresh()},rt=(t,e)=>{let r=window.devicePixelRatio;n.width=r*t,n.height=r*e,n.style.width=t+"px",n.style.height=e+"px",Q(e),Z(t),$(),E.camera.refresh(),et(),tt()},it=t=>{let n=!1;if(t>=0){n=!0;E.hoveredPoint;E.hoveredPoint=t}else n=E.hoveredPoint,E.hoveredPoint=-1;tt()},ot=()=>{b?E.camera.set(o.mat4.clone(b)):E.camera.lookAt([...v],g,y)},at=()=>{pt.mouseenter(),R=!0},ut=()=>{pt.mouseleave(),it(),R=!1,tt()};let ft=0;const ct=t=>{pt.wheel(ft+=t.wheelDelta),tt(),et()};let st=()=>{n.toBoundingClientRect&&(E.containerDimensions=n.getBoundingClientRect());let t=E.containerDimensions;x[0]=t.width,x[1]=t.height,Q(C),Z(k),$(),E.camera.refresh()};var lt;$(),rt(k,C),window.addEventListener("blur",V,!1),window.addEventListener("mousedown",W,!1),window.addEventListener("mouseup",H,!1),window.addEventListener("mousemove",X,!1),n.addEventListener("mouseenter",at,!1),n.addEventListener("mouseleave",ut,!1),n.addEventListener("click",G,!1),n.addEventListener("wheel",ct),window.addEventListener("resize",st),lt=_.nodes,L=!1,A=lt,D=lt.length,T=new r.default(lt,t=>t.x,t=>t.y,16),L=!0;let ht=t=>_.uuids[t],dt=()=>{},pt={blur:dt,mousedown:dt,mouseup:dt,mousemove:dt,mouseenter:dt,mouseleave:dt,hoverOff:dt,click:dt,wheel:dt,hover:dt,nodeSelected:dt},vt={setFavorites:t=>{(Array.isArray(t)?t:[t]).forEach(t=>{t="number"==typeof t?t:ht(t),_.stateIndex[t][2]=-1})},state:E,saveScreenShot:()=>{let t=vt.state.screenshot.replace("image/png","image/octet-stream");window.open(t)},eachNode:(t,n,e)=>{(Array.isArray(t)?t:_.nodes.map((t,n)=>n)).forEach(t=>{e(_[n][t],_.nodes[t])}),tt()},toggleBrush:t=>{l.select("svg").style("display",t?"unset":"none")},brush:(t,n)=>{console.log("wow wtf");let e,r=t.map((function(t){return[t[0]/k*2-1,1-t[1]/C*2]})).map(I),[[i,o],[a,u]]=r,f=0;_.stateIndex.forEach((t,n)=>{let{x:r,y:c}=T.points[n],s=r>Math.min(i,a)&&r<Math.max(a,i)&&c>Math.min(u,o)&&c<Math.max(u,o);s&&f++,e=[i,r,a,o,c,u],t[1]=s?10:-20}),console.log(window.poop=e),console.log(f),J()},resetView:()=>{E.camera.setView(o.mat4.clone(b)),J()},zoomToNode:t=>{let n=_.position[t].slice(0,2);(void 0).lookAt(n),J()},setSize:rt,setNodeColor:(t,n)=>{(Array.isArray(t)?t:_.nodes.map((t,n)=>n)).forEach(t=>{let e="function"==typeof n?n(_.nodes[t],t):n;t="number"==typeof t?t:ht(t),_.color[t]=(t=>{let n=l.rgb(t);return[n.r/255,n.g/255,n.b/255]})(e)}),tt()},setNodeSize:(t,n)=>{Array.isArray(t)||_.nodes.map((t,n)=>n);t.forEach(t=>{"function"==typeof val?val(_.nodes[t],t):val;t="number"==typeof t?t:ht(t),_.position[t][2]=n}),tt()},setNodeShape:(t,n)=>{(Array.isArray(t)?t:[t]).forEach(t=>{t="number"==typeof t?t:ht(t),_.stateIndex[t][2]=-n}),tt()},setNodeVisibility:(t,n)=>{(Array.isArray(t)?t:_.nodes.map((t,n)=>n)).forEach(t=>{let e="function"==typeof n?n(_.nodes[t],t):n;t="number"==typeof t?t:ht(t),_.stateIndex[t][1]=e}),tt()},destroy:()=>{window.removeEventListener("blur",V,!1),window.removeEventListener("mousedown",W,!1),window.removeEventListener("mouseup",H,!1),window.removeEventListener("mousemove",X,!1),n.removeEventListener("mouseenter",at,!1),n.removeEventListener("mouseleave",ut,!1),n.removeEventListener("click",G,!1),n.removeEventListener("wheel",ct),window.removeEventListener("resize",st),n=void 0,E.camera=void 0,z=void 0},on:(t,n)=>{pt[t]=n},repaint:()=>{nt(ot)()},refresh:et,reset:nt(ot),select:q,setState:t=>{tt(),a.default.each(t,(t,n)=>{E[n]=t})},getView:()=>E.camera.view};return t.brush&&((t,n,e)=>{let r=e[0],i=e[1];const o=l.select(t).append("svg").attr("viewBox",[0,0,r,i]).property("value",[]);o.style("position","absolute"),o.style("left","0"),m(o.node(),1),t.style.position="relative",t.style.width=r+"px",t.style.height=i+"px";const a=l.brush().on("end",(function(){o.selectAll(".selection").attr("opacity",1).attr("fill","none"),l.event.selection&&n.brush(l.event.selection)}));o.call(a),o.selectAll(".selection").attr("stroke","green")})(document.body,vt,x),vt};var y={init:t=>{console.log("INIT okay"),t.attributes=(0,u.default)(t.data);let n=g(t);return n._data=t,n}};n.default=y},function(t,n,e){"use strict";e.r(n);n.default=(t,n,e=window.requestAnimationFrame)=>{let r,i=!1;return(...o)=>{if(r=o,!i)return i=!0,e(()=>{const e=t(...r);i=!1,n&&n(e)})}}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=a();if(n&&n.has(t))return n.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(e,i,o):e[i]=t[i]}e.default=t,n&&n.set(t,e);return e}(e(1)),o=(r=e(0))&&r.__esModule?r:{default:r};function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}var u=t=>{let n={};t.nodes.map((t,e)=>(n[t.uuid]=e,t.size=2,t.index=e,t.clipX=t.x,t.clipY=t.y,t.x=t.x/innerWidth*2-1,t.y=1+t.y/innerHeight*-2,[Math.random(),Math.random(),Math.random()]));i.scaleOrdinal(i.schemeAccent);o.default.flatten(t.nodes.map(t=>+t.sentiment));var e=i.scaleLinear().domain([-1,1]).range(["red","yellow","green"]);o.default.flatten(t.nodes.map(t=>{let n=i.rgb(e(+t.sentiment));return[n.r/255,n.g/255,n.b/255]}));t.edges.forEach(n=>{t.nodes[n.target].size+=.1,t.nodes[n.source].size+=.1});let r=t.nodes.map((t,n)=>[t.x,t.y,t.size,n]),a={sourcePositions:new Array(r.length).fill(0),targetPositions:new Array(r.length).fill(0),curves:new Array(t.edges.length).fill(0),edges:t.edges};t.edges.forEach((n,e)=>{let r=t.nodes[n.source],i=t.nodes[n.target];a.sourcePositions[2*e]=r.x,a.sourcePositions[2*e+1]=r.y,a.targetPositions[2*e]=i.x,a.targetPositions[2*e+1]=i.y,a.curves[e]={x1:r.x,y1:r.y,x2:i.x,y2:i.y}});let u=new Array(3*t.edges.length).fill(0),f=new Array(t.nodes.length).fill(0).map((t,n)=>[0,1,n]);t.edges.forEach((n,e)=>{let r=(t.nodes[n.source]?t.nodes[n.source]:getNode(n.target)).color,o=i.rgb(r);u[3*e]=o.r/255,u[3*e+1]=o.g/255,u[3*e+2]=o.b/255});t.nodes.map((t,n)=>t.create_time||(t.create_time=+new Date-Math.floor(1e10*Math.random())));let c=t.nodes.map(t=>{let n=i.color(t.color||"pink");return[n.r/255,n.g/255,n.b/255]});return{uuids:n,nodes:t.nodes,position:r,edges:a,color:c,stateIndex:f}};n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e(13);const i=e(17);var o=function(t,n,e,o,a){const u=i.interleavedStripRoundCapJoin3DDEMO(t,16);let f=[],c=t=>{let n=(e=t.x1,i=t.y1,o=t.x2,a=t.y2,{x:(e+o)/2+(a-i)/4,y:(i+a)/2+(e-o)/4});var e,i,o,a;new r(t.x1,t.y1,n.x,n.y,t.x2,t.y2).getLUT(50).forEach((function(t){f.push([t.x,t.y,.1])})),f.push(0,0,0)};n.edges.curves.forEach(c);let s=0,l=(f.map(t=>[Math.random(),Math.random(),Math.random()]),t.buffer()),h=t.buffer();return[(t,e)=>{let r=t?n.edges.edges.filter(t=>!e||(t.source==e||t.target==e)).map(t=>{let e=n.nodes[t.source],r=n.nodes[t.target];return{x1:e.x,y1:e.y,x2:r.x,y2:r.y}}):[];f=[],r.forEach(c),s=f.length,console.log("seg",s);let i=f.map(t=>[.3,.3,.3]);l({data:f}),h({data:i})},t=>{t.containerDimensions;let n=window.devicePixelRatio;s&&u({points:l,color:h,width:1,model:t.model,view:t.camera.view,projection:t.projection,resolution:[t.size[0]/n,t.size[1]/n],segments:s-1,viewport:{x:0,y:0,width:t.size[0]*n,height:t.size[1]*n}})}]};n.default=o},function(t,n,e){t.exports=e(2)},function(t,n,e){!function(){"use strict";var n=e(3),r=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};r.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(t){return n.pointsToString(t.points)})).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map((function(t){return t.length()})).reduce((function(t,n){return t+n}))},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,e=t[0].bbox(),r=1;r<t.length;r++)n.expandbox(e,t[r].bbox());return e},offset:function(t){var n=[];return this.curves.forEach((function(e){n=n.concat(e.offset(t))})),new r(n)}},t.exports=r}()},function(t,n,e){var r=e(16),i={x:!1,y:!1};function o(t,n,e){if("Z"!==n){if("M"!==n){var r=[!1,i.x,i.y].concat(e),o=new(t.bind.apply(t,r)),a=e.slice(-2);return i={x:a[0],y:a[1]},o}i={x:e[0],y:e[1]}}}t.exports=function(t,n){for(var e,i,a=r(n).split(" "),u=new RegExp("[MLCQZ]",""),f=[],c={C:6,Q:4,L:2,M:2};a.length;)e=a.splice(0,1)[0],u.test(e)&&(i=o(t,e,a.splice(0,c[e]).map(parseFloat)))&&f.push(i);return new t.PolyBezier(f)}},function(t,n){t.exports=function(t){var n,e,r,i,o,a,u=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),f=u.length,c=[],s=0,l=0,h=0,d=0,p=0,v=0,m=0,g=0,y="";for(n=1;n<f;n++)if(i=(r=(e=u[n]).substring(0,1)).toLowerCase(),o=(c=(c=e.replace(r,"").trim().split(" ")).filter((function(t){return""!==t})).map(parseFloat)).length,"m"===i){if(y+="M ","m"===r?(h+=c[0],d+=c[1]):(h=c[0],d=c[1]),s=h,l=d,y+=h+" "+d+" ",o>2)for(a=0;a<o;a+=2)"m"===r?(h+=c[a],d+=c[a+1]):(h=c[a],d=c[a+1]),y+=["L",h,d,""].join(" ")}else if("l"===i)for(a=0;a<o;a+=2)"l"===r?(h+=c[a],d+=c[a+1]):(h=c[a],d=c[a+1]),y+=["L",h,d,""].join(" ");else if("h"===i)for(a=0;a<o;a++)"h"===r?h+=c[a]:h=c[a],y+=["L",h,d,""].join(" ");else if("v"===i)for(a=0;a<o;a++)"v"===r?d+=c[a]:d=c[a],y+=["L",h,d,""].join(" ");else if("q"===i)for(a=0;a<o;a+=4)"q"===r?(p=h+c[a],v=d+c[a+1],h+=c[a+2],d+=c[a+3]):(p=c[a],v=c[a+1],h=c[a+2],d=c[a+3]),y+=["Q",p,v,h,d,""].join(" ");else if("t"===i)for(a=0;a<o;a+=2)p=h+(h-p),v=d+(d-v),"t"===r?(h+=c[a],d+=c[a+1]):(h=c[a],d=c[a+1]),y+=["Q",p,v,h,d,""].join(" ");else if("c"===i)for(a=0;a<o;a+=6)"c"===r?(p=h+c[a],v=d+c[a+1],m=h+c[a+2],g=d+c[a+3],h+=c[a+4],d+=c[a+5]):(p=c[a],v=c[a+1],m=c[a+2],g=c[a+3],h=c[a+4],d=c[a+5]),y+=["C",p,v,m,g,h,d,""].join(" ");else if("s"===i)for(a=0;a<o;a+=4)p=h+(h-m),v=d+(d-g),"s"===r?(m=h+c[a],g=d+c[a+1],h+=c[a+2],d+=c[a+3]):(m=c[a],g=c[a+1],h=c[a+2],d=c[a+3]),y+=["C",p,v,m,g,h,d,""].join(" ");else"z"===i&&(y+="Z ",h=s,d=l);return y.trim()}},function(t,n,e){"use strict";let r;const i=[[0,-.5],[1,-.5],[1,.5],[0,-.5],[1,.5],[0,.5]];function o(t,n){const e=[[0,0]];for(wedge=0;wedge<=n;wedge++){const t=2*Math.PI*wedge/n;e.push([.5*Math.cos(t),.5*Math.sin(t)])}return{buffer:t.buffer(e),count:e.length}}const a=[[0,0,0],[1,0,0],[0,1,0],[0,0,0],[0,1,0],[0,0,1]];const u=[[0,0],[1,0],[0,1]];function f(t,n){const e=[[0,-.5,0],[0,-.5,1],[0,.5,1],[0,-.5,0],[0,.5,1],[0,.5,0]];for(let t=0;t<n;t++){const r=Math.PI/2+(t+0)*Math.PI/n,i=Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,0]),e.push([.5*Math.cos(r),.5*Math.sin(r),0]),e.push([.5*Math.cos(i),.5*Math.sin(i),0])}for(let t=0;t<n;t++){const r=3*Math.PI/2+(t+0)*Math.PI/n,i=3*Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),1]),e.push([.5*Math.cos(i),.5*Math.sin(i),1])}return{buffer:t.buffer(e),count:e.length}}t.exports={miterJoin:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 pointA, pointB, pointC;\n      attribute vec3 position;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        // Find the miter vector.\n        vec2 tangent = normalize(normalize(pointC - pointB) + normalize(pointB - pointA));\n        vec2 miter = vec2(-tangent.y, tangent.x);\n\n        // Find the perpendicular vectors.\n        vec2 ab = pointB - pointA;\n        vec2 cb = pointB - pointC;\n        vec2 abNorm = normalize(vec2(-ab.y, ab.x));\n        vec2 cbNorm = -normalize(vec2(-cb.y, cb.x));\n\n        // Determine the bend direction.\n        float sigma = sign(dot(ab + cb, miter));\n\n        // Calculate the basis vectors for the miter geometry.\n        vec2 p0 = 0.5 * width * sigma * (sigma < 0.0 ? abNorm : cbNorm);\n        vec2 p1 = 0.5 * miter * sigma * width / dot(miter, abNorm);\n        vec2 p2 = 0.5 * width * sigma * (sigma < 0.0 ? cbNorm : abNorm);\n\n        // Calculate the final point position.\n        vec2 point = pointB + position.x * p0 + position.y * p1 + position.z * p2;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(a),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT},pointC:{buffer:t.prop("points"),divisor:1,offset:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:a.length,instances:t.prop("instances"),viewport:t.prop("viewport")})},bevelJoin:function(t){return t({vert:"\n    precision highp float;\n    attribute vec2 pointA, pointB, pointC;\n    attribute vec2 position;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      vec2 tangent = normalize(normalize(pointC - pointB) + normalize(pointB - pointA));\n      vec2 normal = vec2(-tangent.y, tangent.x);\n      vec2 ab = pointB - pointA;\n      vec2 cb = pointB - pointC;\n      float sigma = sign(dot(ab + cb, normal));\n      vec2 abn = normalize(vec2(-ab.y, ab.x));\n      vec2 cbn = -normalize(vec2(-cb.y, cb.x));\n      vec2 p0 = 0.5 * sigma * width * (sigma < 0.0 ? abn : cbn);\n      vec2 p1 = 0.5 * sigma * width * (sigma < 0.0 ? cbn : abn);\n      vec2 point = pointB + position.x * p0 + position.y * p1;\n      gl_Position = projection * vec4(point, 0, 1);\n    }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(u),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT},pointC:{buffer:t.prop("points"),divisor:1,offset:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:u.length,instances:t.prop("instances"),viewport:t.prop("viewport")})},roundJoin:function(t,n){const e=o(t,n);return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      attribute vec2 point;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(width * position + point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:e.buffer,divisor:0},point:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:"triangle fan",count:e.count,instances:t.prop("instances"),viewport:t.prop("viewport")})},roundCap:function(t,n){const e=o(t,n);return t({vert:"\n    precision highp float;\n    attribute vec2 position;\n    uniform vec2 point;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      gl_Position = projection * vec4(point + width * position, 0, 1);\n  }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:e.buffer}},uniforms:{point:t.prop("point"),width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:"triangle fan",count:e.count,viewport:t.prop("viewport")})},squareCap:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 point = pointB + xBasis * 0.5 * width * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n    }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:t.buffer(i)}},uniforms:{pointA:t.prop("pointA"),pointB:t.prop("pointB"),width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:i.length,viewport:t.prop("viewport")})},interleavedStripRoundCapJoin:function(t,n){return r=f(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 offsetA = pointA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 offsetB = pointB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(offsetA, offsetB, position.z);\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:r.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:r.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoin3D:function(t,n){let e=f(t,n);return t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec3 pointA, pointB;\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 model, view, projection;\n\n      void main() {\n        vec4 clip0 = projection * view * model * vec4(pointA, 1.0);\n        vec4 clip1 = projection * view * model * vec4(pointB, 1.0);\n        vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n        vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n        vec2 xBasis = normalize(screen1 - screen0);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pt0 = screen0 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt1 = screen1 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt = mix(pt0, pt1, position.z);\n        vec4 clip = mix(clip0, clip1, position.z);\n        gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:e.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),model:t.prop("model"),view:t.prop("view"),projection:t.prop("projection"),resolution:t.prop("resolution")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:e.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoin3DDEMO:function(t,n){return r=f(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute vec3 pointA, pointB;\n      attribute vec3 colorA, colorB;\n\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 view, projection;\n\n      varying vec3 vColor;\n\n      void main() {\n        vec4 clip0 = projection * view * vec4(pointA, 1.0);\n        vec4 clip1 = projection * view * vec4(pointB, 1.0);\n        vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n        vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n        vec2 xBasis = normalize(screen1 - screen0);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pt0 = screen0 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt1 = screen1 + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pt = mix(pt0, pt1, position.z);\n        vec4 clip = mix(clip0, clip1, position.z);\n        gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n        vColor = mix(colorA, colorB, position.z);\n      }",frag:"\n      precision highp float;\n      varying vec3 vColor;\n      void main() {\n        gl_FragColor = vec4(vColor, 1);\n      }",cull:{enable:!0,face:"back"},attributes:{position:{buffer:r.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT},colorA:{buffer:t.prop("color"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},colorB:{buffer:t.prop("color"),divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),model:t.prop("model"),view:t.prop("view"),projection:t.prop("projection"),resolution:t.prop("resolution")},cull:{enable:!0,face:"back"},count:r.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},noninterleavedStripRoundCapJoin:function(t,n){return r=f(t,n),t({vert:"\n      precision highp float;\n      attribute vec3 position;\n      attribute float ax, ay, bx, by;\n      uniform float width;\n      uniform vec2 resolution;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 clipA = (projection * vec4(ax, ay, 0, 1)).xy;\n        vec2 clipB = (projection * vec4(bx, by, 0, 1)).xy;\n        vec2 offsetA = resolution * (0.5 * clipA + 0.5);\n        vec2 offsetB = resolution * (0.5 * clipB + 0.5);\n        vec2 xBasis = normalize(offsetB - offsetA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pointA = offsetA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pointB = offsetB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(pointA, pointB, position.z);\n        gl_Position = vec4(2.0 * point/resolution - 1.0, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",depth:{enable:!1},attributes:{position:{buffer:r.buffer,divisor:0},ax:{buffer:t.prop("dataX"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},ay:{buffer:t.prop("dataY"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},bx:{buffer:t.prop("dataX"),divisor:1,offset:1*Float32Array.BYTES_PER_ELEMENT},by:{buffer:t.prop("dataY"),divisor:1,offset:1*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),resolution:t.prop("resolution"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:r.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedStripRoundCapJoinDEMO:function(t,n){return r=function(t,n){const e=[[0,-.5,0,0],[0,-.5,1,0],[0,.5,1,0],[0,-.5,0,0],[0,.5,1,0],[0,.5,0,0]];for(let t=0;t<n;t++){const r=Math.PI/2+(t+0)*Math.PI/n,i=Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,0,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),0,1]),e.push([.5*Math.cos(i),.5*Math.sin(i),0,1])}for(let t=0;t<n;t++){const r=3*Math.PI/2+(t+0)*Math.PI/n,i=3*Math.PI/2+(t+1)*Math.PI/n;e.push([0,0,1,1]),e.push([.5*Math.cos(r),.5*Math.sin(r),1,1]),e.push([.5*Math.cos(i),.5*Math.sin(i),1,1])}return{buffer:t.buffer(e),count:e.length}}(t,n),t({vert:"\n      precision highp float;\n      attribute vec4 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      varying float colorIndexDEMO;\n\n      void main() {\n        colorIndexDEMO = position.w;\n        vec2 xBasis = normalize(pointB - pointA);\n        vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n        vec2 pointA = pointA + width * (position.x * xBasis + position.y * yBasis);\n        vec2 pointB = pointB + width * (position.x * xBasis + position.y * yBasis);\n        vec2 point = mix(pointA, pointB, position.z);\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      uniform vec4 colorDEMO;\n      varying float colorIndexDEMO;\n      void main() {\n        gl_FragColor = mix(color, colorDEMO, colorIndexDEMO);\n      }",attributes:{position:{buffer:r.buffer,divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),colorDEMO:t.prop("colorDEMO"),projection:t.prop("projection")},depth:{enable:!1},cull:{enable:!0,face:"back"},count:r.count,instances:t.prop("segments"),viewport:t.prop("viewport")})},customPoints:function(t){return t({vert:"\n    precision highp float;\n    attribute vec2 position;\n    attribute vec2 point;\n    uniform float width;\n    uniform mat4 projection;\n\n    void main() {\n      gl_Position = projection * vec4(width * position + point, 0, 1);\n    }",frag:"\n    precision highp float;\n    uniform vec4 color;\n    void main() {\n      gl_FragColor = color;\n    }",depth:{enable:!1},attributes:{position:{buffer:t.prop("pointGeometry"),divisor:0},point:{buffer:t.prop("points"),divisor:1}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},primitive:t.prop("pointPrimitive"),count:t.prop("pointCount"),instances:t.prop("instances"),viewport:t.prop("viewport")})},interleavedStrip:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      attribute vec2 pointA, pointB;\n      uniform float width;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = pointB - pointA;\n        vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n        vec2 point = pointA + xBasis * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:t.buffer(i),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},depth:{enable:!1},count:i.length,instances:t.prop("segments"),viewport:t.prop("viewport")})},interleavedSegments:function(t){return t({vert:"\n      precision highp float;\n      uniform float width;\n      attribute vec2 position, pointA, pointB;\n      uniform mat4 projection;\n\n      void main() {\n        vec2 xBasis = pointB - pointA;\n        vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n        vec2 point = pointA + xBasis * position.x + yBasis * width * position.y;\n        gl_Position = projection * vec4(point, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:{buffer:t.buffer(i),divisor:0},pointA:{buffer:t.prop("points"),divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT,stride:4*Float32Array.BYTES_PER_ELEMENT},pointB:{buffer:t.prop("points"),divisor:1,offset:2*Float32Array.BYTES_PER_ELEMENT,stride:4*Float32Array.BYTES_PER_ELEMENT}},uniforms:{width:t.prop("width"),color:t.prop("color"),projection:t.prop("projection")},cull:{enable:!0,face:"back"},count:i.length,instances:t.prop("segments"),viewport:t.prop("viewport")})},glLines:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(position, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:t.prop("position")},uniforms:{color:t.prop("color"),projection:t.prop("projection")},primitive:"lines",lineWidth:t.prop("width"),count:t.prop("count"),viewport:t.prop("viewport")})},glLineStrip:function(t){return t({vert:"\n      precision highp float;\n      attribute vec2 position;\n      uniform mat4 projection;\n\n      void main() {\n        gl_Position = projection * vec4(position, 0, 1);\n      }",frag:"\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }",attributes:{position:t.prop("position")},uniforms:{color:t.prop("color"),projection:t.prop("projection")},primitive:"line strip",lineWidth:t.prop("width"),count:t.prop("count"),viewport:t.prop("viewport")})}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e(5);const i=(t=[0,0],n=1,e=0,i=[0,0],o=[0,1/0])=>{const a=new Float32Array(16),u=new Float32Array(16),f=new Float32Array(16);let c=r.mat4.create(),s=[...i.slice(0,2),0,1];const l=[...o],h=()=>r.mat4.getScaling(a,c)[0],d=([t=0,n=0]=[],e=1,i=0)=>{c=r.mat4.create(),p([-t,-n]),m(i),v(1/e)},p=([t=0,n=0]=[])=>{a[0]=t,a[1]=n,a[2]=0;const e=r.mat4.fromTranslation(u,a);r.mat4.multiply(c,e,c)},v=(t,n)=>{if(t<=0)return;const e=h(),i=e*t;if(1===(t=Math.max(l[0],Math.min(i,l[1]))/e))return;a[0]=t,a[1]=t,a[2]=1;const o=r.mat4.fromScaling(u,a),d=n?[...n,0]:s,p=r.mat4.fromTranslation(a,d);r.mat4.multiply(c,p,r.mat4.multiply(c,o,r.mat4.multiply(c,r.mat4.invert(f,p),c)))},m=t=>{const n=r.mat4.create();r.mat4.fromRotation(n,t,[0,0,1]),r.mat4.multiply(c,n,c)},g=t=>{!t||t.length<16||(c=t)};return d(t,n,e),{get translation(){return r.mat4.getTranslation(a,c).slice(0,2)},get target(){return r.vec4.transformMat4(a,s,r.mat4.invert(f,c)).slice(0,2)},get scaling(){return h()},get scaleBounds(){return[...l]},get distance(){return 1/h()},get rotation(){return Math.acos(c[0])},get view(){return c},get viewCenter(){return s.slice(0,2)},lookAt:d,translate:p,pan:p,rotate:m,scale:v,zoom:v,reset:()=>{d(t,n,e)},set:(...t)=>(console.warn("Deprecated. Please use `setView()` instead."),g(...t)),setScaleBounds:t=>{l[0]=t[0],l[1]=t[1]},setView:g,setViewCenter:t=>{s=[...t.slice(0,2),0,1]}}};var o=(t,{distance:n=1,target:e=[0,0],rotation:o=0,isNdc:a=!0,isFixed:u=!1,isPan:f=!0,panSpeed:c=1,isRotate:s=!0,rotateSpeed:l=1,isZoom:h=!0,zoomSpeed:d=1,viewCenter:p=null,scaleBounds:v=null,onKeyDown:m=(()=>{}),onKeyUp:g=(()=>{}),onMouseDown:y=(()=>{}),onMouseUp:b=(()=>{}),onMouseMove:_=(()=>{}),onWheel:x=(()=>{})}={})=>{let w=i(e,n,o),M=!1,A=0,E=0,T=0,S=0,k=!1,C=0,z=0,O=0,N=1,D=1,P=1,j=!1;const L=a?t=>t/N*2*P:t=>t,R=a?t=>t/D*2:t=>-t,B=a?t=>(t/N*2-1)*P:t=>t,F=a?t=>1-t/D*2:t=>t,I=()=>{const n=t.getBoundingClientRect();z=n.top,O=n.left,N=n.width,D=n.height,P=N/D},U=t=>{j=!1,g(t)},q=t=>{j=t.altKey,m(t)},Y=t=>{k=!1,b(t)},W=t=>{k=1===t.buttons,y(t)},H=t=>{T=A,S=E,A=t.clientX-O,E=t.clientY-z,I(),_(t)},G=t=>{t.preventDefault();const n=1===t.deltaMode?12:1;C+=n*(t.deltaY||0),x(t)};return window.addEventListener("keydown",q,{passive:!0}),window.addEventListener("keyup",U,{passive:!0}),t.addEventListener("mousedown",W,{passive:!0}),window.addEventListener("mouseup",Y,{passive:!0}),window.addEventListener("mousemove",H,{passive:!0}),t.addEventListener("wheel",G,{passive:!1}),I(),w.config=({isFixed:t=null,isPan:n=null,isRotate:e=null,isZoom:r=null,panSpeed:i=null,rotateSpeed:o=null,zoomSpeed:a=null}={})=>{u=null!==t?t:u,f=null!==n?n:f,s=null!==e?e:s,h=null!==r?r:h,c=+i>0?i:c,l=+o>0?o:l,d=+a>0?a:d},w.dispose=()=>{w=void 0,window.removeEventListener("keydown",q),window.removeEventListener("keyup",U),t.removeEventListener("mousedown",W),window.removeEventListener("mouseup",Y),window.removeEventListener("mousemove",H),t.removeEventListener("wheel",G)},w.refresh=I,w.tick=()=>{if(u)return!1;if(M=!1,f&&k&&!j&&(w.pan([L(c*(A-T)),R(c*(S-E))]),M=!0),h&&C){const t=d*Math.exp(C/D),n=B(A),e=F(E);w.scale(1/t,[n,e]),M=!0}if(s&&k&&j){const t=N/2,n=D/2,e=T-t,i=n-S,o=A-t,a=n-E,u=r.vec2.angle([e,i],[o,a]),f=e*a-o*i;w.rotate(l*u*Math.sign(f)),M=!0}return C=0,T=A,S=E,M},w};n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createDrawPoints=void 0;var r=o(e(20)),i=o(e(21));function o(t){return t&&t.__esModule?t:{default:t}}let a=new Image,u=new Image;u.src=i.default,a.src=r.default;n.createDrawPoints=(t,n)=>{let e={};var r=t.texture({shape:[16,16]});let i=[r,r];return a.onload=()=>{i[0]=t.texture({premultiplyAlpha:!0,data:a})},a.complete&&a.onload(),u.onload=()=>{i[1]=t.texture(u)},u.complete&&u.onload(),e.attributes={pos:{buffer:()=>n.position,size:4},color:{buffer:()=>n.color,size:3},stateIndex:{buffer:()=>n.stateIndex,size:3}},t({frag:"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\nprecision mediump float;\n\nuniform vec2 selection;\nuniform sampler2D texture;\nuniform sampler2D texture2;\n\n\nvarying vec4 vColor;\nvarying vec3 borderColor;\nvarying float uv;\nuniform vec2 resolution;\nuniform float time;\n\nfloat aastep(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif\n}\n\nvoid main() {\n  float r = 0.0, delta = 0.0, alpha = 1.0;\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n  r = dot(cxy, cxy);\n\n  #ifdef GL_OES_standard_derivatives\n    delta = fwidth( r);\n    alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  #endif\n\n  float vSize = 1.0;\n  float uEdgeSize = 2.;\n  float distance = length(2.0 * gl_PointCoord - 1.0);\n\n\n  float sEdge = smoothstep(\n      vSize - uEdgeSize - 2.0,\n      vSize - uEdgeSize,\n      distance * (vSize + uEdgeSize)\n  );\n  gl_FragColor = vColor;\n  distance = aastep(.5, distance);\n\n\n\n  if (uv == -1.)\n    gl_FragColor = texture2D(texture2, gl_PointCoord);\n  else\n  gl_FragColor.a *=  1. - distance;\n\n}\n",vert:"\nprecision mediump float;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\n\n\nuniform float pointSize;\nuniform float scaling;\nuniform float sizeAttenuation;\n\nattribute vec4 pos;\nattribute vec3 color;\n//cluster, visiblity, texture\nattribute vec3 stateIndex;\nattribute float dates;\nattribute float sentiment;\nattribute vec2 offset;\n\nuniform float ceiling;\n\nuniform float hoveredPoint;\nuniform vec2 dimensions;\n\nuniform float selectedCluster;\n\nuniform bool flatSize;\nuniform float showFavorites;\nuniform float selectedPoint;\n\n\n// variables to send to the fragment shader\nvarying vec4 vColor;\nvarying vec3 borderColor;\nvarying float uv;\n\nvoid main() {\n  vec2 position = pos.xy ;/// dimensions;\n  uv = ((stateIndex.z < 0. && showFavorites < 0.) || showFavorites == pos.w)? -1. : 0.;\n\n  gl_Position = projection * view * vec4(position.xy, 0.0, 1.);\n\n  vColor = vec4(color, 1);\n\n  float finalScaling = 2.;\n  finalScaling += 2. + pow(pos.z, scaling * 1.);\n\n  gl_PointSize = min(pointSize + (exp(log(finalScaling)*sizeAttenuation * .01)), ceiling);\n  if (uv == -1.) gl_PointSize = 50.;\n\n  vColor.a = .5;\n  if ( (stateIndex[1] == -20.)) vColor.a = .05;\n  if ( (stateIndex[1] == -10.)) vColor.a = .75;\n  if ( (pos.w == selectedPoint)) vColor.a = 1.;\n\n  if ( (stateIndex[1] == 0.)) vColor.a = .0;\n\n  if (pos.w == hoveredPoint) vColor.a = 1.;\n  if (pos.w == hoveredPoint) gl_Position.z = -1.; // reset depth buffer\n  if (pos.w == hoveredPoint) gl_PointSize *= 5.;\n  else if ( (stateIndex[1] == 10.)) gl_PointSize *= 3.;\n  if ( (pos.w == selectedPoint)) gl_PointSize *= 3.;\n\n}\n",depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:1,dstRGB:"one minus src alpha",dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},attributes:e.attributes,uniforms:{showFavorites:(t,n)=>n.showFavorites||-10,pointSize:t.prop("pointSize"),ceiling:(t,n)=>n.ceiling,time:t=>console.log(t.time)||t.time,resolution:[innerWidth,innerHeight],hoveredPoint:(t,n)=>n.hoveredPoint,dimensions:[window.innerWidth,window.innerHeight],projection:t.prop("projection"),model:t.prop("model"),view:(t,n)=>n.camera.view,scaling:t.prop("scaling"),sizeAttenuation:t.prop("sizeAttenuation"),flatSize:t.prop("flatSize"),selectedPoint:t.prop("selectedPoint"),texture:()=>i[0],texture2:()=>i[1]},count:n.position.length,primitive:"points"})}},function(t,n,e){"use strict";e.r(n),n.default=e.p+"6a3ae491628504225e0245d79b619515.png"},function(t,n,e){"use strict";e.r(n),n.default=e.p+"8fec20b77c2b6fde68c48cf54f7b14d0.png"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.toRgba=n.normNumArray=n.min=n.max=n.isRgba=n.isRgb=n.isUint8Array=n.isUint8=n.isString=n.isPointInPolygon=n.isNormFloatArray=n.isNormFloat=n.isHex=n.hexToRgba=n.createTextureFromUrl=n.loadImage=n.hexToRgb=n.getBBox=n.dist=n.createRegl=n.checkReglExtensions=n.arrayMax=void 0;var r,i=(r=e(23))&&r.__esModule?r:{default:r},o=e(4);const a=(t,n)=>t>n?t:n;n.arrayMax=a;n.checkReglExtensions=t=>!!t&&o.GL_EXTENSIONS.reduce((n,e)=>t.hasExtension(e)?n:(console.warn(`WebGL: ${e} extension not supported. Scatterplot might not render properly`),!1),!0);n.createRegl=t=>(0,i.default)({extensions:o.GL_EXTENSIONS,canvas:t,profile:!0,attributes:{preserveDrawingBuffer:!1}});n.dist=(t,n,e,r)=>Math.sqrt((t-e)**2+(n-r)**2);n.getBBox=t=>{let n=1/0,e=-1/0,r=1/0,i=-1/0;for(let o=0;o<t.length;o+=2)n=t[o]<n?t[o]:n,e=t[o]>e?t[o]:e,r=t[o+1]<r?t[o+1]:r,i=t[o+1]>i?t[o+1]:i;return[n,r,e,i]};const u=(t,n=!1)=>t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,n,e,r)=>`#${n}${n}${e}${e}${r}${r}`).substring(1).match(/.{2}/g).map(t=>parseInt(t,16)/255**n);n.hexToRgb=u;const f=(t,n=!1)=>new Promise((e,r)=>{const i=new Image;n&&(i.crossOrigin="anonymous"),i.src=t,i.onload=()=>{e(i)},i.onerror=t=>{r(t)}});n.loadImage=f;n.createTextureFromUrl=(t,n,e=!1)=>new Promise((r,i)=>{f(n,e).then(n=>{r(t.texture(n))}).catch(t=>{i(t)})});const c=(t,n=!1)=>[...u(t,n),255**!n];n.hexToRgba=c;const s=t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);n.isHex=s;const l=t=>t>=0&&t<=1;n.isNormFloat=l;const h=t=>Array.isArray(t)&&t.every(l);n.isNormFloatArray=h;n.isPointInPolygon=([t,n]=[],e)=>{let r,i,o,a,u=!1;for(let f=0,c=e.length-2;f<e.length;f+=2)r=e[f],i=e[f+1],o=e[c],a=e[c+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(u=!u),c=f;return u};n.isString=t=>"string"==typeof t||t instanceof String;const d=t=>Number.isInteger(t)&&t>=0&&t<=255;n.isUint8=d;const p=t=>Array.isArray(t)&&t.every(d);n.isUint8Array=p;const v=t=>3===t.length&&(h(t)||p(t));n.isRgb=v;const m=t=>4===t.length&&(h(t)||p(t));n.isRgba=m;n.max=(t,n)=>t>n?t:n;n.min=(t,n)=>t<n?t:n;const g=t=>t.map(n=>n/t.reduce(a,-1/0));n.normNumArray=g;n.toRgba=(t,n)=>m(t)?n&&!h(t)?g(t):t:v(t)?[...n?g(t):t,255**!n]:s(t)?c(t,n):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),n?[1,1,1,1]:[255,255,255,255]);let y={getQuadraticControlPoint:function(t,n,e,r){return{x:(t+e)/2+(r-n)/4,y:(n+r)/2+(t-e)/4}},getPointOnQuadraticCurve:function(t,n,e,r,i,o,a){return{x:Math.pow(1-t,2)*n+2*(1-t)*t*o+Math.pow(t,2)*r,y:Math.pow(1-t,2)*e+2*(1-t)*t*a+Math.pow(t,2)*i}},getPointOnBezierCurve:function(t,n,e,r,i,o,a,u,f){var c=Math.pow(1-t,3),s=3*t*Math.pow(1-t,2),l=3*Math.pow(t,2)*(1-t),h=Math.pow(t,3);return{x:c*n+s*o+l*u+h*r,y:c*e+s*a+l*f+h*i}},getSelfLoopControlPoints:function(t,n,e){return{x1:t-7*e,y1:n,x2:t,y2:n+7*e}},getDistance:function(t,n,e,r){return Math.sqrt(Math.pow(e-t,2)+Math.pow(r-n,2))},getCircleIntersection:function(t,n,e,r,i,o){var a,u,f,c,s,l,h,d,p;return u=r-t,f=i-n,!((c=Math.sqrt(f*f+u*u))>e+o)&&(!(c<Math.abs(e-o))&&(p=n+f*(a=(e*e-o*o+c*c)/(2*c))/c,{xi:(d=t+u*a/c)+(l=(s=Math.sqrt(e*e-a*a))/c*-f),xi_prime:d-l,yi:p+(h=u*(s/c)),yi_prime:p-h}))},isPointOnSegment:function(t,n,e,r,i,o,a){return Math.abs((n-r)*(i-e)-(t-e)*(o-r))/sigma.utils.getDistance(e,r,i,o)<a&&Math.min(e,i)<=t&&t<=Math.max(e,i)&&Math.min(r,o)<=n&&n<=Math.max(r,o)},isPointOnQuadraticCurve:function(t,n,e,r,i,o,a,u,f){var c=sigma.utils.getDistance(e,r,i,o);if(Math.abs(t-e)>c||Math.abs(n-r)>c)return!1;for(var s,l=.5,h=sigma.utils.getDistance(t,n,e,r)<sigma.utils.getDistance(t,n,i,o)?-.01:.01,d=100,p=sigma.utils.getPointOnQuadraticCurve(l,e,r,i,o,a,u),v=sigma.utils.getDistance(t,n,p.x,p.y);d-- >0&&l>=0&&l<=1&&v>f&&(h>.001||h<-.001);)s=v,p=sigma.utils.getPointOnQuadraticCurve(l,e,r,i,o,a,u),(v=sigma.utils.getDistance(t,n,p.x,p.y))>s?l+=h=-h/2:l+h<0||l+h>1?(h/=2,v=s):l+=h;return v<f},isPointOnBezierCurve:function(t,n,e,r,i,o,a,u,f,c,s){var l=sigma.utils.getDistance(e,r,a,u);if(Math.abs(t-e)>l||Math.abs(n-r)>l)return!1;for(var h,d=.5,p=sigma.utils.getDistance(t,n,e,r)<sigma.utils.getDistance(t,n,i,o)?-.01:.01,v=100,m=sigma.utils.getPointOnBezierCurve(d,e,r,i,o,a,u,f,c),g=sigma.utils.getDistance(t,n,m.x,m.y);v-- >0&&d>=0&&d<=1&&g>s&&(p>.001||p<-.001);)h=g,m=sigma.utils.getPointOnBezierCurve(d,e,r,i,o,a,u,f,c),(g=sigma.utils.getDistance(t,n,m.x,m.y))>h?d+=p=-p/2:d+p<0||d+p>1?(p/=2,g=h):d+=p;return g<s}};var b=y;n.default=b},function(t,n,e){t.exports=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},n=function(t,n){for(var e=Object.keys(n),r=0;r<e.length;++r)t[e[r]]=n[e[r]];return t};function e(t){var n=new Error("(regl) "+t);throw console.error(n),n}function r(t,n){t||e(n)}function i(t){return t?": "+t:""}function o(t,n,r){n.indexOf(t)<0&&e("invalid value"+i(r)+". must be one of: "+n)}var a=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function u(t,n){for(t+="";t.length<n;)t=" "+t;return t}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function c(t,n){this.number=t,this.line=n,this.errors=[]}function s(t,n,e){this.file=t,this.line=n,this.message=e}function l(){var t=new Error,n=(t.stack||t).toString(),e=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(n);return r?r[1]:"unknown"}function h(){var t=new Error,n=(t.stack||t).toString(),e=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(n);if(e)return e[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(n);return r?r[1]:"unknown"}function d(t,n){var e,r=t.split("\n"),i=1,o=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=n||l(),a.unknown.lines.push(new c(0,""));for(var u=0;u<r.length;++u){var s=r[u],h=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(s);if(h)switch(h[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(h[2]);d&&(i=0|d[1],d[2]&&((o=0|d[2])in a||(a[o]=new f)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(h[2]);p&&(a[o].name=p[1]?(e=p[2],"undefined"!=typeof atob?atob(e):"base64:"+e):p[2])}a[o].lines.push(new c(i++,s))}return Object.keys(a).forEach((function(t){var n=a[t];n.lines.forEach((function(t){n.index[t.number]=t}))})),a}function p(t){t._commandRef=l()}function v(t,n){var r=h();e(t+" in command "+(n||l())+("unknown"===r?"":" called from "+r))}function m(t,n,e,r){typeof t!==n&&v("invalid parameter type"+i(e)+". expected "+n+", got "+typeof t,r||l())}var g={};function y(t,n){return 32820===t||32819===t||33635===t?2:34042===t?4:g[t]*n}function b(t){return!(t&t-1||!t)}g[5120]=g[5121]=1,g[5122]=g[5123]=g[36193]=g[33635]=g[32819]=g[32820]=2,g[5124]=g[5125]=g[5126]=g[34042]=4;var _=n(r,{optional:function(t){t()},raise:e,commandRaise:v,command:function(t,n,e){t||v(n,e||l())},parameter:function(t,n,r){t in n||e("unknown parameter ("+t+")"+i(r)+". possible values: "+Object.keys(n).join())},commandParameter:function(t,n,e,r){t in n||v("unknown parameter ("+t+")"+i(e)+". possible values: "+Object.keys(n).join(),r||l())},constructor:function(t){Object.keys(t).forEach((function(t){a.indexOf(t)<0&&e('invalid regl constructor argument "'+t+'". must be one of '+a)}))},type:function(t,n,r){typeof t!==n&&e("invalid parameter type"+i(r)+". expected "+n+", got "+typeof t)},commandType:m,isTypedArray:function(n,r){t(n)||e("invalid parameter type"+i(r)+". must be a typed array")},nni:function(t,n){t>=0&&(0|t)===t||e("invalid parameter type, ("+t+")"+i(n)+". must be a nonnegative integer")},oneOf:o,shaderError:function(t,n,e,i,o){if(!t.getShaderParameter(n,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(n),f=i===t.FRAGMENT_SHADER?"fragment":"vertex";m(e,"string",f+" shader source must be a string",o);var c=d(e,o),l=function(t){var n=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var e=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);e?n.push(new s(0|e[1],0|e[2],e[3].trim())):t.length>0&&n.push(new s("unknown",0,t))}})),n}(a);!function(t,n){n.forEach((function(n){var e=t[n.file];if(e){var r=e.index[n.line];if(r)return r.errors.push(n),void(e.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(n)}))}(c,l),Object.keys(c).forEach((function(t){var n=c[t];if(n.hasErrors){var e=[""],r=[""];i("file number "+t+": "+n.name+"\n","color:red;text-decoration:underline;font-weight:bold"),n.lines.forEach((function(t){if(t.errors.length>0){i(u(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(t.line+"\n","color:red; background-color:yellow; font-weight:bold");var n=0;t.errors.forEach((function(e){var r=e.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(r);if(o){var a=o[1];switch(r=o[2],a){case"assign":a="="}n=Math.max(t.line.indexOf(a,n),0)}else n=0;i(u("| ",6)),i(u("^^^",n+3)+"\n","font-weight:bold"),i(u("| ",6)),i(r+"\n","font-weight:bold")})),i(u("| ",6)+"\n")}else i(u(t.number,4)+"|  "),i(t.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(e.join("")):(r[0]=e.join("%c"),console.log.apply(console,r))}function i(t,n){e.push(t),r.push(n||"")}})),r.raise("Error compiling "+f+" shader, "+c[0].name)}},linkError:function(t,n,e,i,o){if(!t.getProgramParameter(n,t.LINK_STATUS)){var a=t.getProgramInfoLog(n),u=d(e,o),f='Error linking program with vertex shader, "'+d(i,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+f+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(f+"\n"+a),r.raise(f)}},callSite:h,saveCommandRef:p,saveDrawInfo:function(t,n,e,r){function i(t){return t?r.id(t):0}function o(t,n){Object.keys(n).forEach((function(n){t[r.id(n)]=!0}))}p(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,n.static),o(a,n.dynamic);var u=t._attributeSet={};o(u,e.static),o(u,e.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,n,e){t.texture?o(t.texture._texture.internalformat,n,"unsupported texture format for attachment"):o(t.renderbuffer._renderbuffer.format,e,"unsupported renderbuffer format for attachment")},guessCommand:l,texture2D:function(t,n,e){var i,o=n.width,a=n.height,u=n.channels;r(o>0&&o<=e.maxTextureSize&&a>0&&a<=e.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(b(o)&&b(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===n.mipmask?1!==o&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(b(o)&&b(a),"texture must be a square power of 2 to support mipmapping"),r(n.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),5126===n.type&&(e.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var f=n.images;for(i=0;i<16;++i)if(f[i]){var c=o>>i,s=a>>i;r(n.mipmask&1<<i,"missing mipmap data");var l=f[i];if(r(l.width===c&&l.height===s,"invalid shape for mip images"),r(l.format===n.format&&l.internalformat===n.internalformat&&l.type===n.type,"incompatible type for mip image"),l.compressed);else if(l.data){var h=Math.ceil(y(l.type,u)*c/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===h*s,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(n.mipmask&1<<i),"extra mipmap data");n.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,n,e,i){var o=t.width,a=t.height,u=t.channels;r(o>0&&o<=i.maxTextureSize&&a>0&&a<=i.maxTextureSize,"invalid texture shape"),r(o===a,"cube map must be square"),r(33071===n.wrapS&&33071===n.wrapT,"wrap mode not supported by cube map");for(var f=0;f<e.length;++f){var c=e[f];r(c.width===o&&c.height===a,"inconsistent cube map face shape"),n.genMipmaps&&(r(!c.compressed,"can not generate mipmap for compressed textures"),r(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var s=c.images,l=0;l<16;++l){var h=s[l];if(h){var d=o>>l,p=a>>l;r(c.mipmask&1<<l,"missing mipmap data"),r(h.width===d&&h.height===p,"invalid shape for mip images"),r(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?r(h.data.byteLength===d*p*Math.max(y(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),x=0;function w(t,n){this.id=x++,this.type=t,this.data=n}function M(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function A(t){return"["+function t(n){if(0===n.length)return[];var e=n.charAt(0),r=n.charAt(n.length-1);if(n.length>1&&e===r&&('"'===e||"'"===e))return['"'+M(n.substr(1,n.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(n);if(i)return t(n.substr(0,i.index)).concat(t(i[1])).concat(t(n.substr(i.index+i[0].length)));var o=n.split(".");if(1===o.length)return['"'+M(n)+'"'];for(var a=[],u=0;u<o.length;++u)a=a.concat(t(o[u]));return a}(t).join("][")+"]"}var E={DynamicVariable:w,define:function(t,n){return new w(t,A(n+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof w},unbox:function(t,n){return"function"==typeof t?new w(0,t):t},accessor:A},T={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},S="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function k(t){return"string"==typeof t?t.split():(_(Array.isArray(t),"invalid extension array"),t)}function C(t){return"string"==typeof t?(_("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function z(t){var e,r,i,o,a,u=t||{},f={},c=[],s=[],l="undefined"==typeof window?1:window.devicePixelRatio,h=!1,d=function(t){t&&_.raise(t)},p=function(){};if("string"==typeof u?(_("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(u),_(e,"invalid query string for element")):"object"==typeof u?"string"==typeof(a=u).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?e=u:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(u)?i=(o=u).canvas:(_.constructor(u),"gl"in u?o=u.gl:"canvas"in u?i=C(u.canvas):"container"in u&&(r=C(u.container)),"attributes"in u&&(f=u.attributes,_.type(f,"object","invalid context attributes")),"extensions"in u&&(c=k(u.extensions)),"optionalExtensions"in u&&(s=k(u.optionalExtensions)),"onDone"in u&&(_.type(u.onDone,"function","invalid or missing onDone callback"),d=u.onDone),"profile"in u&&(h=!!u.profile),"pixelRatio"in u&&(l=+u.pixelRatio,_(l>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?i=e:r=e),!o){if(!i){_("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var v=function(t,e,r){var i=document.createElement("canvas");function o(){var e=window.innerWidth,o=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();e=a.right-a.left,o=a.bottom-a.top}i.width=r*e,i.height=r*o,n(i.style,{width:e+"px",height:o+"px"})}return n(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",n(t.style,{margin:0,padding:0})),window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",o),t.removeChild(i)}}}(r||document.body,0,l);if(!v)return null;i=v.canvas,p=v.onDestroy}o=function(t,n){function e(e){try{return t.getContext(e,n)}catch(t){return null}}return e("webgl")||e("experimental-webgl")||e("webgl-experimental")}(i,f)}return o?{gl:o,canvas:i,container:r,extensions:c,optionalExtensions:s,pixelRatio:l,profile:h,onDone:d,onDestroy:p}:(p(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function O(t,n){for(var e=Array(t),r=0;r<t;++r)e[r]=n(r);return e}function N(t){var n,e;return n=(t>65535)<<4,n|=e=((t>>>=n)>255)<<3,n|=e=((t>>>=e)>15)<<2,(n|=e=((t>>>=e)>3)<<1)|(t>>>=e)>>1}function D(){var t=O(8,(function(){return[]}));function n(n){var e=function(t){for(var n=16;n<=1<<28;n*=16)if(t<=n)return n;return 0}(n),r=t[N(e)>>2];return r.length>0?r.pop():new ArrayBuffer(e)}function e(n){t[N(n.byteLength)>>2].push(n)}return{alloc:n,free:e,allocType:function(t,e){var r=null;switch(t){case 5120:r=new Int8Array(n(e),0,e);break;case 5121:r=new Uint8Array(n(e),0,e);break;case 5122:r=new Int16Array(n(2*e),0,e);break;case 5123:r=new Uint16Array(n(2*e),0,e);break;case 5124:r=new Int32Array(n(4*e),0,e);break;case 5125:r=new Uint32Array(n(4*e),0,e);break;case 5126:r=new Float32Array(n(4*e),0,e);break;default:return null}return r.length!==e?r.subarray(0,e):r},freeType:function(t){e(t.buffer)}}}var P=D();function j(n){return!!n&&"object"==typeof n&&Array.isArray(n.shape)&&Array.isArray(n.stride)&&"number"==typeof n.offset&&n.shape.length===n.stride.length&&(Array.isArray(n.data)||t(n.data))}P.zero=D();var L=function(t){return Object.keys(t).map((function(n){return t[n]}))},R={shape:function(t){for(var n=[],e=t;e.length;e=e[0])n.push(e.length);return n},flatten:function(t,n,e,r){var i=1;if(n.length)for(var o=0;o<n.length;++o)i*=n[o];else i=0;var a=r||P.allocType(e,i);switch(n.length){case 0:break;case 1:!function(t,n,e){for(var r=0;r<n;++r)e[r]=t[r]}(t,n[0],a);break;case 2:!function(t,n,e,r){for(var i=0,o=0;o<n;++o)for(var a=t[o],u=0;u<e;++u)r[i++]=a[u]}(t,n[0],n[1],a);break;case 3:B(t,n[0],n[1],n[2],a,0);break;default:!function t(n,e,r,i,o){for(var a=1,u=r+1;u<e.length;++u)a*=e[u];var f=e[r];if(e.length-r==4){var c=e[r+1],s=e[r+2],l=e[r+3];for(u=0;u<f;++u)B(n[u],c,s,l,i,o),o+=a}else for(u=0;u<f;++u)t(n[u],e,r+1,i,o),o+=a}(t,n,0,a,0)}return a}};function B(t,n,e,r,i,o){for(var a=o,u=0;u<n;++u)for(var f=t[u],c=0;c<e;++c)for(var s=f[c],l=0;l<r;++l)i[a++]=s[l]}var F={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},I={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},U={dynamic:35048,stream:35040,static:35044},q=R.flatten,Y=R.shape,W=[];function H(t){return 0|F[Object.prototype.toString.call(t)]}function G(t,n){for(var e=0;e<n.length;++e)t[e]=n[e]}function V(t,n,e,r,i,o,a){for(var u=0,f=0;f<e;++f)for(var c=0;c<r;++c)t[u++]=n[i*f+o*c+a]}W[5120]=1,W[5122]=2,W[5124]=4,W[5121]=1,W[5123]=2,W[5125]=4,W[5126]=4;var X={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$=new Float32Array(1),Q=new Uint32Array($.buffer);function Z(t){for(var n=P.allocType(5123,t.length),e=0;e<t.length;++e)if(isNaN(t[e]))n[e]=65535;else if(t[e]===1/0)n[e]=31744;else if(t[e]===-1/0)n[e]=64512;else{$[0]=t[e];var r=Q[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)n[e]=i;else if(o<-14){var u=-14-o;n[e]=i+(a+1024>>u)}else n[e]=o>15?i+31744:i+(o+15<<10)+a}return n}function K(n){return Array.isArray(n)||t(n)}var J=function(t){return!(t&t-1||!t)},tt=[9984,9986,9985,9987],nt=[0,6409,6410,6407,6408],et={};function rt(t){return"[object "+t+"]"}et[6409]=et[6406]=et[6402]=1,et[34041]=et[6410]=2,et[6407]=et[35904]=3,et[6408]=et[35906]=4;var it=rt("HTMLCanvasElement"),ot=rt("CanvasRenderingContext2D"),at=rt("ImageBitmap"),ut=rt("HTMLImageElement"),ft=rt("HTMLVideoElement"),ct=Object.keys(F).concat([it,ot,at,ut,ft]),st=[];st[5121]=1,st[5126]=4,st[36193]=2,st[5123]=2,st[5125]=4;var lt=[];function ht(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function dt(t){return!!Array.isArray(t)&&!(0===t.length||!K(t[0]))}function pt(t){return Object.prototype.toString.call(t)}function vt(t){return pt(t)===it}function mt(t){if(!t)return!1;var n=pt(t);return ct.indexOf(n)>=0||ht(t)||dt(t)||j(t)}function gt(t){return 0|F[Object.prototype.toString.call(t)]}function yt(t,n){return P.allocType(36193===t.type?5126:t.type,n)}function bt(t,n){36193===t.type?(t.data=Z(n),P.freeType(n)):t.data=n}function _t(t,n,e,r,i,o){var a;if(a=void 0!==lt[t]?lt[t]:et[t]*st[n],o&&(a*=6),i){for(var u=0,f=e;f>=1;)u+=a*f*f,f/=2;return u}return a*e*r}function xt(e,r,i,o,a,u,f){var c={"don't care":4352,"dont care":4352,nice:4354,fast:4353},s={repeat:10497,clamp:33071,mirror:33648},l={nearest:9728,linear:9729},h=n({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},l),d={none:0,browser:37444},p={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},v={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},m={};r.ext_srgb&&(v.srgb=35904,v.srgba=35906),r.oes_texture_float&&(p.float32=p.float=5126),r.oes_texture_half_float&&(p.float16=p["half float"]=36193),r.webgl_depth_texture&&(n(v,{depth:6402,"depth stencil":34041}),n(p,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&n(m,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&n(m,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&n(m,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=36196);var g=Array.prototype.slice.call(e.getParameter(34467));Object.keys(m).forEach((function(t){var n=m[t];g.indexOf(n)>=0&&(v[t]=n)}));var y=Object.keys(v);i.textureFormats=y;var b=[];Object.keys(v).forEach((function(t){var n=v[t];b[n]=t}));var x=[];Object.keys(p).forEach((function(t){var n=p[t];x[n]=t}));var w=[];Object.keys(l).forEach((function(t){w[l[t]]=t}));var M=[];Object.keys(h).forEach((function(t){var n=h[t];M[n]=t}));var A=[];Object.keys(s).forEach((function(t){A[s[t]]=t}));var E=y.reduce((function(t,n){var e=v[n];return 6409===e||6406===e||6409===e||6410===e||6402===e||34041===e?t[e]=e:32855===e||n.indexOf("rgba")>=0?t[e]=6408:t[e]=6407,t}),{});function T(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function S(t,n){t.internalformat=n.internalformat,t.format=n.format,t.type=n.type,t.compressed=n.compressed,t.premultiplyAlpha=n.premultiplyAlpha,t.flipY=n.flipY,t.unpackAlignment=n.unpackAlignment,t.colorSpace=n.colorSpace,t.width=n.width,t.height=n.height,t.channels=n.channels}function k(t,n){if("object"==typeof n&&n){if("premultiplyAlpha"in n&&(_.type(n.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=n.premultiplyAlpha),"flipY"in n&&(_.type(n.flipY,"boolean","invalid texture flip"),t.flipY=n.flipY),"alignment"in n&&(_.oneOf(n.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=n.alignment),"colorSpace"in n&&(_.parameter(n.colorSpace,d,"invalid colorSpace"),t.colorSpace=d[n.colorSpace]),"type"in n){var e=n.type;_(r.oes_texture_float||!("float"===e||"float32"===e),"you must enable the OES_texture_float extension in order to use floating point textures."),_(r.oes_texture_half_float||!("half float"===e||"float16"===e),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(r.webgl_depth_texture||!("uint16"===e||"uint32"===e||"depth stencil"===e),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(e,p,"invalid texture type"),t.type=p[e]}var o=t.width,a=t.height,u=t.channels,f=!1;"shape"in n?(_(Array.isArray(n.shape)&&n.shape.length>=2,"shape must be an array"),o=n.shape[0],a=n.shape[1],3===n.shape.length&&(u=n.shape[2],_(u>0&&u<=4,"invalid number of channels"),f=!0),_(o>=0&&o<=i.maxTextureSize,"invalid width"),_(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in n&&(o=a=n.radius,_(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in n&&(o=n.width,_(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in n&&(a=n.height,_(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in n&&(u=n.channels,_(u>0&&u<=4,"invalid number of channels"),f=!0)),t.width=0|o,t.height=0|a,t.channels=0|u;var c=!1;if("format"in n){var s=n.format;_(r.webgl_depth_texture||!("depth"===s||"depth stencil"===s),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(s,v,"invalid texture format");var l=t.internalformat=v[s];t.format=E[l],s in p&&("type"in n||(t.type=p[s])),s in m&&(t.compressed=!0),c=!0}!f&&c?t.channels=et[t.format]:f&&!c?t.channels!==nt[t.format]&&(t.format=t.internalformat=nt[t.channels]):c&&f&&_(t.channels===et[t.format],"number of channels inconsistent with specified format")}}function C(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function z(){T.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function O(n,e){var r=null;if(mt(e)?r=e:e&&(_.type(e,"object","invalid pixel data type"),k(n,e),"x"in e&&(n.xOffset=0|e.x),"y"in e&&(n.yOffset=0|e.y),mt(e.data)&&(r=e.data)),_(!n.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){_(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,u=a.viewportHeight;n.width=n.width||o-n.xOffset,n.height=n.height||u-n.yOffset,n.needsCopy=!0,_(n.xOffset>=0&&n.xOffset<o&&n.yOffset>=0&&n.yOffset<u&&n.width>0&&n.width<=o&&n.height>0&&n.height<=u,"copy texture read out of bounds")}else if(r){if(t(r))n.channels=n.channels||4,n.data=r,"type"in e||5121!==n.type||(n.type=gt(r));else if(ht(r))n.channels=n.channels||4,function(t,n){var e=n.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=P.allocType(t.type,e);r.set(n),t.data=r;break;case 36193:t.data=Z(n);break;default:_.raise("unsupported texture type, must specify a typed array")}}(n,r),n.alignment=1,n.needsFree=!0;else if(j(r)){var f=r.data;Array.isArray(f)||5121!==n.type||(n.type=gt(f));var c,s,l,h,d,p,v=r.shape,m=r.stride;3===v.length?(l=v[2],p=m[2]):(_(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),c=v[0],s=v[1],h=m[0],d=m[1],n.alignment=1,n.width=c,n.height=s,n.channels=l,n.format=n.internalformat=nt[l],n.needsFree=!0,function(t,n,e,r,i,o){for(var a=t.width,u=t.height,f=t.channels,c=yt(t,a*u*f),s=0,l=0;l<u;++l)for(var h=0;h<a;++h)for(var d=0;d<f;++d)c[s++]=n[e*h+r*l+i*d+o];bt(t,c)}(n,f,h,d,p,r.offset)}else if(vt(r)||pt(r)===ot)vt(r)?n.element=r:n.element=r.canvas,n.width=n.element.width,n.height=n.element.height,n.channels=4;else if(function(t){return pt(t)===at}(r))n.element=r,n.width=r.width,n.height=r.height,n.channels=4;else if(function(t){return pt(t)===ut}(r))n.element=r,n.width=r.naturalWidth,n.height=r.naturalHeight,n.channels=4;else if(function(t){return pt(t)===ft}(r))n.element=r,n.width=r.videoWidth,n.height=r.videoHeight,n.channels=4;else if(dt(r)){var g=n.width||r[0].length,y=n.height||r.length,b=n.channels;b=K(r[0][0])?b||r[0][0].length:b||1;for(var x=R.shape(r),w=1,M=0;M<x.length;++M)w*=x[M];var A=yt(n,w);R.flatten(r,x,"",A),bt(n,A),n.alignment=1,n.width=g,n.height=y,n.channels=b,n.format=n.internalformat=nt[b],n.needsFree=!0}}else n.width=n.width||1,n.height=n.height||1,n.channels=n.channels||4;5126===n.type?_(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===n.type&&_(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function N(t,n,r){var i=t.element,a=t.data,u=t.internalformat,f=t.format,c=t.type,s=t.width,l=t.height,h=t.channels;if(C(t),i)e.texImage2D(n,r,f,f,c,i);else if(t.compressed)e.compressedTexImage2D(n,r,u,s,l,0,a);else if(t.needsCopy)o(),e.copyTexImage2D(n,r,f,t.xOffset,t.yOffset,s,l,0);else{var d=!a;d&&(a=P.zero.allocType(c,s*l*h)),e.texImage2D(n,r,f,s,l,0,f,c,a),d&&a&&P.zero.freeType(a)}}function D(t,n,r,i,a){var u=t.element,f=t.data,c=t.internalformat,s=t.format,l=t.type,h=t.width,d=t.height;C(t),u?e.texSubImage2D(n,a,r,i,s,l,u):t.compressed?e.compressedTexSubImage2D(n,a,r,i,c,h,d,f):t.needsCopy?(o(),e.copyTexSubImage2D(n,a,r,i,t.xOffset,t.yOffset,h,d)):e.texSubImage2D(n,a,r,i,h,d,s,l,f)}var B=[];function F(){return B.pop()||new z}function I(t){t.needsFree&&P.freeType(t.data),z.call(t),B.push(t)}function U(){T.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function q(t,n,e){var r=t.images[0]=F();t.mipmask=1,r.width=t.width=n,r.height=t.height=e,r.channels=t.channels=4}function Y(t,n){var e=null;if(mt(n))S(e=t.images[0]=F(),t),O(e,n),t.mipmask=1;else if(k(t,n),Array.isArray(n.mipmap))for(var r=n.mipmap,i=0;i<r.length;++i)S(e=t.images[i]=F(),t),e.width>>=i,e.height>>=i,O(e,r[i]),t.mipmask|=1<<i;else S(e=t.images[0]=F(),t),O(e,n),t.mipmask=1;S(t,t.images[0]),(t.compressed&&33776===t.internalformat||33777===t.internalformat||33778===t.internalformat||33779===t.internalformat)&&_(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function W(t,n){for(var e=t.images,r=0;r<e.length;++r){if(!e[r])return;N(e[r],n,r)}}var H=[];function G(){var t=H.pop()||new U;T.call(t),t.mipmask=0;for(var n=0;n<16;++n)t.images[n]=null;return t}function V(t){for(var n=t.images,e=0;e<n.length;++e)n[e]&&I(n[e]),n[e]=null;H.push(t)}function X(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function $(t,n){if("min"in n){var e=n.min;_.parameter(e,h),t.minFilter=h[e],tt.indexOf(t.minFilter)>=0&&!("faces"in n)&&(t.genMipmaps=!0)}if("mag"in n){var r=n.mag;_.parameter(r,l),t.magFilter=l[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in n){var u=n.wrap;"string"==typeof u?(_.parameter(u,s),o=a=s[u]):Array.isArray(u)&&(_.parameter(u[0],s),_.parameter(u[1],s),o=s[u[0]],a=s[u[1]])}else{if("wrapS"in n){var f=n.wrapS;_.parameter(f,s),o=s[f]}if("wrapT"in n){var d=n.wrapT;_.parameter(d,s),a=s[d]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in n){var p=n.anisotropic;_("number"==typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=n.anisotropic}if("mipmap"in n){var v=!1;switch(typeof n.mipmap){case"string":_.parameter(n.mipmap,c,"invalid mipmap hint"),t.mipmapHint=c[n.mipmap],t.genMipmaps=!0,v=!0;break;case"boolean":v=t.genMipmaps=n.mipmap;break;case"object":_(Array.isArray(n.mipmap),"invalid mipmap type"),t.genMipmaps=!1,v=!0;break;default:_.raise("invalid mipmap type")}!v||"min"in n||(t.minFilter=9984)}}function Q(t,n){e.texParameteri(n,10241,t.minFilter),e.texParameteri(n,10240,t.magFilter),e.texParameteri(n,10242,t.wrapS),e.texParameteri(n,10243,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,34046,t.anisotropic),t.genMipmaps&&(e.hint(33170,t.mipmapHint),e.generateMipmap(n))}var rt=0,it={},ct=i.maxTextureUnits,st=Array(ct).map((function(){return null}));function lt(t){T.call(this),this.mipmask=0,this.internalformat=6408,this.id=rt++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new X,f.profile&&(this.stats={size:0})}function xt(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function wt(){var t=st[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function Mt(t){var n=t.texture;_(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(33984+r),e.bindTexture(i,null),st[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete it[t.id],u.textureCount--}return n(lt.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var n=0;n<ct;++n){var r=st[n];if(r){if(r.bindCount>0)continue;r.unit=-1}st[n]=this,t=n;break}t>=ct&&_.raise("insufficient number of texture units"),f.profile&&u.maxTextureUnits<t+1&&(u.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Mt(this)}}),f.profile&&(u.getTotalTextureSize=function(){var t=0;return Object.keys(it).forEach((function(n){t+=it[n].stats.size})),t}),{create2D:function(t,n){var r=new lt(3553);function o(t,n){var e=r.texInfo;X.call(e);var a=G();return"number"==typeof t?q(a,0|t,"number"==typeof n?0|n:0|t):t?(_.type(t,"object","invalid arguments to regl.texture"),$(e,t),Y(a,t)):q(a,1,1),e.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,S(r,a),_.texture2D(e,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,xt(r),W(a,3553),Q(e,3553),wt(),V(a),f.profile&&(r.stats.size=_t(r.internalformat,r.type,a.width,a.height,e.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=w[e.magFilter],o.min=M[e.minFilter],o.wrapS=A[e.wrapS],o.wrapT=A[e.wrapT],o}return it[r.id]=r,u.textureCount++,o(t,n),o.subimage=function(t,n,e,i){_(!!t,"must specify image data");var a=0|n,u=0|e,f=0|i,c=F();return S(c,r),c.width=0,c.height=0,O(c,t),c.width=c.width||(r.width>>f)-a,c.height=c.height||(r.height>>f)-u,_(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),_(a>=0&&u>=0&&a+c.width<=r.width&&u+c.height<=r.height,"texture.subimage write out of bounds"),_(r.mipmask&1<<f,"missing mipmap data"),_(c.data||c.element||c.needsCopy,"missing image data"),xt(r),D(c,3553,a,u,f),wt(),I(c),o},o.resize=function(t,n){var i,a=0|t,u=0|n||a;if(a===r.width&&u===r.height)return o;o.width=r.width=a,o.height=r.height=u,xt(r);for(var c=r.channels,s=r.type,l=0;r.mipmask>>l;++l){var h=a>>l,d=u>>l;if(!h||!d)break;i=P.zero.allocType(s,h*d*c),e.texImage2D(3553,l,r.format,h,d,0,r.format,r.type,i),i&&P.zero.freeType(i)}return wt(),f.profile&&(r.stats.size=_t(r.internalformat,r.type,a,u,!1,!1)),o},o._reglType="texture2d",o._texture=r,f.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(t,n,r,o,a,c){var s=new lt(34067);it[s.id]=s,u.cubeCount++;var l=new Array(6);function h(t,n,e,r,o,a){var u,c=s.texInfo;for(X.call(c),u=0;u<6;++u)l[u]=G();if("number"!=typeof t&&t)if("object"==typeof t)if(n)Y(l[0],t),Y(l[1],n),Y(l[2],e),Y(l[3],r),Y(l[4],o),Y(l[5],a);else if($(c,t),k(s,t),"faces"in t){var d=t.faces;for(_(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),u=0;u<6;++u)_("object"==typeof d[u]&&!!d[u],"invalid input for cube map face"),S(l[u],s),Y(l[u],d[u])}else for(u=0;u<6;++u)Y(l[u],t);else _.raise("invalid arguments to cube map");else{var p=0|t||1;for(u=0;u<6;++u)q(l[u],p,p)}for(S(s,l[0]),i.npotTextureCube||_(J(s.width)&&J(s.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?s.mipmask=(l[0].width<<1)-1:s.mipmask=l[0].mipmask,_.textureCube(s,c,l,i),s.internalformat=l[0].internalformat,h.width=l[0].width,h.height=l[0].height,xt(s),u=0;u<6;++u)W(l[u],34069+u);for(Q(c,34067),wt(),f.profile&&(s.stats.size=_t(s.internalformat,s.type,h.width,h.height,c.genMipmaps,!0)),h.format=b[s.internalformat],h.type=x[s.type],h.mag=w[c.magFilter],h.min=M[c.minFilter],h.wrapS=A[c.wrapS],h.wrapT=A[c.wrapT],u=0;u<6;++u)V(l[u]);return h}return h(t,n,r,o,a,c),h.subimage=function(t,n,e,r,i){_(!!n,"must specify image data"),_("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|e,a=0|r,u=0|i,f=F();return S(f,s),f.width=0,f.height=0,O(f,n),f.width=f.width||(s.width>>u)-o,f.height=f.height||(s.height>>u)-a,_(s.type===f.type&&s.format===f.format&&s.internalformat===f.internalformat,"incompatible format for texture.subimage"),_(o>=0&&a>=0&&o+f.width<=s.width&&a+f.height<=s.height,"texture.subimage write out of bounds"),_(s.mipmask&1<<u,"missing mipmap data"),_(f.data||f.element||f.needsCopy,"missing image data"),xt(s),D(f,34069+t,o,a,u),wt(),I(f),h},h.resize=function(t){var n=0|t;if(n!==s.width){h.width=s.width=n,h.height=s.height=n,xt(s);for(var r=0;r<6;++r)for(var i=0;s.mipmask>>i;++i)e.texImage2D(34069+r,i,s.format,n>>i,n>>i,0,s.format,s.type,null);return wt(),f.profile&&(s.stats.size=_t(s.internalformat,s.type,h.width,h.height,!1,!0)),h}},h._reglType="textureCube",h._texture=s,f.profile&&(h.stats=s.stats),h.destroy=function(){s.decRef()},h},clear:function(){for(var t=0;t<ct;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),st[t]=null;L(it).forEach(Mt),u.cubeCount=0,u.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<ct;++t){var n=st[t];n&&(n.bindCount=0,n.unit=-1,st[t]=null)}L(it).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!=(t.mipmask&1<<n))if(3553===t.target)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);Q(t.texInfo,t.target)}))}}}lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var wt=[];function Mt(t,n,e){return wt[t]*n*e}wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[33189]=2,wt[36168]=1,wt[34041]=4,wt[35907]=4,wt[34836]=16,wt[34842]=8,wt[34843]=6;var At=[6407,6408],Et=[];Et[6408]=4,Et[6407]=3;var Tt=[];Tt[5121]=1,Tt[5126]=4,Tt[36193]=2;var St=[32854,32855,36194,35907,34842,34843,34836],kt={};function Ct(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function zt(n,e,r,i,o,a,u){function f(f){var c;null===e.next?(_(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=5121):(_(null!==e.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=e.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(_(5121===c||5126===c,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===c&&_(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(5121===c,"Reading from a framebuffer is only allowed for the type 'uint8'"));var s=0,l=0,h=i.framebufferWidth,d=i.framebufferHeight,p=null;t(f)?p=f:f&&(_.type(f,"object","invalid arguments to regl.read()"),s=0|f.x,l=0|f.y,_(s>=0&&s<i.framebufferWidth,"invalid x offset for regl.read"),_(l>=0&&l<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(f.width||i.framebufferWidth-s),d=0|(f.height||i.framebufferHeight-l),p=f.data||null),p&&(5121===c?_(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===c&&_(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(h>0&&h+s<=i.framebufferWidth,"invalid width for read pixels"),_(d>0&&d+l<=i.framebufferHeight,"invalid height for read pixels"),r();var v=h*d*4;return p||(5121===c?p=new Uint8Array(v):5126===c&&(p=p||new Float32Array(v))),_.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),_(p.byteLength>=v,"data buffer for regl.read() too small"),n.pixelStorei(3333,4),n.readPixels(s,l,h,d,6408,c,p),p}return function(t){return t&&"framebuffer"in t?function(t){var n;return e.setFBO({framebuffer:t.framebuffer},(function(){n=f(t)})),n}(t):f(t)}}function Ot(t){return Array.prototype.slice.call(t)}function Nt(t){return Ot(t).join("")}kt[36053]="complete",kt[36054]="incomplete attachment",kt[36057]="incomplete dimensions",kt[36055]="incomplete, missing attachment",kt[36061]="unsupported";var Dt="xyzw".split(""),Pt="profile",jt="framebuffer",Lt="vert",Rt="frag",Bt="elements",Ft="primitive",It="count",Ut="offset",qt="instances",Yt=jt+"Width",Wt=jt+"Height",Ht=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Gt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vt=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Xt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},$t={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Qt={frag:35632,vert:35633},Zt={cw:2304,ccw:2305};function Kt(n){return Array.isArray(n)||t(n)||j(n)}function Jt(t){return t.sort((function(t,n){return"viewport"===t?-1:"viewport"===n?1:t<n?-1:1}))}function tn(t,n,e,r){this.thisDep=t,this.contextDep=n,this.propDep=e,this.append=r}function nn(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function en(t){return new tn(!1,!1,!1,t)}function rn(t,n){var e=t.type;if(0===e){var r=t.data.length;return new tn(!0,r>=1,r>=2,n)}if(4===e){var i=t.data;return new tn(i.thisDep,i.contextDep,i.propDep,n)}return new tn(3===e,2===e,1===e,n)}var on=new tn(!1,!1,!1,(function(){}));function an(t,e,r,i,o,a,u,f,c,s,l,h,d,p,v){var m=s.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=32775,g.max=32776);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:v.profile},w={},M=[],A={},T={};function S(t){return t.replace(".","_")}function k(t,n,e){var r=S(t);M.push(t),w[r]=x[r]=!!e,A[r]=n}function C(t,n,e){var r=S(t);M.push(t),Array.isArray(e)?(x[r]=e.slice(),w[r]=e.slice()):x[r]=w[r]=e,T[r]=n}k("dither",3024),k("blend.enable",3042),C("blend.color","blendColor",[0,0,0,0]),C("blend.equation","blendEquationSeparate",[32774,32774]),C("blend.func","blendFuncSeparate",[1,0,1,0]),k("depth.enable",2929,!0),C("depth.func","depthFunc",513),C("depth.range","depthRange",[0,1]),C("depth.mask","depthMask",!0),C("colorMask","colorMask",[!0,!0,!0,!0]),k("cull.enable",2884),C("cull.face","cullFace",1029),C("frontFace","frontFace",2305),C("lineWidth","lineWidth",1),k("polygonOffset.enable",32823),C("polygonOffset.offset","polygonOffset",[0,0]),k("sample.alpha",32926),k("sample.enable",32928),C("sample.coverage","sampleCoverage",[1,!1]),k("stencil.enable",2960),C("stencil.mask","stencilMask",-1),C("stencil.func","stencilFunc",[519,0,-1]),C("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),C("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),k("scissor.enable",3089),C("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),C("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var z={gl:t,context:d,strings:e,next:w,current:x,draw:h,elements:a,buffer:o,shader:l,attributes:s.state,uniforms:c,framebuffer:f,extensions:r,timer:p,isBufferArgs:Kt},N={primTypes:X,compareFuncs:Xt,blendFuncs:Gt,blendEquations:g,stencilOps:$t,glTypes:I,orientationType:Zt};_.optional((function(){z.isArrayLike=K})),b&&(N.backBuffer=[1029],N.drawBuffer=O(i.maxDrawbuffers,(function(t){return 0===t?[0]:O(t,(function(t){return 36064+t}))})));var D=0;function P(){var t=function(){var t=0,e=[],r=[];function i(){var e=[],r=[];return n((function(){e.push.apply(e,Ot(arguments))}),{def:function(){var n="v"+t++;return r.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,Ot(arguments)),e.push(";")),n},toString:function(){return Nt([r.length>0?"var "+r.join(",")+";":"",Nt(e)])}})}function o(){var t=i(),e=i(),r=t.toString,o=e.toString;function a(n,r){e(n,r,"=",t.def(n,r),";")}return n((function(){t.apply(t,Ot(arguments))}),{def:t.def,entry:t,exit:e,save:a,set:function(n,e,r){a(n,e),t(n,e,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),u={};return{global:a,link:function(n){for(var i=0;i<r.length;++i)if(r[i]===n)return e[i];var o="g"+t++;return e.push(o),r.push(n),o},block:i,proc:function(t,e){var r=[];function i(){var t="a"+r.length;return r.push(t),t}e=e||0;for(var a=0;a<e;++a)i();var f=o(),c=f.toString;return u[t]=n(f,{arg:i,toString:function(){return Nt(["function(",r.join(),"){",c(),"}"])}})},scope:o,cond:function(){var t=Nt(arguments),e=o(),r=o(),i=e.toString,a=r.toString;return n(e,{then:function(){return e.apply(e,Ot(arguments)),this},else:function(){return r.apply(r,Ot(arguments)),this},toString:function(){var n=a();return n&&(n="else{"+n+"}"),Nt(["if(",t,"){",i(),"}",n])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(u).forEach((function(n){t.push('"',n,'":',u[n].toString(),",")})),t.push("}");var n=Nt(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,e.concat(n)).apply(null,r)}}}(),r=t.link,i=t.global;t.id=D++,t.batchId="0";var o=r(z),a=t.shared={props:"a0"};Object.keys(z).forEach((function(t){a[t]=i.def(o,".",t)})),_.optional((function(){t.CHECK=r(_),t.commandStr=_.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,n,e){t("if(!(",n,"))",this.CHECK,".commandRaise(",r(e),",",this.command,");")},N.invalidBlendCombinations=Vt}));var u=t.next={},f=t.current={};Object.keys(T).forEach((function(t){Array.isArray(x[t])&&(u[t]=i.def(a.next,".",t),f[t]=i.def(a.current,".",t))}));var c=t.constants={};Object.keys(N).forEach((function(t){c[t]=i.def(JSON.stringify(N[t]))})),t.invoke=function(n,e){switch(e.type){case 0:var i=["this",a.context,a.props,t.batchId];return n.def(r(e.data),".call(",i.slice(0,Math.max(e.data.length+1,4)),")");case 1:return n.def(a.props,e.data);case 2:return n.def(a.context,e.data);case 3:return n.def("this",e.data);case 4:return e.data.append(t,n),e.data.ref}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var n=e.id(t);if(n in l)return l[n];var i=s.scope[n];return i||(i=s.scope[n]=new m),l[n]=r(i)},t}function j(t,n,r,u,c){var s=t.static,h=t.dynamic;_.optional((function(){var t=[jt,Lt,Rt,Bt,Ft,Ut,It,qt,Pt].concat(M);function n(n){Object.keys(n).forEach((function(n){_.command(t.indexOf(n)>=0,'unknown parameter "'+n+'"',c.commandStr)}))}n(s),n(h)}));var d=function(t,n){var e=t.static,r=t.dynamic;if(jt in e){var i=e[jt];return i?(i=f.getFramebuffer(i),_.command(i,"invalid framebuffer object"),en((function(t,n){var e=t.link(i),r=t.shared;n.set(r.framebuffer,".next",e);var o=r.context;return n.set(o,"."+Yt,e+".width"),n.set(o,"."+Wt,e+".height"),e}))):en((function(t,n){var e=t.shared;n.set(e.framebuffer,".next","null");var r=e.context;return n.set(r,"."+Yt,r+".drawingBufferWidth"),n.set(r,"."+Wt,r+".drawingBufferHeight"),"null"}))}if(jt in r){var o=r[jt];return rn(o,(function(t,n){var e=t.invoke(n,o),r=t.shared,i=r.framebuffer,a=n.def(i,".getFramebuffer(",e,")");_.optional((function(){t.assert(n,"!"+e+"||"+a,"invalid framebuffer object")})),n.set(i,".next",a);var u=r.context;return n.set(u,"."+Yt,a+"?"+a+".width:"+u+".drawingBufferWidth"),n.set(u,"."+Wt,a+"?"+a+".height:"+u+".drawingBufferHeight"),a}))}return null}(t),p=function(t,n,e){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];_.commandType(o,"object","invalid "+t,e.commandStr);var a,u,f=!0,c=0|o.x,s=0|o.y;return"width"in o?(a=0|o.width,_.command(a>=0,"invalid "+t,e.commandStr)):f=!1,"height"in o?(u=0|o.height,_.command(u>=0,"invalid "+t,e.commandStr)):f=!1,new tn(!f&&n&&n.thisDep,!f&&n&&n.contextDep,!f&&n&&n.propDep,(function(t,n){var e=t.shared.context,r=a;"width"in o||(r=n.def(e,".",Yt,"-",c));var i=u;return"height"in o||(i=n.def(e,".",Wt,"-",s)),[c,s,r,i]}))}if(t in i){var l=i[t],h=rn(l,(function(n,e){var r=n.invoke(e,l);_.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=n.shared.context,o=e.def(r,".x|0"),a=e.def(r,".y|0"),u=e.def('"width" in ',r,"?",r,".width|0:","(",i,".",Yt,"-",o,")"),f=e.def('"height" in ',r,"?",r,".height|0:","(",i,".",Wt,"-",a,")");return _.optional((function(){n.assert(e,u+">=0&&"+f+">=0","invalid "+t)})),[o,a,u,f]}));return n&&(h.thisDep=h.thisDep||n.thisDep,h.contextDep=h.contextDep||n.contextDep,h.propDep=h.propDep||n.propDep),h}return n?new tn(n.thisDep,n.contextDep,n.propDep,(function(t,n){var e=t.shared.context;return[0,0,n.def(e,".",Yt),n.def(e,".",Wt)]})):null}var a=o("viewport");if(a){var u=a;a=new tn(a.thisDep,a.contextDep,a.propDep,(function(t,n){var e=u.append(t,n),r=t.shared.context;return n.set(r,".viewportWidth",e[2]),n.set(r,".viewportHeight",e[3]),e}))}return{viewport:a,scissor_box:o("scissor.box")}}(t,d,c),v=function(t,n){var e=t.static,r=t.dynamic,i=function(){if(Bt in e){var t=e[Bt];Kt(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),_.command(t,"invalid elements",n.commandStr));var i=en((function(n,e){if(t){var r=n.link(t);return n.ELEMENTS=r,r}return n.ELEMENTS=null,null}));return i.value=t,i}if(Bt in r){var o=r[Bt];return rn(o,(function(t,n){var e=t.shared,r=e.isBufferArgs,i=e.elements,a=t.invoke(n,o),u=n.def("null"),f=n.def(r,"(",a,")"),c=t.cond(f).then(u,"=",i,".createStream(",a,");").else(u,"=",i,".getElements(",a,");");return _.optional((function(){t.assert(c.else,"!"+a+"||"+u,"invalid elements")})),n.entry(c),n.exit(t.cond(f).then(i,".destroyStream(",u,");")),t.ELEMENTS=u,u}))}return null}();function o(t,o){if(t in e){var a=0|e[t];return _.command(!o||a>=0,"invalid "+t,n.commandStr),en((function(t,n){return o&&(t.OFFSET=a),a}))}if(t in r){var u=r[t];return rn(u,(function(n,e){var r=n.invoke(e,u);return o&&(n.OFFSET=r,_.optional((function(){n.assert(e,r+">=0","invalid "+t)}))),r}))}return o&&i?en((function(t,n){return t.OFFSET="0",0})):null}var u=o(Ut,!0);return{elements:i,primitive:function(){if(Ft in e){var t=e[Ft];return _.commandParameter(t,X,"invalid primitve",n.commandStr),en((function(n,e){return X[t]}))}if(Ft in r){var o=r[Ft];return rn(o,(function(t,n){var e=t.constants.primTypes,r=t.invoke(n,o);return _.optional((function(){t.assert(n,r+" in "+e,"invalid primitive, must be one of "+Object.keys(X))})),n.def(e,"[",r,"]")}))}return i?nn(i)?i.value?en((function(t,n){return n.def(t.ELEMENTS,".primType")})):en((function(){return 4})):new tn(i.thisDep,i.contextDep,i.propDep,(function(t,n){var e=t.ELEMENTS;return n.def(e,"?",e,".primType:",4)})):null}(),count:function(){if(It in e){var t=0|e[It];return _.command("number"==typeof t&&t>=0,"invalid vertex count",n.commandStr),en((function(){return t}))}if(It in r){var o=r[It];return rn(o,(function(t,n){var e=t.invoke(n,o);return _.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">=0&&"+e+"===("+e+"|0)","invalid vertex count")})),e}))}if(i){if(nn(i)){if(i)return u?new tn(u.thisDep,u.contextDep,u.propDep,(function(t,n){var e=n.def(t.ELEMENTS,".vertCount-",t.OFFSET);return _.optional((function(){t.assert(n,e+">=0","invalid vertex offset/element buffer too small")})),e})):en((function(t,n){return n.def(t.ELEMENTS,".vertCount")}));var a=en((function(){return-1}));return _.optional((function(){a.MISSING=!0})),a}var f=new tn(i.thisDep||u.thisDep,i.contextDep||u.contextDep,i.propDep||u.propDep,(function(t,n){var e=t.ELEMENTS;return t.OFFSET?n.def(e,"?",e,".vertCount-",t.OFFSET,":-1"):n.def(e,"?",e,".vertCount:-1")}));return _.optional((function(){f.DYNAMIC=!0})),f}return null}(),instances:o(qt,!1),offset:u}}(t,c),b=function(t,n){var e=t.static,r=t.dynamic,o={};return M.forEach((function(t){var a=S(t);function u(n,i){if(t in e){var u=n(e[t]);o[a]=en((function(){return u}))}else if(t in r){var f=r[t];o[a]=rn(f,(function(t,n){return i(t,n,t.invoke(n,f))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return u((function(e){return _.commandType(e,"boolean",t,n.commandStr),e}),(function(n,e,r){return _.optional((function(){n.assert(e,"typeof "+r+'==="boolean"',"invalid flag "+t,n.commandStr)})),r}));case"depth.func":return u((function(e){return _.commandParameter(e,Xt,"invalid "+t,n.commandStr),Xt[e]}),(function(n,e,r){var i=n.constants.compareFuncs;return _.optional((function(){n.assert(e,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(Xt))})),e.def(i,"[",r,"]")}));case"depth.range":return u((function(t){return _.command(K(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",n.commandStr),t}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===2&&typeof "+e+'[0]==="number"&&typeof '+e+'[1]==="number"&&'+e+"[0]<="+e+"[1]","depth range must be a 2d array")})),[n.def("+",e,"[0]"),n.def("+",e,"[1]")]}));case"blend.func":return u((function(t){_.commandType(t,"object","blend.func",n.commandStr);var e="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return _.commandParameter(e,Gt,a+".srcRGB",n.commandStr),_.commandParameter(r,Gt,a+".srcAlpha",n.commandStr),_.commandParameter(i,Gt,a+".dstRGB",n.commandStr),_.commandParameter(o,Gt,a+".dstAlpha",n.commandStr),_.command(-1===Vt.indexOf(e+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+i+")",n.commandStr),[Gt[e],Gt[i],Gt[r],Gt[o]]}),(function(n,e,r){var i=n.constants.blendFuncs;function o(o,a){var u=e.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return _.optional((function(){n.assert(e,u+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys(Gt))})),u}_.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),u=o("dst","RGB");_.optional((function(){var t=n.constants.invalidBlendCombinations;n.assert(e,t+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var f=e.def(i,"[",a,"]"),c=e.def(i,"[",o("src","Alpha"),"]");return[f,e.def(i,"[",u,"]"),c,e.def(i,"[",o("dst","Alpha"),"]")]}));case"blend.equation":return u((function(e){return"string"==typeof e?(_.commandParameter(e,g,"invalid "+t,n.commandStr),[g[e],g[e]]):"object"==typeof e?(_.commandParameter(e.rgb,g,t+".rgb",n.commandStr),_.commandParameter(e.alpha,g,t+".alpha",n.commandStr),[g[e.rgb],g[e.alpha]]):void _.commandRaise("invalid blend.equation",n.commandStr)}),(function(n,e,r){var i=n.constants.blendEquations,o=e.def(),a=e.def(),u=n.cond("typeof ",r,'==="string"');return _.optional((function(){function e(t,e,r){n.assert(t,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(g))}e(u.then,t,r),n.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+t),e(u.else,t+".rgb",r+".rgb"),e(u.else,t+".alpha",r+".alpha")})),u.then(o,"=",a,"=",i,"[",r,"];"),u.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),e(u),[o,a]}));case"blend.color":return u((function(t){return _.command(K(t)&&4===t.length,"blend.color must be a 4d array",n.commandStr),O(4,(function(n){return+t[n]}))}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","blend.color must be a 4d array")})),O(4,(function(t){return n.def("+",e,"[",t,"]")}))}));case"stencil.mask":return u((function(t){return _.commandType(t,"number",a,n.commandStr),0|t}),(function(t,n,e){return _.optional((function(){t.assert(n,"typeof "+e+'==="number"',"invalid stencil.mask")})),n.def(e,"|0")}));case"stencil.func":return u((function(e){_.commandType(e,"object",a,n.commandStr);var r=e.cmp||"keep",i=e.ref||0,o="mask"in e?e.mask:-1;return _.commandParameter(r,Xt,t+".cmp",n.commandStr),_.commandType(i,"number",t+".ref",n.commandStr),_.commandType(o,"number",t+".mask",n.commandStr),[Xt[r],i,o]}),(function(t,n,e){var r=t.constants.compareFuncs;return _.optional((function(){function i(){t.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(e+"&&typeof ",e,'==="object"'),i('!("cmp" in ',e,")||(",e,".cmp in ",r,")")})),[n.def('"cmp" in ',e,"?",r,"[",e,".cmp]",":",7680),n.def(e,".ref|0"),n.def('"mask" in ',e,"?",e,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return u((function(e){_.commandType(e,"object",a,n.commandStr);var r=e.fail||"keep",i=e.zfail||"keep",o=e.zpass||"keep";return _.commandParameter(r,$t,t+".fail",n.commandStr),_.commandParameter(i,$t,t+".zfail",n.commandStr),_.commandParameter(o,$t,t+".zpass",n.commandStr),["stencil.opBack"===t?1029:1028,$t[r],$t[i],$t[o]]}),(function(n,e,r){var i=n.constants.stencilOps;function o(o){return _.optional((function(){n.assert(e,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys($t))})),e.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",7680)}return _.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,o("fail"),o("zfail"),o("zpass")]}));case"polygonOffset.offset":return u((function(t){_.commandType(t,"object",a,n.commandStr);var e=0|t.factor,r=0|t.units;return _.commandType(e,"number",a+".factor",n.commandStr),_.commandType(r,"number",a+".units",n.commandStr),[e,r]}),(function(n,e,r){return _.optional((function(){n.assert(e,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[e.def(r,".factor|0"),e.def(r,".units|0")]}));case"cull.face":return u((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),_.command(!!e,a,n.commandStr),e}),(function(t,n,e){return _.optional((function(){t.assert(n,e+'==="front"||'+e+'==="back"',"invalid cull.face")})),n.def(e,'==="front"?',1028,":",1029)}));case"lineWidth":return u((function(t){return _.command("number"==typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],n.commandStr),t}),(function(t,n,e){return _.optional((function(){t.assert(n,"typeof "+e+'==="number"&&'+e+">="+i.lineWidthDims[0]+"&&"+e+"<="+i.lineWidthDims[1],"invalid line width")})),e}));case"frontFace":return u((function(t){return _.commandParameter(t,Zt,a,n.commandStr),Zt[t]}),(function(t,n,e){return _.optional((function(){t.assert(n,e+'==="cw"||'+e+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),n.def(e+'==="cw"?2304:2305')}));case"colorMask":return u((function(t){return _.command(K(t)&&4===t.length,"color.mask must be length 4 array",n.commandStr),t.map((function(t){return!!t}))}),(function(t,n,e){return _.optional((function(){t.assert(n,t.shared.isArrayLike+"("+e+")&&"+e+".length===4","invalid color.mask")})),O(4,(function(t){return"!!"+e+"["+t+"]"}))}));case"sample.coverage":return u((function(t){_.command("object"==typeof t&&t,a,n.commandStr);var e="value"in t?t.value:1,r=!!t.invert;return _.command("number"==typeof e&&e>=0&&e<=1,"sample.coverage.value must be a number between 0 and 1",n.commandStr),[e,r]}),(function(t,n,e){return _.optional((function(){t.assert(n,e+"&&typeof "+e+'==="object"',"invalid sample.coverage")})),[n.def('"value" in ',e,"?+",e,".value:1"),n.def("!!",e,".invert")]}))}})),o}(t,c),x=function(t){var n=t.static,r=t.dynamic;function i(t){if(t in n){var i=e.id(n[t]);_.optional((function(){l.shader(Qt[t],i,_.guessCommand())}));var o=en((function(){return i}));return o.id=i,o}if(t in r){var a=r[t];return rn(a,(function(n,e){var r=n.invoke(e,a),i=e.def(n.shared.strings,".id(",r,")");return _.optional((function(){e(n.shared.shader,".shader(",Qt[t],",",i,",",n.command,");")})),i}))}return null}var o,a=i(Rt),u=i(Lt),f=null;return nn(a)&&nn(u)?(f=l.program(u.id,a.id),o=en((function(t,n){return t.link(f)}))):o=new tn(a&&a.thisDep||u&&u.thisDep,a&&a.contextDep||u&&u.contextDep,a&&a.propDep||u&&u.propDep,(function(t,n){var e,r=t.shared.shader;e=a?a.append(t,n):n.def(r,".",Rt);var i=r+".program("+(u?u.append(t,n):n.def(r,".",Lt))+","+e;return _.optional((function(){i+=","+t.command})),n.def(i+")")})),{frag:a,vert:u,progVar:o,program:f}}(t);function w(t){var n=p[t];n&&(b[t]=n)}w("viewport"),w(S("scissor.box"));var A=Object.keys(b).length>0,E={framebuffer:d,draw:v,shader:x,state:b,dirty:A};return E.profile=function(t){var n,e=t.static,r=t.dynamic;if(Pt in e){var i=!!e[Pt];(n=en((function(t,n){return i}))).enable=i}else if(Pt in r){var o=r[Pt];n=rn(o,(function(t,n){return t.invoke(n,o)}))}return n}(t),E.uniforms=function(t,n){var e=t.static,r=t.dynamic,i={};return Object.keys(e).forEach((function(t){var r,o=e[t];if("number"==typeof o||"boolean"==typeof o)r=en((function(){return o}));else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=en((function(t){return t.link(o)})):"framebuffer"===a||"framebufferCube"===a?(_.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',n.commandStr),r=en((function(t){return t.link(o.color[0])}))):_.commandRaise('invalid data for uniform "'+t+'"',n.commandStr)}else K(o)?r=en((function(n){return n.global.def("[",O(o.length,(function(e){return _.command("number"==typeof o[e]||"boolean"==typeof o[e],"invalid uniform "+t,n.commandStr),o[e]})),"]")})):_.commandRaise('invalid or missing data for uniform "'+t+'"',n.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var n=r[t];i[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),i}(r,c),E.attributes=function(t,n){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach((function(t){var i=r[t],u=e.id(t),f=new m;if(Kt(i))f.state=1,f.buffer=o.getBuffer(o.create(i,34962,!1,!0)),f.type=0;else{var c=o.getBuffer(i);if(c)f.state=1,f.buffer=c,f.type=0;else if(_.command("object"==typeof i&&i,"invalid data for attribute "+t,n.commandStr),"constant"in i){var s=i.constant;f.buffer="null",f.state=2,"number"==typeof s?f.x=s:(_.command(K(s)&&s.length>0&&s.length<=4,"invalid constant for attribute "+t,n.commandStr),Dt.forEach((function(t,n){n<s.length&&(f[t]=s[n])})))}else{c=Kt(i.buffer)?o.getBuffer(o.create(i.buffer,34962,!1,!0)):o.getBuffer(i.buffer),_.command(!!c,'missing buffer for attribute "'+t+'"',n.commandStr);var l=0|i.offset;_.command(l>=0,'invalid offset for attribute "'+t+'"',n.commandStr);var h=0|i.stride;_.command(h>=0&&h<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',n.commandStr);var d=0|i.size;_.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',n.commandStr);var p=!!i.normalized,v=0;"type"in i&&(_.commandParameter(i.type,I,"invalid type for attribute "+t,n.commandStr),v=I[i.type]);var g=0|i.divisor;"divisor"in i&&(_.command(0===g||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',n.commandStr),_.command(g>=0,'invalid divisor for attribute "'+t+'"',n.commandStr)),_.optional((function(){var e=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){_.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",e)}))})),f.buffer=c,f.state=1,f.size=d,f.normalized=p,f.type=v||c.dtype,f.offset=l,f.stride=h,f.divisor=g}}a[t]=en((function(t,n){var e=t.attribCache;if(u in e)return e[u];var r={isStream:!1};return Object.keys(f).forEach((function(t){r[t]=f[t]})),f.buffer&&(r.buffer=t.link(f.buffer),r.type=r.type||r.buffer+".dtype"),e[u]=r,r}))})),Object.keys(i).forEach((function(t){var n=i[t];a[t]=rn(n,(function(e,r){var i=e.invoke(r,n),o=e.shared,a=e.constants,u=o.isBufferArgs,f=o.buffer;_.optional((function(){e.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+f+".getBuffer("+i+")||"+f+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var c={isStream:r.def(!1)},s=new m;s.state=1,Object.keys(s).forEach((function(t){c[t]=r.def(""+s[t])}));var l=c.buffer,h=c.type;function d(t){r(c[t],"=",i,".",t,"|0;")}return r("if(",u,"(",i,")){",c.isStream,"=true;",l,"=",f,".createStream(",34962,",",i,");",h,"=",l,".dtype;","}else{",l,"=",f,".getBuffer(",i,");","if(",l,"){",h,"=",l,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",2,";","if(typeof "+i+'.constant === "number"){',c[Dt[0]],"=",i,".constant;",Dt.slice(1).map((function(t){return c[t]})).join("="),"=0;","}else{",Dt.map((function(t,n){return c[t]+"="+i+".constant.length>"+n+"?"+i+".constant["+n+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",l,"=",f,".createStream(",34962,",",i,".buffer);","}else{",l,"=",f,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",l,".dtype;",c.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",f,".destroyStream(",l,");","}"),c}))})),a}(n,c),E.context=function(t){var n=t.static,e=t.dynamic,r={};return Object.keys(n).forEach((function(t){var e=n[t];r[t]=en((function(t,n){return"number"==typeof e||"boolean"==typeof e?""+e:t.link(e)}))})),Object.keys(e).forEach((function(t){var n=e[t];r[t]=rn(n,(function(t,e){return t.invoke(e,n)}))})),r}(u),E}function L(t,n,e){var r=t.shared.context,i=t.scope();Object.keys(e).forEach((function(o){n.save(r,"."+o);var a=e[o];i(r,".",o,"=",a.append(t,n),";")})),n(i)}function R(t,n,e,r){var i,o=t.shared,a=o.gl,u=o.framebuffer;b&&(i=n.def(o.extensions,".webgl_draw_buffers"));var f,c=t.constants,s=c.drawBuffer,l=c.backBuffer;f=e?e.append(t,n):n.def(u,".next"),r||n("if(",f,"!==",u,".cur){"),n("if(",f,"){",a,".bindFramebuffer(",36160,",",f,".framebuffer);"),b&&n(i,".drawBuffersWEBGL(",s,"[",f,".colorAttachments.length]);"),n("}else{",a,".bindFramebuffer(",36160,",null);"),b&&n(i,".drawBuffersWEBGL(",l,");"),n("}",u,".cur=",f,";"),r||n("}")}function B(t,n,e){var r=t.shared,i=r.gl,o=t.current,a=t.next,u=r.current,f=r.next,c=t.cond(u,".dirty");M.forEach((function(n){var r,s,l=S(n);if(!(l in e.state))if(l in a){r=a[l],s=o[l];var h=O(x[l].length,(function(t){return c.def(r,"[",t,"]")}));c(t.cond(h.map((function(t,n){return t+"!=="+s+"["+n+"]"})).join("||")).then(i,".",T[l],"(",h,");",h.map((function(t,n){return s+"["+n+"]="+t})).join(";"),";"))}else{r=c.def(f,".",l);var d=t.cond(r,"!==",u,".",l);c(d),l in A?d(t.cond(r).then(i,".enable(",A[l],");").else(i,".disable(",A[l],");"),u,".",l,"=",r,";"):d(i,".",T[l],"(",r,");",u,".",l,"=",r,";")}})),0===Object.keys(e.state).length&&c(u,".dirty=false;"),n(c)}function F(t,n,e,r){var i=t.shared,o=t.current,a=i.current,u=i.gl;Jt(Object.keys(e)).forEach((function(i){var f=e[i];if(!r||r(f)){var c=f.append(t,n);if(A[i]){var s=A[i];nn(f)?n(u,c?".enable(":".disable(",s,");"):n(t.cond(c).then(u,".enable(",s,");").else(u,".disable(",s,");")),n(a,".",i,"=",c,";")}else if(K(c)){var l=o[i];n(u,".",T[i],"(",c,");",c.map((function(t,n){return l+"["+n+"]="+t})).join(";"),";")}else n(u,".",T[i],"(",c,");",a,".",i,"=",c,";")}}))}function U(t,n){y&&(t.instancing=n.def(t.shared.extensions,".angle_instanced_arrays"))}function q(t,n,e,r,i){var o,a,u,f=t.shared,c=t.stats,s=f.current,l=f.timer,h=e.profile;function d(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function v(t){t(o=n.def(),"=",d(),";"),"string"==typeof i?t(c,".count+=",i,";"):t(c,".count++;"),p&&(r?t(a=n.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",c,");"))}function m(t){t(c,".cpuTime+=",d(),"-",o,";"),p&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",c,");"):t(l,".endQuery();"))}function g(t){var e=n.def(s,".profile");n(s,".profile=",t,";"),n.exit(s,".profile=",e,";")}if(h){if(nn(h))return void(h.enable?(v(n),m(n.exit),g("true")):g("false"));g(u=h.append(t,n))}else u=n.def(s,".profile");var y=t.block();v(y),n("if(",u,"){",y,"}");var b=t.block();m(b),n.exit("if(",u,"){",b,"}")}function Y(t,n,e,r,i){var o=t.shared;r.forEach((function(r){var a,u=r.name,f=e.attributes[u];if(f){if(!i(f))return;a=f.append(t,n)}else{if(!i(on))return;var c=t.scopeAttrib(u);_.optional((function(){t.assert(n,c+".state","missing attribute "+u)})),a={},Object.keys(new m).forEach((function(t){a[t]=n.def(c,".",t)}))}!function(e,r,i){var a=o.gl,u=n.def(e,".location"),f=n.def(o.attributes,"[",u,"]"),c=i.state,s=i.buffer,l=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function d(){n("if(!",f,".buffer){",a,".enableVertexAttribArray(",u,");}");var e,o=i.type;if(e=i.size?n.def(i.size,"||",r):r,n("if(",f,".type!==",o,"||",f,".size!==",e,"||",h.map((function(t){return f+"."+t+"!=="+i[t]})).join("||"),"){",a,".bindBuffer(",34962,",",s,".buffer);",a,".vertexAttribPointer(",[u,e,o,i.normalized,i.stride,i.offset],");",f,".type=",o,";",f,".size=",e,";",h.map((function(t){return f+"."+t+"="+i[t]+";"})).join(""),"}"),y){var c=i.divisor;n("if(",f,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,c],");",f,".divisor=",c,";}")}}function p(){n("if(",f,".buffer){",a,".disableVertexAttribArray(",u,");",f,".buffer=null;","}if(",Dt.map((function(t,n){return f+"."+t+"!=="+l[n]})).join("||"),"){",a,".vertexAttrib4f(",u,",",l,");",Dt.map((function(t,n){return f+"."+t+"="+l[n]+";"})).join(""),"}")}1===c?d():2===c?p():(n("if(",c,"===",1,"){"),d(),n("}else{"),p(),n("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function W(t,n,r,i,o){for(var a,u=t.shared,f=u.gl,c=0;c<i.length;++c){var s,l=i[c],h=l.name,d=l.info.type,p=r.uniforms[h],v=t.link(l)+".location";if(p){if(!o(p))continue;if(nn(p)){var m=p.value;if(_.command(null!=m,'missing uniform "'+h+'"',t.commandStr),35678===d||35680===d){_.command("function"==typeof m&&(35678===d&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||35680===d&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var g=t.link(m._texture||m.color[0]._texture);n(f,".uniform1i(",v,",",g+".bind());"),n.exit(g,".unbind();")}else if(35674===d||35675===d||35676===d){_.optional((function(){_.command(K(m),"invalid matrix for uniform "+h,t.commandStr),_.command(35674===d&&4===m.length||35675===d&&9===m.length||35676===d&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)}));var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;35675===d?b=3:35676===d&&(b=4),n(f,".uniformMatrix",b,"fv(",v,",false,",y,");")}else{switch(d){case 5126:_.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case 35664:_.command(K(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case 35665:_.command(K(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case 35666:_.command(K(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case 35670:_.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case 5124:_.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case 35671:case 35667:_.command(K(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case 35672:case 35668:_.command(K(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case 35673:case 35669:_.command(K(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}n(f,".uniform",a,"(",v,",",K(m)?Array.prototype.slice.call(m):m,");")}continue}s=p.append(t,n)}else{if(!o(on))continue;s=n.def(u.uniforms,"[",e.id(h),"]")}35678===d?n("if(",s,"&&",s,'._reglType==="framebuffer"){',s,"=",s,".color[0];","}"):35680===d&&n("if(",s,"&&",s,'._reglType==="framebufferCube"){',s,"=",s,".color[0];","}"),_.optional((function(){function e(e,r){t.assert(n,e,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){e("typeof "+s+'==="'+t+'"',"invalid type, expected "+t)}function i(n,r){e(u.isArrayLike+"("+s+")&&"+s+".length==="+n,"invalid vector, should have length "+n,t.commandStr)}function o(n){e("typeof "+s+'==="function"&&'+s+'._reglType==="texture'+(3553===n?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case 5124:r("number");break;case 35667:i(2);break;case 35668:i(3);break;case 35669:i(4);break;case 5126:r("number");break;case 35664:i(2);break;case 35665:i(3);break;case 35666:i(4);break;case 35670:r("boolean");break;case 35671:i(2);break;case 35672:i(3);break;case 35673:case 35674:i(4);break;case 35675:i(9);break;case 35676:i(16);break;case 35678:o(3553);break;case 35680:o(34067)}}));var x=1;switch(d){case 35678:case 35680:var w=n.def(s,"._texture");n(f,".uniform1i(",v,",",w,".bind());"),n.exit(w,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",x=2;break;case 35668:case 35672:a="3i",x=3;break;case 35669:case 35673:a="4i",x=4;break;case 5126:a="1f";break;case 35664:a="2f",x=2;break;case 35665:a="3f",x=3;break;case 35666:a="4f",x=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(n(f,".uniform",a,"(",v,","),"M"===a.charAt(0)){var M=Math.pow(d-35674+2,2),A=t.global.def("new Float32Array(",M,")");n("false,(Array.isArray(",s,")||",s," instanceof Float32Array)?",s,":(",O(M,(function(t){return A+"["+t+"]="+s+"["+t+"]"})),",",A,")")}else n(x>1?O(x,(function(t){return s+"["+t+"]"})):s);n(");")}}function H(t,n,e,r){var i=t.shared,o=i.gl,a=i.draw,u=r.draw,f=function(){var i,f=u.elements,c=n;return f?((f.contextDep&&r.contextDynamic||f.propDep)&&(c=e),i=f.append(t,c)):i=c.def(a,".",Bt),i&&c("if("+i+")"+o+".bindBuffer(34963,"+i+".buffer.buffer);"),i}();function c(i){var o=u[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,e):o.append(t,n):n.def(a,".",i)}var s,l,h=c(Ft),d=c(Ut),p=function(){var i,o=u.count,f=n;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(f=e),i=o.append(t,f),_.optional((function(){o.MISSING&&t.assert(n,"false","missing vertex count"),o.DYNAMIC&&t.assert(f,i+">=0","missing vertex count")}))):(i=f.def(a,".",It),_.optional((function(){t.assert(f,i+">=0","missing vertex count")}))),i}();if("number"==typeof p){if(0===p)return}else e("if(",p,"){"),e.exit("}");y&&(s=c(qt),l=t.instancing);var v=f+".type",m=u.elements&&nn(u.elements);function g(){function t(){e(l,".drawElementsInstancedANGLE(",[h,p,v,d+"<<(("+v+"-5121)>>1)",s],");")}function n(){e(l,".drawArraysInstancedANGLE(",[h,d,p,s],");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}function b(){function t(){e(o+".drawElements("+[h,p,v,d+"<<(("+v+"-5121)>>1)"]+");")}function n(){e(o+".drawArrays("+[h,d,p]+");")}f?m?t():(e("if(",f,"){"),t(),e("}else{"),n(),e("}")):n()}y&&("number"!=typeof s||s>=0)?"string"==typeof s?(e("if(",s,">0){"),g(),e("}else if(",s,"<0){"),b(),e("}")):g():b()}function G(t,n,e,r,i){var o=P(),a=o.proc("body",i);return _.optional((function(){o.commandStr=n.commandStr,o.command=o.link(n.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,e,r),o.compile().body}function V(t,n,e,r){U(t,n),Y(t,n,e,r.attributes,(function(){return!0})),W(t,n,e,r.uniforms,(function(){return!0})),H(t,n,n,e)}function $(t,n,e,r){function i(){return!0}t.batchId="a1",U(t,n),Y(t,n,e,r.attributes,i),W(t,n,e,r.uniforms,i),H(t,n,n,e)}function Q(t,n,e,r){U(t,n);var i=e.contextDep,o=n.def(),a=n.def();t.shared.props=a,t.batchId=o;var u=t.scope(),f=t.scope();function c(t){return t.contextDep&&i||t.propDep}function s(t){return!c(t)}if(n(u.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",f,"}",u.exit),e.needsContext&&L(t,f,e.context),e.needsFramebuffer&&R(t,f,e.framebuffer),F(t,f,e.state,c),e.profile&&c(e.profile)&&q(t,f,e,!1,!0),r)Y(t,u,e,r.attributes,s),Y(t,f,e,r.attributes,c),W(t,u,e,r.uniforms,s),W(t,f,e,r.uniforms,c),H(t,u,f,e);else{var l=t.global.def("{}"),h=e.shader.progVar.append(t,f),d=f.def(h,".id"),p=f.def(l,"[",d,"]");f(t.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",l,"[",d,"]=",t.link((function(n){return G($,t,e,n,2)})),"(",h,");}",p,".call(this,a0[",o,"],",o,");")}}function Z(t,n,e){var r=n.static[e];if(r&&function(t){if("object"==typeof t&&!K(t)){for(var n=Object.keys(t),e=0;e<n.length;++e)if(E.isDynamic(t[n[e]]))return!0;return!1}}(r)){var i=t.global,o=Object.keys(r),a=!1,u=!1,f=!1,c=t.global.def("{}");o.forEach((function(n){var e=r[n];if(E.isDynamic(e)){"function"==typeof e&&(e=r[n]=E.unbox(e));var o=rn(e,null);a=a||o.thisDep,f=f||o.propDep,u=u||o.contextDep}else{switch(i(c,".",n,"="),typeof e){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":Array.isArray(e)&&i("[",e.join(),"]");break;default:i(t.link(e))}i(";")}})),n.dynamic[e]=new E.DynamicVariable(4,{thisDep:a,contextDep:u,propDep:f,ref:c,append:function(t,n){o.forEach((function(e){var i=r[e];if(E.isDynamic(i)){var o=t.invoke(n,i);n(c,".",e,"=",o,";")}}))}}),delete n.static[e]}}return{next:w,current:x,procs:function(){var t=P(),n=t.proc("poll"),e=t.proc("refresh"),r=t.block();n(r),e(r);var o,a=t.shared,u=a.gl,f=a.next,c=a.current;r(c,".dirty=false;"),R(t,n),R(t,e,null,!0),y&&(o=t.link(y));for(var s=0;s<i.maxAttributes;++s){var l=e.def(a.attributes,"[",s,"]"),h=t.cond(l,".buffer");h.then(u,".enableVertexAttribArray(",s,");",u,".bindBuffer(",34962,",",l,".buffer.buffer);",u,".vertexAttribPointer(",s,",",l,".size,",l,".type,",l,".normalized,",l,".stride,",l,".offset);").else(u,".disableVertexAttribArray(",s,");",u,".vertexAttrib4f(",s,",",l,".x,",l,".y,",l,".z,",l,".w);",l,".buffer=null;"),e(h),y&&e(o,".vertexAttribDivisorANGLE(",s,",",l,".divisor);")}return Object.keys(A).forEach((function(i){var o=A[i],a=r.def(f,".",i),s=t.block();s("if(",a,"){",u,".enable(",o,")}else{",u,".disable(",o,")}",c,".",i,"=",a,";"),e(s),n("if(",a,"!==",c,".",i,"){",s,"}")})),Object.keys(T).forEach((function(i){var o,a,s=T[i],l=x[i],h=t.block();if(h(u,".",s,"("),K(l)){var d=l.length;o=t.global.def(f,".",i),a=t.global.def(c,".",i),h(O(d,(function(t){return o+"["+t+"]"})),");",O(d,(function(t){return a+"["+t+"]="+o+"["+t+"];"})).join("")),n("if(",O(d,(function(t){return o+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",h,"}")}else o=r.def(f,".",i),a=r.def(c,".",i),h(o,");",c,".",i,"=",o,";"),n("if(",o,"!==",a,"){",h,"}");e(h)})),t.compile()}(),compile:function(t,n,r,i,o){var a=P();a.stats=a.link(o),Object.keys(n.static).forEach((function(t){Z(a,n,t)})),Ht.forEach((function(n){Z(a,t,n)}));var u=j(t,n,r,i,a);return function(t,n){var e=t.proc("draw",1);U(t,e),L(t,e,n.context),R(t,e,n.framebuffer),B(t,e,n),F(t,e,n.state),q(t,e,n,!1,!0);var r=n.shader.progVar.append(t,e);if(e(t.shared.gl,".useProgram(",r,".program);"),n.shader.program)V(t,e,n,n.shader.program);else{var i=t.global.def("{}"),o=e.def(r,".id"),a=e.def(i,"[",o,"]");e(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(e){return G(V,t,n,e,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),function(t,n){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(e){var o=n.shader[e];o&&r.set(i.shader,"."+e,o.append(t,r))}L(t,r,n.context),n.framebuffer&&n.framebuffer.append(t,r),Jt(Object.keys(n.state)).forEach((function(e){var o=n.state[e].append(t,r);K(o)?o.forEach((function(n,i){r.set(t.next[e],"["+i+"]",n)})):r.set(i.next,"."+e,o)})),q(t,r,n,!0,!0),[Bt,Ut,It,qt,Ft].forEach((function(e){var o=n.draw[e];o&&r.set(i.draw,"."+e,""+o.append(t,r))})),Object.keys(n.uniforms).forEach((function(o){r.set(i.uniforms,"["+e.id(o)+"]",n.uniforms[o].append(t,r))})),Object.keys(n.attributes).forEach((function(e){var i=n.attributes[e].append(t,r),o=t.scopeAttrib(e);Object.keys(new m).forEach((function(t){r.set(o,"."+t,i[t])}))})),a(Lt),a(Rt),Object.keys(n.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(a,u),function(t,n){var e=t.proc("batch",2);t.batchId="0",U(t,e);var r=!1,i=!0;Object.keys(n.context).forEach((function(t){r=r||n.context[t].propDep})),r||(L(t,e,n.context),i=!1);var o=n.framebuffer,a=!1;function u(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||R(t,e,o)):R(t,e,null),n.state.viewport&&n.state.viewport.propDep&&(r=!0),B(t,e,n),F(t,e,n.state,(function(t){return!u(t)})),n.profile&&u(n.profile)||q(t,e,n,!1,"a1"),n.contextDep=r,n.needsContext=i,n.needsFramebuffer=a;var f=n.shader.progVar;if(f.contextDep&&r||f.propDep)Q(t,e,n,null);else{var c=f.append(t,e);if(e(t.shared.gl,".useProgram(",c,".program);"),n.shader.program)Q(t,e,n,n.shader.program);else{var s=t.global.def("{}"),l=e.def(c,".id"),h=e.def(s,"[",l,"]");e(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",s,"[",l,"]=",t.link((function(e){return G(Q,t,n,e,2)})),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(n.state).length>0&&e(t.shared.current,".dirty=true;")}(a,u),a.compile()}}}var un=function(t,n){if(!n.ext_disjoint_timer_query)return null;var e=[];function r(t){e.push(t)}var i=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(t){a.push(t)}var f=[];function c(t,n,e){var r=a.pop()||new o;r.startQueryIndex=t,r.endQueryIndex=n,r.sum=0,r.stats=e,f.push(r)}var s=[],l=[];return{beginQuery:function(t){var r=e.pop()||n.ext_disjoint_timer_query.createQueryEXT();n.ext_disjoint_timer_query.beginQueryEXT(35007,r),i.push(r),c(i.length-1,i.length,t)},endQuery:function(){n.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var t,e,o=i.length;if(0!==o){l.length=Math.max(l.length,o+1),s.length=Math.max(s.length,o+1),s[0]=0,l[0]=0;var a=0;for(t=0,e=0;e<i.length;++e){var c=i[e];n.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=n.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):i[t++]=c,s[e+1]=a,l[e+1]=t}for(i.length=t,t=0,e=0;e<f.length;++e){var h=f[e],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=s[p]-s[d];var v=l[d],m=l[p];m===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=m,f[t++]=h)}f.length=t}},getNumPendingQueries:function(){return i.length},clear:function(){e.push.apply(e,i);for(var t=0;t<e.length;t++)n.ext_disjoint_timer_query.deleteQueryEXT(e[t]);i.length=0,e.length=0},restore:function(){i.length=0,e.length=0}}};function fn(t,n){for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}return function(e){var r=z(e);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),u=function(t,n){var e={};function r(n){_.type(n,"string","extension name must be string");var r,i=n.toLowerCase();try{r=e[i]=t.getExtension(i)}catch(t){}return!!r}for(var i=0;i<n.extensions.length;++i){var o=n.extensions[i];if(!r(o))return n.onDestroy(),n.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return n.optionalExtensions.forEach(r),{extensions:e,restore:function(){Object.keys(e).forEach((function(t){if(e[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(i,r);if(!u)return null;var f,c,s=(f={"":0},c=[""],{id:function(t){var n=f[t];return n||(n=f[t]=c.length,c.push(t),n)},str:function(t){return c[t]}}),l={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},h=u.extensions,d=un(0,h),p=S(),v=i.drawingBufferWidth,m=i.drawingBufferHeight,g={tick:0,time:0,viewportWidth:v,viewportHeight:m,framebufferWidth:v,framebufferHeight:m,drawingBufferWidth:v,drawingBufferHeight:m,pixelRatio:r.pixelRatio},y=function(t,n){var e=1;n.ext_texture_filter_anisotropic&&(e=t.getParameter(34047));var r=1,i=1;n.webgl_draw_buffers&&(r=t.getParameter(34852),i=t.getParameter(36063));var o=!!n.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=t.createFramebuffer();if(t.bindFramebuffer(36160,u),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var f=P.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,f),t.getError()?o=!1:(t.deleteFramebuffer(u),t.deleteTexture(a),o=1===f[0]),P.freeType(f)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var s=t.createTexture(),l=P.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),P.freeType(l),t.bindTexture(34067,null),t.deleteTexture(s),c=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(n).filter((function(t){return!!n[t]})),maxAnisotropic:e,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:c}}(i,h),b=function(t,n,e,r){for(var i=e.maxAttributes,o=new Array(i),a=0;a<i;++a)o[a]=new Ct;return{Record:Ct,scope:{},state:o}}(0,0,y),x=function(n,e,r,i){var o=0,a={};function u(t){this.id=o++,this.buffer=n.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){n.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){l(this)};var f=[];function c(t,e,r){t.byteLength=e.byteLength,n.bufferData(t.type,e,r)}function s(n,e,r,i,o,a){var u,f;if(n.usage=r,Array.isArray(e)){if(n.dtype=i||5126,e.length>0)if(Array.isArray(e[0])){u=Y(e);for(var s=1,l=1;l<u.length;++l)s*=u[l];n.dimension=s,c(n,f=q(e,u,n.dtype),r),a?n.persistentData=f:P.freeType(f)}else if("number"==typeof e[0]){n.dimension=o;var h=P.allocType(n.dtype,e.length);G(h,e),c(n,h,r),a?n.persistentData=h:P.freeType(h)}else t(e[0])?(n.dimension=e[0].length,n.dtype=i||H(e[0])||5126,c(n,f=q(e,[e.length,e[0].length],n.dtype),r),a?n.persistentData=f:P.freeType(f)):_.raise("invalid buffer data")}else if(t(e))n.dtype=i||H(e),n.dimension=o,c(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(j(e)){u=e.shape;var d=e.stride,p=e.offset,v=0,m=0,g=0,y=0;1===u.length?(v=u[0],m=1,g=d[0],y=0):2===u.length?(v=u[0],m=u[1],g=d[0],y=d[1]):_.raise("invalid shape"),n.dtype=i||H(e.data)||5126,n.dimension=m;var b=P.allocType(n.dtype,v*m);V(b,e.data,v,m,g,y,p),c(n,b,r),a?n.persistentData=b:P.freeType(b)}else e instanceof ArrayBuffer?(n.dtype=5121,n.dimension=o,c(n,e,r),a&&(n.persistentData=new Uint8Array(new Uint8Array(e)))):_.raise("invalid buffer data")}function l(t){e.bufferCount--;for(var r=0;r<i.state.length;++r){var o=i.state[r];o.buffer===t&&(n.disableVertexAttribArray(r),o.buffer=null)}var u=t.buffer;_(u,"buffer must not be deleted already"),n.deleteBuffer(u),t.buffer=null,delete a[t.id]}return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(n){t+=a[n].stats.size})),t}),{create:function(i,o,f,c){e.bufferCount++;var h=new u(o);function d(e){var i=35044,o=null,a=0,u=0,f=1;return Array.isArray(e)||t(e)||j(e)||e instanceof ArrayBuffer?o=e:"number"==typeof e?a=0|e:e&&(_.type(e,"object","buffer arguments must be an object, a number or an array"),"data"in e&&(_(null===o||Array.isArray(o)||t(o)||j(o),"invalid data for buffer"),o=e.data),"usage"in e&&(_.parameter(e.usage,U,"invalid buffer usage"),i=U[e.usage]),"type"in e&&(_.parameter(e.type,I,"invalid buffer type"),u=I[e.type]),"dimension"in e&&(_.type(e.dimension,"number","invalid dimension"),f=0|e.dimension),"length"in e&&(_.nni(a,"buffer length must be a nonnegative integer"),a=0|e.length)),h.bind(),o?s(h,o,i,u,f,c):(a&&n.bufferData(h.type,a,i),h.dtype=u||5121,h.usage=i,h.dimension=f,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*W[h.dtype]),d}function p(t,e){_(e+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+h.byteLength),n.bufferSubData(h.type,e,t)}return a[h.id]=h,f||d(i),d._reglType="buffer",d._buffer=h,d.subdata=function(n,e){var r,i=0|(e||0);if(h.bind(),t(n)||n instanceof ArrayBuffer)p(n,i);else if(Array.isArray(n)){if(n.length>0)if("number"==typeof n[0]){var o=P.allocType(h.dtype,n.length);G(o,n),p(o,i),P.freeType(o)}else if(Array.isArray(n[0])||t(n[0])){r=Y(n);var a=q(n,r,h.dtype);p(a,i),P.freeType(a)}else _.raise("invalid buffer data")}else if(j(n)){r=n.shape;var u=n.stride,f=0,c=0,s=0,l=0;1===r.length?(f=r[0],c=1,s=u[0],l=0):2===r.length?(f=r[0],c=r[1],s=u[0],l=u[1]):_.raise("invalid shape");var v=Array.isArray(n.data)?h.dtype:H(n.data),m=P.allocType(v,f*c);V(m,n.data,f,c,s,l,n.offset),p(m,i),P.freeType(m)}else _.raise("invalid data for buffer subdata");return d},r.profile&&(d.stats=h.stats),d.destroy=function(){l(h)},d},createStream:function(t,n){var e=f.pop();return e||(e=new u(t)),e.bind(),s(e,n,35040,0,1,!1),e},destroyStream:function(t){f.push(t)},clear:function(){L(a).forEach(l),f.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof u?t._buffer:null},restore:function(){L(a).forEach((function(t){t.buffer=n.createBuffer(),n.bindBuffer(t.type,t.buffer),n.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:s}}(i,l,r,b),w=function(n,e,r,i){var o={},a=0,u={uint8:5121,uint16:5123};function f(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}e.oes_element_index_uint&&(u.uint32=5125),f.prototype.bind=function(){this.buffer.bind()};var c=[];function s(i,o,a,u,f,c,s){if(i.buffer.bind(),o){var l=s;s||t(o)&&(!j(o)||t(o.data))||(l=e.oes_element_index_uint?5125:5123),r._initBuffer(i.buffer,o,a,l,3)}else n.bufferData(34963,c,a),i.buffer.dtype=h||5121,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;var h=s;if(!s){switch(i.buffer.dtype){case 5121:case 5120:h=5121;break;case 5123:case 5122:h=5123;break;case 5125:case 5124:h=5125;break;default:_.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,_(5125!==h||!!e.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=f;d<0&&(d=i.buffer.byteLength,5123===h?d>>=1:5125===h&&(d>>=2)),i.vertCount=d;var p=u;if(u<0){p=4;var v=i.buffer.dimension;1===v&&(p=0),2===v&&(p=1),3===v&&(p=4)}i.primType=p}function l(t){i.elementsCount--,_(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(n,e){var o=r.create(null,34963,!0),a=new f(o._buffer);function c(n){if(n)if("number"==typeof n)o(n),a.primType=4,a.vertCount=0|n,a.type=5121;else{var e=null,r=35044,i=-1,f=-1,l=0,h=0;Array.isArray(n)||t(n)||j(n)?e=n:(_.type(n,"object","invalid arguments for elements"),"data"in n&&(e=n.data,_(Array.isArray(e)||t(e)||j(e),"invalid data for element buffer")),"usage"in n&&(_.parameter(n.usage,U,"invalid element buffer usage"),r=U[n.usage]),"primitive"in n&&(_.parameter(n.primitive,X,"invalid element buffer primitive"),i=X[n.primitive]),"count"in n&&(_("number"==typeof n.count&&n.count>=0,"invalid vertex count for elements"),f=0|n.count),"type"in n&&(_.parameter(n.type,u,"invalid buffer type"),h=u[n.type]),"length"in n?l=0|n.length:(l=f,5123===h||5122===h?l*=2:5125!==h&&5124!==h||(l*=4))),s(a,e,r,i,f,l,h)}else o(),a.primType=4,a.vertCount=0,a.type=5121;return c}return i.elementsCount++,c(n),c._reglType="elements",c._elements=a,c.subdata=function(t,n){return o.subdata(t,n),c},c.destroy=function(){l(a)},c},createStream:function(t){var n=c.pop();return n||(n=new f(r.create(null,34963,!0,!1)._buffer)),s(n,t,35040,-1,-1,0,0),n},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof f?t._elements:null},clear:function(){L(o).forEach(l)}}}(i,h,x,l),M=function(t,n,e,r){var i={},o={};function a(t,n,e,r){this.name=t,this.id=n,this.location=e,this.info=r}function u(t,n){for(var e=0;e<t.length;++e)if(t[e].id===n.id)return void(t[e].location=n.location);t.push(n)}function f(e,r,a){var u=35632===e?i:o,f=u[r];if(!f){var c=n.str(r);f=t.createShader(e),t.shaderSource(f,c),t.compileShader(f),_.shaderError(t,f,c,e,a),u[r]=f}return f}var c={},s=[],l=0;function h(t,n){this.id=l++,this.fragId=t,this.vertId=n,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function d(e,i){var o,c,s=f(35632,e.fragId),l=f(35633,e.vertId),h=e.program=t.createProgram();t.attachShader(h,s),t.attachShader(h,l),t.linkProgram(h),_.linkError(t,h,n.str(e.fragId),n.str(e.vertId),i);var d=t.getProgramParameter(h,35718);r.profile&&(e.stats.uniformsCount=d);var p=e.uniforms;for(o=0;o<d;++o)if(c=t.getActiveUniform(h,o))if(c.size>1)for(var v=0;v<c.size;++v){var m=c.name.replace("[0]","["+v+"]");u(p,new a(m,n.id(m),t.getUniformLocation(h,m),c))}else u(p,new a(c.name,n.id(c.name),t.getUniformLocation(h,c.name),c));var g=t.getProgramParameter(h,35721);r.profile&&(e.stats.attributesCount=g);var y=e.attributes;for(o=0;o<g;++o)(c=t.getActiveAttrib(h,o))&&u(y,new a(c.name,n.id(c.name),t.getAttribLocation(h,c.name),c))}return r.profile&&(e.getMaxUniformsCount=function(){var t=0;return s.forEach((function(n){n.stats.uniformsCount>t&&(t=n.stats.uniformsCount)})),t},e.getMaxAttributesCount=function(){var t=0;return s.forEach((function(n){n.stats.attributesCount>t&&(t=n.stats.attributesCount)})),t}),{clear:function(){var n=t.deleteShader.bind(t);L(i).forEach(n),i={},L(o).forEach(n),o={},s.forEach((function(n){t.deleteProgram(n.program)})),s.length=0,c={},e.shaderCount=0},program:function(t,n,r){_.command(t>=0,"missing vertex shader",r),_.command(n>=0,"missing fragment shader",r);var i=c[n];i||(i=c[n]={});var o=i[t];return o||(o=new h(n,t),e.shaderCount++,d(o,r),i[t]=o,s.push(o)),o},restore:function(){i={},o={};for(var t=0;t<s.length;++t)d(s[t])},shader:f,frag:-1,vert:-1}}(i,s,l,r),A=xt(i,h,y,(function(){O.procs.poll()}),g,l,r),k=function(t,n,e,r,i){var o={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};n.ext_srgb&&(o.srgba=35907),n.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),n.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach((function(t){var n=o[t];a[n]=t}));var u=0,f={};function c(t){this.id=u++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function s(n){var e=n.renderbuffer;_(e,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(e),n.renderbuffer=null,n.refCount=0,delete f[n.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&s(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(f).forEach((function(n){t+=f[n].stats.size})),t}),{create:function(n,u){var s=new c(t.createRenderbuffer());function l(n,r){var u=0,f=0,c=32854;if("object"==typeof n&&n){var h=n;if("shape"in h){var d=h.shape;_(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),u=0|d[0],f=0|d[1]}else"radius"in h&&(u=f=0|h.radius),"width"in h&&(u=0|h.width),"height"in h&&(f=0|h.height);"format"in h&&(_.parameter(h.format,o,"invalid renderbuffer format"),c=o[h.format])}else"number"==typeof n?(u=0|n,f="number"==typeof r?0|r:u):n?_.raise("invalid arguments to renderbuffer constructor"):u=f=1;if(_(u>0&&f>0&&u<=e.maxRenderbufferSize&&f<=e.maxRenderbufferSize,"invalid renderbuffer size"),u!==s.width||f!==s.height||c!==s.format)return l.width=s.width=u,l.height=s.height=f,s.format=c,t.bindRenderbuffer(36161,s.renderbuffer),t.renderbufferStorage(36161,c,u,f),_(0===t.getError(),"invalid render buffer format"),i.profile&&(s.stats.size=Mt(s.format,s.width,s.height)),l.format=a[s.format],l}return f[s.id]=s,r.renderbufferCount++,l(n,u),l.resize=function(n,r){var o=0|n,a=0|r||o;return o===s.width&&a===s.height?l:(_(o>0&&a>0&&o<=e.maxRenderbufferSize&&a<=e.maxRenderbufferSize,"invalid renderbuffer size"),l.width=s.width=o,l.height=s.height=a,t.bindRenderbuffer(36161,s.renderbuffer),t.renderbufferStorage(36161,s.format,o,a),_(0===t.getError(),"invalid render buffer format"),i.profile&&(s.stats.size=Mt(s.format,s.width,s.height)),l)},l._reglType="renderbuffer",l._renderbuffer=s,i.profile&&(l.stats=s.stats),l.destroy=function(){s.decRef()},l},clear:function(){L(f).forEach(s)},restore:function(){L(f).forEach((function(n){n.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,n.renderbuffer),t.renderbufferStorage(36161,n.format,n.width,n.height)})),t.bindRenderbuffer(36161,null)}}}(i,h,y,l,r),C=function(t,e,r,i,o,a){var u={cur:null,next:null,dirty:!1,setFBO:null},f=["rgba"],c=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&c.push("srgba"),e.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&c.push("rgba32f");var s=["uint8"];function l(t,n,e){this.target=t,this.texture=n,this.renderbuffer=e;var r=0,i=0;n?(r=n.width,i=n.height):e&&(r=e.width,i=e.height),this.width=r,this.height=i}function h(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function d(t,n,e){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);_(i===n&&o===e,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;_(a.width===n&&a.height===e,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(n,e){e&&(e.texture?t.framebufferTexture2D(36160,n,e.target,e.texture._texture.texture,0):t.framebufferRenderbuffer(36160,n,36161,e.renderbuffer._renderbuffer.renderbuffer))}function v(t){var n=3553,e=null,r=null,i=t;"object"==typeof t&&(i=t.data,"target"in t&&(n=0|t.target)),_.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(e=i,_(3553===n)):"textureCube"===o?(e=i,_(n>=34069&&n<34075,"invalid cube map target")):"renderbuffer"===o?(r=i,n=36161):_.raise("invalid regl object for attachment"),new l(n,e,r)}function m(t,n,e,r,a){if(e){var u=i.create2D({width:t,height:n,format:r,type:a});return u._texture.refCount=0,new l(3553,u,null)}var f=o.create({width:t,height:n,format:r});return f._renderbuffer.refCount=0,new l(36161,null,f)}function g(t){return t&&(t.texture||t.renderbuffer)}function y(t,n,e){t&&(t.texture?t.texture.resize(n,e):t.renderbuffer&&t.renderbuffer.resize(n,e),t.width=n,t.height=e)}e.oes_texture_half_float&&s.push("half float","float16"),e.oes_texture_float&&s.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function M(t){t.colorAttachments.forEach(h),h(t.depthAttachment),h(t.stencilAttachment),h(t.depthStencilAttachment)}function A(n){var e=n.framebuffer;_(e,"must not double destroy framebuffer"),t.deleteFramebuffer(e),n.framebuffer=null,a.framebufferCount--,delete x[n.id]}function E(n){var e;t.bindFramebuffer(36160,n.framebuffer);var i=n.colorAttachments;for(e=0;e<i.length;++e)p(36064+e,i[e]);for(e=i.length;e<r.maxColorAttachments;++e)t.framebufferTexture2D(36160,36064+e,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),p(36096,n.depthAttachment),p(36128,n.stencilAttachment),p(33306,n.depthStencilAttachment);var o=t.checkFramebufferStatus(36160);t.isContextLost()||36053===o||_.raise("framebuffer configuration not supported, status = "+kt[o]),t.bindFramebuffer(36160,u.next?u.next.framebuffer:null),u.cur=u.next,t.getError()}function T(t,i){var o=new w;function l(t,n){var i;_(u.next!==o,"can not update framebuffer which is currently in use");var a=0,h=0,p=!0,y=!0,b=null,x=!0,w="rgba",A="uint8",T=1,S=null,k=null,C=null,z=!1;if("number"==typeof t)a=0|t,h=0|n||a;else if(t){_.type(t,"object","invalid arguments for framebuffer");var O=t;if("shape"in O){var N=O.shape;_(Array.isArray(N)&&N.length>=2,"invalid shape for framebuffer"),a=N[0],h=N[1]}else"radius"in O&&(a=h=O.radius),"width"in O&&(a=O.width),"height"in O&&(h=O.height);("color"in O||"colors"in O)&&(b=O.color||O.colors,Array.isArray(b)&&_(1===b.length||e.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in O&&(T=0|O.colorCount,_(T>0,"invalid color buffer count")),"colorTexture"in O&&(x=!!O.colorTexture,w="rgba4"),"colorType"in O&&(A=O.colorType,x?(_(e.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(e.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(_(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==A&&"float32"!==A||(_(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),_.oneOf(A,s,"invalid color type")),"colorFormat"in O&&(w=O.colorFormat,f.indexOf(w)>=0?x=!0:c.indexOf(w)>=0?x=!1:x?_.oneOf(O.colorFormat,f,"invalid color format for texture"):_.oneOf(O.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in O||"depthStencilTexture"in O)&&(z=!(!O.depthTexture&&!O.depthStencilTexture),_(!z||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in O&&("boolean"==typeof O.depth?p=O.depth:(S=O.depth,y=!1)),"stencil"in O&&("boolean"==typeof O.stencil?y=O.stencil:(k=O.stencil,p=!1)),"depthStencil"in O&&("boolean"==typeof O.depthStencil?p=y=O.depthStencil:(C=O.depthStencil,p=!1,y=!1))}else a=h=1;var D=null,P=null,j=null,L=null;if(Array.isArray(b))D=b.map(v);else if(b)D=[v(b)];else for(D=new Array(T),i=0;i<T;++i)D[i]=m(a,h,x,w,A);_(e.webgl_draw_buffers||D.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(D.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||D[0].width,h=h||D[0].height,S?P=v(S):p&&!y&&(P=m(a,h,z,"depth","uint32")),k?j=v(k):y&&!p&&(j=m(a,h,!1,"stencil","uint8")),C?L=v(C):!S&&!k&&y&&p&&(L=m(a,h,z,"depth stencil","depth stencil")),_(!!S+!!k+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(i=0;i<D.length;++i)if(d(D[i],a,h),_(!D[i]||D[i].texture&&At.indexOf(D[i].texture._texture.format)>=0||D[i].renderbuffer&&St.indexOf(D[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),D[i]&&D[i].texture){var B=Et[D[i].texture._texture.format]*Tt[D[i].texture._texture.type];null===R?R=B:_(R===B,"all color attachments much have the same number of bits per pixel.")}return d(P,a,h),_(!P||P.texture&&6402===P.texture._texture.format||P.renderbuffer&&33189===P.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),d(j,a,h),_(!j||j.renderbuffer&&36168===j.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),d(L,a,h),_(!L||L.texture&&34041===L.texture._texture.format||L.renderbuffer&&34041===L.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),M(o),o.width=a,o.height=h,o.colorAttachments=D,o.depthAttachment=P,o.stencilAttachment=j,o.depthStencilAttachment=L,l.color=D.map(g),l.depth=g(P),l.stencil=g(j),l.depthStencil=g(L),l.width=o.width,l.height=o.height,E(o),l}return a.framebufferCount++,l(t,i),n(l,{resize:function(t,n){_(u.next!==o,"can not resize a framebuffer which is currently in use");var e=Math.max(0|t,1),r=Math.max(0|n||e,1);if(e===o.width&&r===o.height)return l;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],e,r);return y(o.depthAttachment,e,r),y(o.stencilAttachment,e,r),y(o.depthStencilAttachment,e,r),o.width=l.width=e,o.height=l.height=r,E(o),l},_reglType:"framebuffer",_framebuffer:o,destroy:function(){A(o),M(o)},use:function(t){u.setFBO({framebuffer:l},t)}})}return n(u,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var n=t._framebuffer;if(n instanceof w)return n}return null},create:T,createCube:function(t){var o=Array(6);function a(t){var r;_(o.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var c,l={color:null},h=0,d=null,p="rgba",v="uint8",m=1;if("number"==typeof t)h=0|t;else if(t){_.type(t,"object","invalid arguments for framebuffer");var g=t;if("shape"in g){var y=g.shape;_(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),_(y[0]===y[1],"cube framebuffer must be square"),h=y[0]}else"radius"in g&&(h=0|g.radius),"width"in g?(h=0|g.width,"height"in g&&_(g.height===h,"must be square")):"height"in g&&(h=0|g.height);("color"in g||"colors"in g)&&(d=g.color||g.colors,Array.isArray(d)&&_(1===d.length||e.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in g&&(m=0|g.colorCount,_(m>0,"invalid color buffer count")),"colorType"in g&&(_.oneOf(g.colorType,s,"invalid color type"),v=g.colorType),"colorFormat"in g&&(p=g.colorFormat,_.oneOf(g.colorFormat,f,"invalid color format for texture"))),"depth"in g&&(l.depth=g.depth),"stencil"in g&&(l.stencil=g.stencil),"depthStencil"in g&&(l.depthStencil=g.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(c=[],r=0;r<d.length;++r)c[r]=d[r];else c=[d];else{c=Array(m);var b={radius:h,format:p,type:v};for(r=0;r<m;++r)c[r]=i.createCube(b)}for(l.color=Array(c.length),r=0;r<c.length;++r){var x=c[r];_("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),h=h||x.width,_(x.width===h&&x.height===h,"invalid cube map shape"),l.color[r]={target:34069,data:c[r]}}for(r=0;r<6;++r){for(var w=0;w<c.length;++w)l.color[w].target=34069+r;r>0&&(l.depth=o[0].depth,l.stencil=o[0].stencil,l.depthStencil=o[0].depthStencil),o[r]?o[r](l):o[r]=T(l)}return n(a,{width:h,height:h,color:c})}return a(t),n(a,{faces:o,resize:function(t){var n,e=0|t;if(_(e>0&&e<=r.maxCubeMapSize,"invalid radius for cube fbo"),e===a.width)return a;var i=a.color;for(n=0;n<i.length;++n)i[n].resize(e);for(n=0;n<6;++n)o[n].resize(e);return a.width=a.height=e,a},_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})},clear:function(){L(x).forEach(A)},restore:function(){u.cur=null,u.next=null,u.dirty=!0,L(x).forEach((function(n){n.framebuffer=t.createFramebuffer(),E(n)}))}})}(i,h,y,A,k,l),O=an(i,s,h,y,x,w,0,C,{},b,M,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,d,r),N=zt(i,C,O.procs.poll,g,o,h,y),D=O.next,R=i.canvas,B=[],F=[],$=[],Q=[r.onDestroy],Z=null;function K(){if(0===B.length)return d&&d.update(),void(Z=null);Z=T.next(K),ft();for(var t=B.length-1;t>=0;--t){var n=B[t];n&&n(g,null,0)}i.flush(),d&&d.update()}function J(){!Z&&B.length>0&&(Z=T.next(K))}function tt(){Z&&(T.cancel(K),Z=null)}function nt(t){t.preventDefault(),a=!0,tt(),F.forEach((function(t){t()}))}function et(t){i.getError(),a=!1,u.restore(),M.restore(),x.restore(),A.restore(),k.restore(),C.restore(),d&&d.restore(),O.procs.refresh(),J(),$.forEach((function(t){t()}))}function rt(t){function e(t){var n={},e={};return Object.keys(t).forEach((function(r){var i=t[r];E.isDynamic(i)?e[r]=E.unbox(i,r):n[r]=i})),{dynamic:e,static:n}}_(!!t,"invalid args to regl({...})"),_.type(t,"object","invalid args to regl({...})");var r=e(t.context||{}),i=e(t.uniforms||{}),o=e(t.attributes||{}),u=e(function(t){var e=n({},t);function r(t){if(t in e){var n=e[t];delete e[t],Object.keys(n).forEach((function(r){e[t+"."+r]=n[r]}))}}return delete e.uniforms,delete e.attributes,delete e.context,"stencil"in e&&e.stencil.op&&(e.stencil.opBack=e.stencil.opFront=e.stencil.op,delete e.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),e}(t)),f={gpuTime:0,cpuTime:0,count:0},c=O.compile(u,o,i,r,f),s=c.draw,l=c.batch,h=c.scope,d=[];return n((function(t,n){var e;if(a&&_.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof n){if("number"==typeof t){for(e=0;e<t;++e)h.call(this,null,n,e);return}if(Array.isArray(t)){for(e=0;e<t.length;++e)h.call(this,t[e],n,e);return}return h.call(this,t,n,0)}if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:f})}R&&(R.addEventListener("webglcontextlost",nt,!1),R.addEventListener("webglcontextrestored",et,!1));var it=C.setFBO=rt({framebuffer:E.define.call(null,1,"framebuffer")});function ot(t,n){var e=0;O.procs.poll();var r=n.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),e|=16384),"depth"in n&&(i.clearDepth(+n.depth),e|=256),"stencil"in n&&(i.clearStencil(0|n.stencil),e|=1024),_(!!e,"called regl.clear with no buffer specified"),i.clear(e)}function at(t){return _.type(t,"function","regl.frame() callback must be a function"),B.push(t),J(),{cancel:function(){var n=fn(B,t);_(n>=0,"cannot cancel a frame twice"),B[n]=function t(){var n=fn(B,t);B[n]=B[B.length-1],B.length-=1,B.length<=0&&tt()}}}}function ut(){var t=D.viewport,n=D.scissor_box;t[0]=t[1]=n[0]=n[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=t[2]=n[2]=i.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=t[3]=n[3]=i.drawingBufferHeight}function ft(){g.tick+=1,g.time=st(),ut(),O.procs.poll()}function ct(){ut(),O.procs.refresh(),d&&d.update()}function st(){return(S()-p)/1e3}ct();var lt=n(rt,{clear:function(t){if(_("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)it(n({framebuffer:t.framebuffer.faces[e]},t),ot);else it(t,ot);else ot(0,t)},prop:E.define.bind(null,1),context:E.define.bind(null,2),this:E.define.bind(null,3),draw:rt({}),buffer:function(t){return x.create(t,34962,!1,!1)},elements:function(t){return w.create(t,!1)},texture:A.create2D,cube:A.createCube,renderbuffer:k.create,framebuffer:C.create,framebufferCube:C.createCube,attributes:o,frame:at,on:function(t,n){var e;switch(_.type(n,"function","listener callback must be a function"),t){case"frame":return at(n);case"lost":e=F;break;case"restore":e=$;break;case"destroy":e=Q;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return e.push(n),{cancel:function(){for(var t=0;t<e.length;++t)if(e[t]===n)return e[t]=e[e.length-1],void e.pop()}}},limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:N,destroy:function(){B.length=0,tt(),R&&(R.removeEventListener("webglcontextlost",nt),R.removeEventListener("webglcontextrestored",et)),M.clear(),C.clear(),k.clear(),A.clear(),w.clear(),x.clear(),d&&d.clear(),Q.forEach((function(t){t()}))},_gl:i,_refresh:ct,poll:function(){ft(),d&&d.update()},now:st,stats:l});return r.onDone(null,lt),lt}}()},function(t,n,e){"use strict";function r(t,n,e,o,a,u){if(a-o<=e)return;const f=o+a>>1;!function t(n,e,r,o,a,u){for(;a>o;){if(a-o>600){const i=a-o+1,f=r-o+1,c=Math.log(i),s=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*s*(i-s)/i)*(f-i/2<0?-1:1),h=Math.max(o,Math.floor(r-f*s/i+l)),d=Math.min(a,Math.floor(r+(i-f)*s/i+l));t(n,e,r,h,d,u)}const f=e[2*r+u];let c=o,s=a;for(i(n,e,o,r),e[2*a+u]>f&&i(n,e,o,a);c<s;){for(i(n,e,c,s),c++,s--;e[2*c+u]<f;)c++;for(;e[2*s+u]>f;)s--}e[2*o+u]===f?i(n,e,o,s):(s++,i(n,e,s,a)),s<=r&&(o=s+1),r<=s&&(a=s-1)}}(t,n,f,o,a,u%2),r(t,n,e,o,f-1,u+1),r(t,n,e,f+1,a,u+1)}function i(t,n,e,r){o(t,e,r),o(n,2*e,2*r),o(n,2*e+1,2*r+1)}function o(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function a(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}e.r(n),e.d(n,"default",(function(){return c}));const u=t=>t[0],f=t=>t[1];class c{constructor(t,n=u,e=f,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new a(t.length),s=this.coords=new o(2*t.length);for(let r=0;r<t.length;r++)c[r]=r,s[2*r]=n(t[r]),s[2*r+1]=e(t[r]);r(c,s,i,0,c.length-1,0)}range(t,n,e,r){return function(t,n,e,r,i,o,a){const u=[0,t.length-1,0],f=[];let c,s;for(;u.length;){const l=u.pop(),h=u.pop(),d=u.pop();if(h-d<=a){for(let a=d;a<=h;a++)c=n[2*a],s=n[2*a+1],c>=e&&c<=i&&s>=r&&s<=o&&f.push(t[a]);continue}const p=Math.floor((d+h)/2);c=n[2*p],s=n[2*p+1],c>=e&&c<=i&&s>=r&&s<=o&&f.push(t[p]);const v=(l+1)%2;(0===l?e<=c:r<=s)&&(u.push(d),u.push(p-1),u.push(v)),(0===l?i>=c:o>=s)&&(u.push(p+1),u.push(h),u.push(v))}return f}(this.ids,this.coords,t,n,e,r,this.nodeSize)}within(t,n,e){return function(t,n,e,r,i,o){const u=[0,t.length-1,0],f=[],c=i*i;for(;u.length;){const s=u.pop(),l=u.pop(),h=u.pop();if(l-h<=o){for(let i=h;i<=l;i++)a(n[2*i],n[2*i+1],e,r)<=c&&f.push(t[i]);continue}const d=Math.floor((h+l)/2),p=n[2*d],v=n[2*d+1];a(p,v,e,r)<=c&&f.push(t[d]);const m=(s+1)%2;(0===s?e-i<=p:r-i<=v)&&(u.push(h),u.push(d-1),u.push(m)),(0===s?e+i>=p:r+i>=v)&&(u.push(d+1),u.push(l),u.push(m))}return f}(this.ids,this.coords,t,n,e,this.nodeSize)}}}]);